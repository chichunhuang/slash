"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[985],{28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>o});var t=r(96540);const a={},s=t.createContext(a);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(s.Provider,{value:n},e.children)}},69581:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Java/Java_Zip_Chinese","title":"Java \u58d3\u7e2e\u6a94\u5167\u7684\u4e2d\u6587\u6a94\u6848\u540d\u4e82\u78bc","description":"Java is Han String","source":"@site/docs/110_Java/Java_Zip_Chinese.md","sourceDirName":"110_Java","slug":"/Java/Java_Zip_Chinese","permalink":"/docs/Java/Java_Zip_Chinese","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Java \u58d3\u7e2e\u6a94\u5167\u7684\u4e2d\u6587\u6a94\u6848\u540d\u4e82\u78bc","description":"Java is Han String","keywords":["Java","Han","String"]},"sidebar":"totem_sidebar","previous":{"title":"Java POI \u8b80\u53d6 Excel","permalink":"/docs/Java/Java_POI_Excel"},"next":{"title":"Java \u89e3\u58d3\u7e2e\u4e26\u52a0\u5bc6","permalink":"/docs/Java/Java_Zip_with_Pwd"}}');var a=r(74848),s=r(28453);const i={title:"Java \u58d3\u7e2e\u6a94\u5167\u7684\u4e2d\u6587\u6a94\u6848\u540d\u4e82\u78bc",description:"Java is Han String",keywords:["Java","Han","String"]},o=void 0,c={},l=[{value:"\u5176\u4ed6",id:"\u5176\u4ed6",level:2}];function p(e){const n={a:"a",br:"br",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["\u5047\u8a2d\u7a0b\u5f0f\u6b32\u5c07\u591a\u500b\u6a94\u6848\u6253\u5305\u6210\u4e00\u500b\u58d3\u7e2e\u6a94\uff0c",(0,a.jsx)(n.br,{}),"\n","\u5373\u4f7f\u5df2\u7528 ZipOutputStream \u7684 setEncoding \u65b9\u6cd5\u6307\u5b9a\u6a94\u540d\u548c\u6a94\u6848\u7684\u5167\u5bb9\u7de8\u78bc\u683c\u5f0f\uff0c",(0,a.jsx)(n.br,{}),"\n","\u4ecd\u9020\u6210\u58d3\u7e2e\u5167\u4e2d\u6587\u6a94\u540d\u7684\u6a94\u6848\u986f\u793a\u4e0d\u51fa\u4f86\uff0c\u6216\u6a94\u540d\u662f\u4e82\u78bc\uff0c"]}),"\n",(0,a.jsxs)(n.p,{children:["\u6b64\u6642\u50c5\u9700\u5c07 ZipOutputStream \u8207 ZipEntry \u985e\u5225\u5f9e ",(0,a.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,a.jsx)(n.strong,{children:"commons-compress.jar"})," "]})," \u63db\u6210 ",(0,a.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,a.jsx)(n.strong,{children:"apache-ant.jar"})," "]}),(0,a.jsx)(n.br,{}),"\n","\u985e\u5225\u7684\u5efa\u69cb\u5b50\u3001\u65b9\u6cd5\u3001\u5e38\u6578\u5927\u81f4\u76f8\u540c\uff0c\u4f7f\u7528\u5230\u7684\u5730\u65b9\u5e7e\u4e4e\u4e0d\u9700\u6539\u8b8a\uff0c\u53ea\u8981\u66f4\u6539 import \u7684 package"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Package \u8abf\u6574"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u6368\u68c4 ",(0,a.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,a.jsx)(n.strong,{children:"commons-compress.jar"})," "]})]}),"\n",(0,a.jsxs)(n.li,{children:["\u6539\u7528 ",(0,a.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,a.jsx)(n.strong,{children:"apache-ant.jar"})," "]})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"    //\u539f\u5148(\u4f86\u81ea\u65bccommons-compress.jar)\r\n    import org.apache.commons.compress.zip.ZipEntry;\r\n    import org.apache.commons.compress.zip.ZipOutputStream;\r\n    \r\n    //\u6539\u6210(\u4f86\u81ea\u65bcapache-ant.jar)\r\n    import org.apache.tools.zip.ZipEntry;\r\n    import org.apache.tools.zip.ZipOutputStream;\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u58d3\u7e2e\u7bc4\u4f8b"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\r\n    public byte[] zipFileExample(Project project, Encoding encoding) {\r\n        List<AttachedFile> files = new ArrayList<AttachedFile>();\r\n \r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        ZipOutputStream ziops = new ZipOutputStream(bos);\r\n        ziops.setEncoding(encoding.getValue());\r\n \r\n        try {\r\n            for (AttachedFile resource : files) {\r\n                String content = resource.getFileContent();\r\n                String fileName =  resource.getFileNameWithExtension();\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                 \r\n                formFileToOutputStream(content, baos);\r\n \r\n                ziops.setMethod(ZipOutputStream.DEFLATED);\r\n                ZipEntry zipEntry = new ZipEntry(fileName);\r\n                ziops.putNextEntry(zipEntry);\r\n \r\n                baos.writeTo(ziops);\r\n            }\r\n \r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        } finally {\r\n            IOUtils.closeQuietly(ziops);\r\n            IOUtils.closeQuietly(bos);\r\n        }\r\n \r\n        return bos.toByteArray();\r\n    }\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5176\u4ed6",children:"\u5176\u4ed6"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"../Mail/Mail_MimeUtility_Attatch_Garbled",children:"\u4fe1\u4ef6\u9644\u4ef6\u4e2d\u6587\u6a94\u540d\u4e82\u78bc"}),"\u8655\u7406\u65b9\u5f0f"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Java_Zip_with_Pwd",children:"Java \u89e3\u58d3\u7e2e\u4e26\u52a0\u5bc6"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}}}]);