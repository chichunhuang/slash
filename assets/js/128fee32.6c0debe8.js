"use strict";(self.webpackChunktool=self.webpackChunktool||[]).push([[1901],{1377:(s,r,t)=>{t.r(r),t.d(r,{assets:()=>h,contentTitle:()=>i,default:()=>x,frontMatter:()=>l,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"Python/Misc/Python_3_File_and_Dir","title":"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a","description":"Python File and Folder","source":"@site/docs/Python/05_Misc/Python_3_File_and_Dir.md","sourceDirName":"Python/05_Misc","slug":"/Python/Misc/Python_3_File_and_Dir","permalink":"/docs/Python/Misc/Python_3_File_and_Dir","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a","description":"Python File and Folder","keywords":["Python","File and Folder"]},"sidebar":"totem_sidebar","previous":{"title":"\u6253\u5305 Python \u7a0b\u5f0f\u6210\u53ef\u57f7\u884c\u6a94","permalink":"/docs/Python/Misc/Python_3_Executable"},"next":{"title":"Python ConfigParser \u89e3\u6790 ini \u6a94","permalink":"/docs/Python/Misc/Python_3_Parser_ConfigParser"}}');var e=t(4848),d=t(8453);const l={title:"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a",description:"Python File and Folder",keywords:["Python","File and Folder"]},i="Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a\u6280\u5de7",h={},o=[{value:"os.path",id:"ospath",level:2},{value:"os",id:"os",level:2},{value:"os.walk",id:"oswalk",level:2},{value:"glob",id:"glob",level:2}];function c(s){const r={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...s.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r.header,{children:(0,e.jsx)(r.h1,{id:"python-\u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a\u6280\u5de7",children:"Python \u6a94\u6848\u8207\u8cc7\u6599\u593e\u8d70\u8a2a\u6280\u5de7"})}),"\n",(0,e.jsxs)(r.blockquote,{children:["\n",(0,e.jsx)(r.p,{children:"\u9019\u908a\u50c5\u4ecb\u7d39\u76f8\u95dc\u8a9e\u6cd5\u4ee5\u53ca\u4f7f\u7528\u65b9\u5f0f\uff0c\u719f\u6089 API \u524d\u5feb\u901f\u67e5\u627e\u7528\u3002"}),"\n"]}),"\n",(0,e.jsxs)(r.ul,{children:["\n",(0,e.jsx)(r.li,{children:"file_path_str = file_object.name()"}),"\n"]}),"\n",(0,e.jsx)(r.h2,{id:"ospath",children:"os.path"}),"\n",(0,e.jsxs)(r.ul,{children:["\n",(0,e.jsx)(r.li,{children:"built-in"}),"\n"]}),"\n",(0,e.jsxs)(r.table,{children:[(0,e.jsx)(r.thead,{children:(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.th,{}),(0,e.jsx)(r.th,{children:"os.path"}),(0,e.jsx)(r.th,{})]})}),(0,e.jsxs)(r.tbody,{children:[(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u56de\u50b3 \u7d55\u5c0d\u8def\u5f91"})}),(0,e.jsx)(r.td,{children:"os.path.abspath(file_path_str)"}),(0,e.jsx)(r.td,{children:"os.path"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,e.jsx)(r.strong,{children:"\u5206\u62c6 \u8def\u5f91\u8207\u6a94\u540d"})," "]})}),(0,e.jsx)(r.td,{children:"os.path.split(file_path_str)"}),(0,e.jsx)(r.td,{children:"os.path, tuple2(path, filename)"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u56de\u50b3 \u8def\u5f91"})}),(0,e.jsx)(r.td,{children:"os.path.dirname(file_path_str)"}),(0,e.jsx)(r.td,{children:"os.path"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u56de\u50b3 \u6a94\u540d/\u8cc7\u6599\u593e\u540d"})}),(0,e.jsx)(r.td,{children:"os.path.basename(file_path_str)"}),(0,e.jsx)(r.td,{children:"os.path, \u8def\u5f91\u672b\u7aef\u4e3b\u9ad4\u540d\u7a31"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u56de\u50b3 \u5171\u540c\u8def\u5f91"})}),(0,e.jsx)(r.td,{children:"os.path.comparefix([file_path_str, file_path_str2])"}),(0,e.jsx)(r.td,{children:"os.path, \u50b3\u5165\u7684\u662f strings list"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,e.jsx)(r.strong,{children:"\u56de\u50b3 \u6a94\u6848\u6216\u8cc7\u6599\u593e\u662f\u5426\u5b58\u5728"})," "]})}),(0,e.jsx)(r.td,{children:"os.path.exists(file_path_str)"}),(0,e.jsx)(r.td,{children:"\xa0"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,e.jsx)(r.strong,{children:"\u6aa2\u67e5\u8def\u5f91\u6307\u5411\u76ee\u6a19\u662f\u5426\u70ba\u6a94\u6848"}),"_ "]})}),(0,e.jsx)(r.td,{children:"os.path.isfile(str_path)"}),(0,e.jsx)(r.td,{children:"\xa0"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,e.jsx)(r.strong,{children:"\u6aa2\u67e5\u8def\u5f91\u6307\u5411\u76ee\u6a19\u662f\u5426\u70ba\u8cc7\u6599\u593e"})," "]})}),(0,e.jsx)(r.td,{children:"os.path.isdir(str_path)"}),(0,e.jsx)(r.td,{children:"\xa0"})]})]})]}),"\n",(0,e.jsx)(r.h2,{id:"os",children:"os"}),"\n",(0,e.jsxs)(r.ul,{children:["\n",(0,e.jsx)(r.li,{children:"built-in"}),"\n"]}),"\n",(0,e.jsxs)(r.table,{children:[(0,e.jsx)(r.thead,{children:(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.th,{}),(0,e.jsx)(r.th,{children:"os"}),(0,e.jsx)(r.th,{})]})}),(0,e.jsxs)(r.tbody,{children:[(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u56de\u50b3 \u7576\u524d\u6240\u5728\u8cc7\u6599\u593e"})}),(0,e.jsx)(r.td,{children:"os.getcwd()"}),(0,e.jsx)(r.td,{children:"\xa0"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u5207\u63db\u6240\u5728\u8cc7\u6599\u593e\u6307\u6a19"})}),(0,e.jsx)(r.td,{children:"os.chdir(path_str)"}),(0,e.jsx)(r.td,{children:"\u7d55\u5c0d\u6216\u76f8\u5c0d\u4f4d\u7f6e\u8def\u5f91\u7686\u53ef\uff0c\u642d\u914d old = os.getcwd() \u56de\u5148\u524d\u4f4d\u7f6e"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u5217\u51fa\u6307\u5b9a\u8def\u5f91\u4e0b\u7684\u6a94\u6848\u8207\u8cc7\u6599\u593e"})}),(0,e.jsx)(r.td,{children:"os.listdir(path_str)"}),(0,e.jsx)(r.td,{children:"\u82e5\u672a\u63d0\u4f9b\u8def\u5f91\uff0c\u5247\u67e5\u7576\u524d\u6240\u5728\u8cc7\u6599\u593e\u5167\u7684\u72c0\u614b"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u5207\u63db\u6240\u5728\u8cc7\u6599\u593e\u6307\u6a19"})}),(0,e.jsx)(r.td,{children:"os.chdir(path_str)"}),(0,e.jsx)(r.td,{children:"\u7d55\u5c0d\u6216\u76f8\u5c0d\u4f4d\u7f6e\u8def\u5f91\u7686\u53ef\uff0c\u642d\u914d old = os.getcwd() \u56de\u5148\u524d\u4f4d\u7f6e"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u5efa\u7acb\u8cc7\u6599\u593e"})}),(0,e.jsx)(r.td,{children:"os.mkdir(path_str)"}),(0,e.jsx)(r.td,{children:"\u5efa\u7acb\u8def\u5f91\u672b\u7aef\u6307\u5b9a\u8cc7\u6599\u593e\u3002"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u5efa\u7acb\u8cc7\u6599\u593e"})}),(0,e.jsx)(r.td,{children:"os.mkdirs(path_str)"}),(0,e.jsx)(r.td,{children:"\u4f9d\u6307\u5b9a\u8def\u5f91\u5efa\u7acb\u6307\u5b9a\u8cc7\u6599\u593e\uff0c\u5305\u542b\u8def\u5f91\u4e2d\u9593\u4e0d\u5b58\u5728\u7684\u8cc7\u6599\u593e\u3002"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u79fb\u9664\u6a94\u6848"})}),(0,e.jsx)(r.td,{children:"os.remove(path_str)"}),(0,e.jsx)(r.td,{children:"\xa0"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u79fb\u9664\u8cc7\u6599\u593e"})}),(0,e.jsx)(r.td,{children:"os.removedirs(path_str)"}),(0,e.jsx)(r.td,{children:"\u79fb\u9664\u8cc7\u6599\u593e\uff0c\u5305\u542b\u6307\u5b9a\u8def\u5f91\u4e2d\u7684\u7a7a\u8cc7\u6599\u593e\u3002"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u642c\u52d5\u6a94\u6848"})}),(0,e.jsx)(r.td,{children:"os.moveto(fromPath_str, toPath_str)"}),(0,e.jsx)(r.td,{children:"\xa0"})]})]})]}),"\n",(0,e.jsx)(r.h2,{id:"oswalk",children:"os.walk"}),"\n",(0,e.jsxs)(r.ul,{children:["\n",(0,e.jsx)(r.li,{children:"built-in"}),"\n"]}),"\n",(0,e.jsxs)(r.table,{children:[(0,e.jsx)(r.thead,{children:(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.th,{}),(0,e.jsx)(r.th,{children:"os.walk"}),(0,e.jsx)(r.th,{})]})}),(0,e.jsx)(r.tbody,{children:(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u905e\u8ff4\u5411\u4e0b\u5217\u51fa\u6307\u5b9a\u8def\u5f91\u4e0b\u7684\u6a94\u6848\u8207\u8cc7\u6599\u593e"})}),(0,e.jsx)(r.td,{children:"os.walk(path_str)"}),(0,e.jsxs)(r.td,{children:["\u56de\u50b3\u7684\u662f list of tuple3(path, [dirs], [files]) ",(0,e.jsx)("br",{})," t.first: \u8cc7\u6599\u7684\u8d77\u59cb\u8def\u5f91 ",(0,e.jsx)("br",{})," t.second: t_first\u4e0b\u7684\u6240\u6709\u8cc7\u6599\u593e\u540d(str,\u4e0d\u542b\u8def\u5f91) ",(0,e.jsx)("br",{})," t.third: t_first\u4e0b\u7684\u6240\u6709\u6a94\u6848\u540d(str,\u4e0d\u542b\u8def\u5f91)"]})]})})]}),"\n",(0,e.jsx)(r.p,{children:(0,e.jsx)(r.strong,{children:"os.walk example"})}),"\n",(0,e.jsx)(r.pre,{children:(0,e.jsx)(r.code,{className:"language-python",children:"for root, dirs, files in os.walk(r'D:\\tmp'):\r\n    print('Folder: ', root)\r\n    for folder in dirs:\r\n        print(\"Folder path: \", os.path.join(root, folder))\r\n\r\n    for file in files:\r\n        print(\"File path: \", os.path.join(root, file))\n"})}),"\n",(0,e.jsx)(r.h2,{id:"glob",children:"glob"}),"\n",(0,e.jsxs)(r.ul,{children:["\n",(0,e.jsx)(r.li,{children:"Python \u5167\u5efa\u7684 module\uff0c\u53ef\u4ee5\u4f7f\u7528 wildcard(\u901a\u914d\u7b26)\uff0c\u4ee5\u985e\u4f3c regex \u7684\u65b9\u5f0f\u67e5\u627e\u6a94\u6848\u3002"}),"\n",(0,e.jsx)(r.li,{children:"glob \u905e\u8ff4 : Python 3.5+, \u4ee5 ** \u8868\u793a\u8cc7\u6599\u593e\u905e\u8ff4"}),"\n",(0,e.jsxs)(r.li,{children:["\u6ce8\u610f: pattern \u8207 regex \u90e8\u54e1\u5168\u76f8\u540c","\n",(0,e.jsxs)(r.ul,{children:["\n",(0,e.jsx)(r.li,{children:"* : 0+"}),"\n",(0,e.jsx)(r.li,{children:"? : 1+"}),"\n",(0,e.jsx)(r.li,{children:"[] : range"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(r.table,{children:[(0,e.jsx)(r.thead,{children:(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.th,{}),(0,e.jsx)(r.th,{children:"glob"}),(0,e.jsx)(r.th,{})]})}),(0,e.jsxs)(r.tbody,{children:[(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"\u67e5\u8a62\u7b26\u5408\u6307\u5b9a\u8def\u5f91\u7d50\u69cb\u7684\u8cc7\u6599\uff0c\u56de\u50b3list"})}),(0,e.jsx)(r.td,{children:"glob.glob(path_str)"}),(0,e.jsx)(r.td,{children:"\xa0"})]}),(0,e.jsxs)(r.tr,{children:[(0,e.jsx)(r.td,{children:(0,e.jsx)(r.strong,{children:"Lazily \u67e5\u8a62\u7b26\u5408\u6307\u5b9a\u8def\u5f91\u7d50\u69cb\u7684\u8cc7\u6599\uff0c\u56de\u50b3iterator"})}),(0,e.jsx)(r.td,{children:"glob.iglob(path_str)"}),(0,e.jsx)(r.td,{children:"\xa0"})]})]})]}),"\n",(0,e.jsx)(r.p,{children:(0,e.jsx)(r.strong,{children:"glob \u8d70\u8a2a\u7bc4\u4f8b"})}),"\n",(0,e.jsx)(r.pre,{children:(0,e.jsx)(r.code,{className:"language-python",children:"import glob\r\n\r\nfound = glob.glob(r'D:\\tmp\\*\\*.txt')\r\nfor f in found:\r\n    print(f)\r\n\r\n# iterator, generator: lazy \u8d70\u8a2a\r\nfound = glob.iglob(r'D:\\tmp\\tomcat\\log\\*log')\r\nfor f in found:\r\n    print(f)\r\n    \r\n# \u905e\u8ff4\u5411\u4e0b\u8d70\u8a2a  \r\nfound = glob.glob(r'D:\\tmp\\**\\*.txt', recursive=True)\r\nprint(\"start \")\r\nfor f in found:\r\n    print(f)\n"})})]})}function x(s={}){const{wrapper:r}={...(0,d.R)(),...s.components};return r?(0,e.jsx)(r,{...s,children:(0,e.jsx)(c,{...s})}):c(s)}},8453:(s,r,t)=>{t.d(r,{R:()=>l,x:()=>i});var n=t(6540);const e={},d=n.createContext(e);function l(s){const r=n.useContext(d);return n.useMemo((function(){return"function"==typeof s?s(r):{...r,...s}}),[r,s])}function i(s){let r;return r=s.disableParentContext?"function"==typeof s.components?s.components(e):s.components||e:l(s.components),n.createElement(d.Provider,{value:r},s.children)}}}]);