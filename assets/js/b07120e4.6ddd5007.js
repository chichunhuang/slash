"use strict";(self.webpackChunktool=self.webpackChunktool||[]).push([[9608],{7467:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Python/Advanced/Python_2_Exception_Error","title":"Python \u4f8b\u5916\u8207\u932f\u8aa4","description":"Python Exception and Error","source":"@site/docs/Python/03_Advanced/Python_2_Exception_Error.md","sourceDirName":"Python/03_Advanced","slug":"/Python/Advanced/Python_2_Exception_Error","permalink":"/docs/Python/Advanced/Python_2_Exception_Error","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Python \u4f8b\u5916\u8207\u932f\u8aa4","description":"Python Exception and Error","keywords":["Python","Exception Handling"]},"sidebar":"totem_sidebar","previous":{"title":"\u95dc\u65bc Python \u6a94\u6848\u7de8\u78bc","permalink":"/docs/Python/Advanced/Python_2_Encoding"},"next":{"title":"Python \u51fd\u6578","permalink":"/docs/Python/Advanced/Python_2_Function"}}');var s=e(4848),o=e(8453);const i={title:"Python \u4f8b\u5916\u8207\u932f\u8aa4",description:"Python Exception and Error",keywords:["Python","Exception Handling"]},c="Python \u4f8b\u5916\u8207\u932f\u8aa4",l={},a=[{value:"Syntax Error: \u8a9e\u6cd5\u932f\u8aa4",id:"syntax-error-\u8a9e\u6cd5\u932f\u8aa4",level:2},{value:"Exception: \u4f8b\u5916",id:"exception-\u4f8b\u5916",level:2},{value:"Exception Handling: \u4f8b\u5916\u8655\u7406",id:"exception-handling-\u4f8b\u5916\u8655\u7406",level:2},{value:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916",id:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916",level:2},{value:"\u62cb\u51fa\u4f8b\u5916",id:"\u62cb\u51fa\u4f8b\u5916",level:2},{value:"With As context management <span>\xa0</span>",id:"with-as-context-management-",level:2}];function h(n){const r={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"python-\u4f8b\u5916\u8207\u932f\u8aa4",children:"Python \u4f8b\u5916\u8207\u932f\u8aa4"})}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["Python \u7684",(0,s.jsx)(r.a,{href:"https://docs.python.org/zh-tw/3/library/exceptions.html#bltin-exceptions",children:"\u5167\u5efa\u4f8b\u5916"}),"\u4e2d\u53ef\u4ee5\u770b\u5230\uff0cException \u7684\u5b50\u985e\u5225\u591a\u6578\u662f\u4ee5 Error \u7d50\u5c3e\u3002",(0,s.jsx)(r.br,{}),"\n","\u3000\u6240\u4ee5\uff0c\u6709\u6642 Error \u6703\u76f4\u63a5\u88ab\u8996\u70ba\u662f\u4e00\u7a2e Exception \u7684\u610f\u601d\u3002",(0,s.jsx)(r.br,{}),"\n","\u4e0d\u904e ",(0,s.jsx)(r.a,{href:"https://docs.python.org/3/tutorial/errors.html",children:"Python \u6587\u4ef6"}),"\u4f3c\u4e4e\u628a Error \u9019\u500b\u5b57\u773c\u5f37\u8abf\u70ba Syntax Error\uff0c\r\n\u6709\u5225\u65bc Exception \u9019\u500b Class \u4e0b\u7684\u5b50\u985e\u5225\u3002",(0,s.jsx)(r.br,{}),"\n","\u6211\u9019\u908a\u9084\u662f\u628a Exception/Error \u8996\u70ba\u540c\u4e00\u985e\uff0cSyntax Error \u53e6\u5916\u8a0e\u8ad6"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Reference"})," :",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://docs.python.org/3/tutorial/errors.html",children:"Errors and Exceptions"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://docs.python.org/zh-tw/3/tutorial/errors.html",children:"\u932f\u8aa4\u548c\u4f8b\u5916"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://docs.python.org/3/library/exceptions.html#bltin-exceptions",children:"Built-in Exceptions"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://docs.python.org/zh-tw/3/library/exceptions.html#bltin-exceptions",children:"\u5167\u5efa\u7684\u4f8b\u5916"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"syntax-error-\u8a9e\u6cd5\u932f\u8aa4",children:"Syntax Error: \u8a9e\u6cd5\u932f\u8aa4"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["\u5c31\u662f Python \u76f4\u8b6f\u5668\u5728\u89e3\u6790\u7a0b\u5f0f\u6cd5\u6642\u6240\u767c\u73fe\u7684\u932f\u8aa4\uff0c\u53c8\u7a31\u70ba Parsing Errors\u3002",(0,s.jsx)(r.br,{}),"\n","\u7c21\u55ae\u8aaa\u5c31\u662f\u7a0b\u5f0f\u78bc\u76f4\u63a5\u88ab\u62d2\u65bc\u9580\u5916\u7121\u6cd5\u4f7f\u7528\u3002",(0,s.jsx)(r.br,{}),"\n","Pythonic Slogan : We are all consenting adults!",(0,s.jsx)(r.br,{}),"\n","\u57fa\u672c\u4e0a\u51fa\u73fe Syntax Error \u610f\u5473\u8457\uff0c\u4f60\u662f\u500b\u5c0f Baby \u5427\u3002"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"exception-\u4f8b\u5916",children:"Exception: \u4f8b\u5916"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["\u4f8b\u5916 (",(0,s.jsx)(r.strong,{children:"Exception"})," )\u6307\u7684\u662f\u7a0b\u5f0f\u78bc\u57f7\u884c\u904e\u7a0b\u4e2d\u767c\u751f\u7684\u932f\u8aa4\u4e8b\u4ef6\u3002",(0,s.jsx)(r.br,{}),"\n","\u4e8b\u60c5\u53ef\u5927\u53ef\u5c0f\uff0c",(0,s.jsx)(r.br,{}),"\n","\u6709\u4e9b\u7121\u6cd5\u8655\u7406\uff0c\u6709\u4e9b\u53ef\u8655\u7406\u3002",(0,s.jsx)(r.br,{}),"\n","\u7121\u6cd5\u8655\u7406\u4f8b\u5916\u5982: IO\u7570\u5e38/\u786c\u9ad4\u7570\u5e38/\u7db2\u8def\u7570\u5e38\uff0c\u57fa\u672c\u4e0a\u958b\u767c\u8005\u53ea\u80fd\u56de\u61c9\u932f\u8aa4\u767c\u751f\u4e26\u7b49\u5f85\u76f8\u95dc\u4eba\u54e1\u505a\u5f8c\u7e8c\u8655\u7406\u3002",(0,s.jsx)(r.br,{}),"\n","\u53ef\u8655\u7406\u8655\u7406\u4f8b\u5916\uff0c\u7b2c\u4e00\u985e\u5982 \u5206\u6bcd\u70ba\u96f6/\u578b\u5225\u932f\u8aa4/IndexError \u7b49\u7b49\uff0c\u901a\u5e38\u662f\u5de5\u7a0b\u5e2b\u7a0b\u5f0f\u6c92\u8655\u7406\u597d\uff0c\u61c9\u8a72\u9032\u4e00\u6b65\u6539\u5beb\uff0c",(0,s.jsx)(r.br,{}),"\n","\u7b2c\u4e8c\u985e\u5247\u662f\u5de5\u7a0b\u5e2b\u81ea\u884c\u5275\u5efa\u7684\u4f8b\u5916\u985e\u578b\uff0c\u7528\u4f86\u963b\u64cb\u6216\u8655\u7406\u5546\u696d\u908f\u8f2f\u4e0a\u7684\u7570\u5e38\u884c\u70ba\u3002"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"exception-handling-\u4f8b\u5916\u8655\u7406",children:"Exception Handling: \u4f8b\u5916\u8655\u7406"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"try -> except -> else -> finally"}),"\n"]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["try/except \u9593\u7684\u7a0b\u5f0f\u5340\u584a\u662f\u5546\u696d\u908f\u8f2f\u5340\u584a\uff0c",(0,s.jsx)(r.br,{}),"\n","\u4ee5 try/except \u5305\u4f4f\u7528\u4f86\u6aa2\u9a57\u662f\u5426\u767c\u751f\u6307\u5b9a\u4f8b\u5916\u3002"]}),"\n",(0,s.jsx)(r.p,{children:"except \u5340\u584a\u5247\u662f\u7576\u6307\u5b9a\u4f8b\u5916\u751f\u6642\uff0c\u8aaa\u660e\u5982\u4f55\u9032\u4e00\u6b65\u7684\u8655\u7406\u5340\u584a\u3002"}),"\n",(0,s.jsx)(r.p,{children:"else \u5340\u584a\u662f\uff0c\u7576\u6c92\u4f8b\u5916\u767c\u751f\u6642\u624d\u6703\u57f7\u884c\u3002"}),"\n",(0,s.jsx)(r.p,{children:"finally \u5340\u584a\u7121\u8ad6\u5982\u4f55\u90fd\u6703\u57f7\u884c\u7684\u5340\u584a\uff0c\u5373\u4f7f\u4f8b\u5916\u5df2\u767c\u751f\u3002"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Exception Handling Syntax"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["business_statement \u767c\u751f\u6642\u6703\u4f9d\u64da\u4e0b\u65b9\u8a9e\u6cd5\uff0c",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"\u7531\u4e0a\u800c\u4e0b\uff0c\u7531\u5de6\u800c\u53f3\u7684\u67e5\u8a62\u7b26\u5408\u7684 Error \u7a2e\u985e\u3002"})," "]})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"\r\ntry:\r\n    <business_statement>\r\n    except <ErrorA>: \r\n        <statement>\r\n    except <ErrorB, ErrorC>: # \u5217\u8209\u4e0d\u540c\u7684 Errors\r\n        <statement>\r\n    except <ErrorD> as <alias_d>: # \u7d66\u4e88\u5225\u540d, \u65b9\u4fbf stack tracing\r\n        <statement>\r\n        print(str(e), repr(e))\r\n    except <ErrorE, ErrorF> as <alias_x>:\r\n        <statement>\r\n    except Exception: # \u7cfb\u7d71\u9000\u51fa\u4ee5\u5916\u7684 Errors\r\n        <statement>\r\n    except: # catch all Exceptions   \r\n        <statement>\r\n    else:   \r\n        <statement> # \u82e5\u7121 Error raise \u5247\u57f7\u884c   \r\n    finally:    \r\n        <statement> # \u7121\u8ad6\u5982\u4f55\u90fd\u57f7\u884c   \r\n\n"})}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"\u5fc3\u5f97"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"else:\r\n    1.\u82e5\u7121 Exception \u6642\uff0c\u5247\u57f7\u884c else \u5340\u584a\u7684\u53e5\u5b50\u3002\r\n    2.\u4f7f\u7528\u4e0a\uff0c\u53ef\u60f3\u6210\u8207 if else \u76f8\u540c\u6982\u5ff5\u3002\u4e00\u500b\u5224\u65b7 Boolean \u53e6\u4e00\u500b\u5224\u65b7 Exception\u3002\r\n    \r\n* \u731c\u6e2c\u662f\u56e0\u70ba Python \u4e2d\uff0c try-except, methods, vars \u7b49\u90fd\u53ef\u4ee5\u662f\u4e00\u7d1a\u6210\u54e1\u3002\r\n* \u4f7f\u7528\u6642\u70ba\u4e86\u53ef\u4ee5\u628a\u6574\u500b Business logic \u5c01\u88dd\u5728\u540c\u4e00\u500b\u5340\u584a\uff0c\u6240\u4ee5\u6709 else \u7247\u6bb5\r\n* Java \u4e2d try-catch \u8a9e\u53e5\u6703\u5beb\u5728 method \u5167\uff0c\r\n  else \u7247\u6bb5\u5247\u76f4\u63a5\u5beb\u5728  try-catch \u5340\u584a\u5916\u3002\r\n  business logic \u7531 method \u5c01\u88dd\u3002\u56e0\u6b64\u4e0d\u9700\u8981 else \u7247\u6bb5\u3002\r\n    \n"})}),"\n",(0,s.jsx)(r.h2,{id:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916",children:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsx)(r.p,{children:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916\uff0c\u56e0 Exception \u662f\u4e00\u500b Class\uff0c\u6240\u4ee5\u7c21\u55ae\u5730\u7e7c\u627f\u4fbf\u662f\u3002"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"\r\nclass CustomizedException(Exception):\r\n    def __init__(self, message, error_code):\r\n        super().__init__(message) # \u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\uff0c\u4ee5\u65b9\u4fbf\u672a\u4f86\u4f7f\u7528 str(e)/repr(e) \u7b49\u53d6\u7570\u5e38\u5167\u5bb9\r\n        self.error_code = error_code\n"})}),"\n",(0,s.jsx)(r.h2,{id:"\u62cb\u51fa\u4f8b\u5916",children:"\u62cb\u51fa\u4f8b\u5916"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\u5169\u985e\u8a9e\u6cd5","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"raise"}),"\n",(0,s.jsx)(r.li,{children:"raise ... from ..."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Raise Error: Syntax"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"# raise\r\nraise <error_instance> \r\n# \u62cb\u51fa\u65b0\u5efa\u7acb\u7684 Error Instance\r\n\r\nraise <ErrorClass> \r\n# \u76f4\u63a5\u547c\u53eb\u6307\u5b9a Error Class \u5efa\u69cb\u5b50\uff0c\u81ea\u52d5\u5efa\u7acb\u4e26\u62cb\u51fa Error Instance\r\n# \u8a3b: \u9810\u8a2d\u5efa\u69cb\u5b50\uff0c\u56e0\u6b64\u6c92\u932f\u8aa4\u8a0a\u606f\u3002\r\n\r\nraise # \u91cd\u65b0\u62cb\u51fa\u5148\u524d\u7684 Error\r\n\r\n# raise from\r\nraise <Error> from <PreviousError> # Catch Error \u4e26\u91cd\u65b0\u5305\u88dd\u8207\u518d\u6b21\u62cb\u51fa\r\n\r\ntry: \r\n    login('username', 'pwd')\r\nexcept AccountNotExistError as e:\r\n    raise LoginFailedError('Can not login!') from e\r\nexcept WrongPasswordError as e:\r\n    raise LoginFailedError('Can not login!') from e\r\n    \n"})}),"\n",(0,s.jsxs)(r.h2,{id:"with-as-context-management-",children:["With As context management ",(0,s.jsx)("span",{id:"with_as_codeblock",children:"\xa0"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Reference: ",(0,s.jsx)(r.a,{href:"../Python_File#with_as_codeblock",children:"With As: \u5b9a\u7fa9\u4e00\u500b\u81e8\u6642\u7684 Codeblock"})]}),"\n"]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["with/as \u662f\u4e00\u7a2e\u66ab\u6642\u7684\u7a0b\u5f0f\u78bc\u5340\u584a\uff0c",(0,s.jsx)(r.br,{}),"\n","\u5728\u6b64\u4e5f\u53ef\u8996\u70ba try/finally \u7684\u8b8a\u7a2e\u3002",(0,s.jsx)(r.br,{}),"\n","\u7528\u4f86\u5b9a\u7fa9\u7121\u8ad6\u5982\u4f55\u90fd\u5fc5\u9808\u57f7\u884c\u7684\u7d42\u6b62\u52d5\u4f5c\u6216\u60c5\u9664\u6536\u5c3e\u52d5\u4f5c\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"With As context management: syntax"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsx)(r.p,{children:"with as syntax:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"with <expression> as <variable>:\r\n    doAction()\r\n    \r\nwith open(r'C:\\pathtofile.txt', rb) as file:\r\n    doParsing(file)    \r\n            \n"})}),"\n",(0,s.jsxs)(r.p,{children:["combination of try and with: ",(0,s.jsx)("br",{}),"\r\n\u7bc4\u4f8b\u4e3b\u8981\u5448\u73fe\u7684\u76ee\u7684\u662f: 1.\u81ea\u52d5\u95dc\u9589\u8cc7\u6599\u6d41, 2.\u4f8b\u5916\u8655\u7406"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"# style 1:\r\ntry:\r\n    with open('not_exists.txt') as f:\r\n        print(f.readlines())\r\nexcept FileNotFoundError as error: \r\n    print('oops')\r\n\r\n\r\n# style 2:        \r\ntry:\r\n    f = open('not_exists.txt')\r\nexcept FileNotFoundError:\r\n    print('error')\r\nelse:\r\n    with f:\r\n        print(f.readlines())\r\n            \n"})})]})}function d(n={}){const{wrapper:r}={...(0,o.R)(),...n.components};return r?(0,s.jsx)(r,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},8453:(n,r,e)=>{e.d(r,{R:()=>i,x:()=>c});var t=e(6540);const s={},o=t.createContext(s);function i(n){const r=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function c(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),t.createElement(o.Provider,{value:r},n.children)}}}]);