"use strict";(globalThis.webpackChunkinsect_totem=globalThis.webpackChunkinsect_totem||[]).push([[4248],{8297:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>x,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Python/Advanced/Python_2_Iterations_Misc","title":"Python \u8fed\u4ee3\u76f8\u95dc\u4e09\u5169\u4e8b","description":"Loop\u3001Iteration\u3001Comprehension","source":"@site/docs/310_Python/03_Advanced/Python_2_Iterations_Misc.md","sourceDirName":"310_Python/03_Advanced","slug":"/Python/Advanced/Python_2_Iterations_Misc","permalink":"/docs/Python/Advanced/Python_2_Iterations_Misc","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Python \u8fed\u4ee3\u76f8\u95dc\u4e09\u5169\u4e8b","description":"Loop\u3001Iteration\u3001Comprehension","keywords":["Python","Iterations"]},"sidebar":"totem_sidebar","previous":{"title":"Python Generator","permalink":"/docs/Python/Advanced/Python_2_Generator"},"next":{"title":"Python Lambda \u533f\u540d\u51fd\u5f0f","permalink":"/docs/Python/Advanced/Python_2_Labmda"}}');var i=r(74848),o=r(28453);const s={title:"Python \u8fed\u4ee3\u76f8\u95dc\u4e09\u5169\u4e8b",description:"Loop\u3001Iteration\u3001Comprehension",keywords:["Python","Iterations"]},a="Python \u8fed\u4ee3\u76f8\u95dc\u4e09\u5169\u4e8b",l={},c=[{value:"Built-ins: \u5167\u5efa\u985e\u5225\u672c\u8eab\u5373\u53ef\u9032\u884c\u8fed\u4ee3",id:"built-ins-\u5167\u5efa\u985e\u5225\u672c\u8eab\u5373\u53ef\u9032\u884c\u8fed\u4ee3",level:2},{value:"Manual Iterations(Generator): \u624b\u52d5\u85c9\u7531 iter() \u8207 next() \u4f86\u9054\u6210\u4f9d\u6b21\u8d70\u8a2a\u3002",id:"manual-iterationsgenerator-\u624b\u52d5\u85c9\u7531-iter-\u8207-next-\u4f86\u9054\u6210\u4f9d\u6b21\u8d70\u8a2a",level:2},{value:"<span>iter() \u9677\u9631: iterator instance \u5171\u4eab</span>",id:"iter-\u9677\u9631-iterator-instance-\u5171\u4eab",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"python-\u8fed\u4ee3\u76f8\u95dc\u4e09\u5169\u4e8b",children:"Python \u8fed\u4ee3\u76f8\u95dc\u4e09\u5169\u4e8b"})}),"\n",(0,i.jsx)(e.h2,{id:"built-ins-\u5167\u5efa\u985e\u5225\u672c\u8eab\u5373\u53ef\u9032\u884c\u8fed\u4ee3",children:"Built-ins: \u5167\u5efa\u985e\u5225\u672c\u8eab\u5373\u53ef\u9032\u884c\u8fed\u4ee3"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Python's Iterations : \u9019\u908a\u6307\u7684\u662f\u985e\u5225\u672c\u8eab\u5373\u5177\u6709\u8fed\u4ee3\u7684\u7279\u6027\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u9700\u6ce8\u610f\u7684\u662f : ",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:"iterator instance \u662f\u5426\u5171\u7528"}),"\u9019\u500b\u8d85\u5927\u9677\u9631\u3002"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u53c3\u8003 ",(0,i.jsx)(e.a,{href:"#iter_tricky",children:"iter() \u9677\u9631: iterator instance \u5171\u4eab"}),(0,i.jsx)(e.br,{}),"\n","x = iter(object)",(0,i.jsx)(e.br,{}),"\n","y = iter(object)",(0,i.jsx)(e.br,{}),"\n","\u7576 object \u5e95\u5c64\u662f\u4e00\u500b  generator\uff0c\u5247 x==y\u3002",(0,i.jsx)(e.br,{}),"\n","\u7576 object \u5e95\u5c64\u4e0d\u662f\u4e00\u500b  generator\uff0c\u5247 x!=y\u3002",(0,i.jsx)(e.br,{}),"\n","\u9019\u6703\u5f71\u97ff\u5230 next(y) \u662f\u5426\u5ef6\u7e8c\u5148\u524d\u547c\u53eb\u7684 next(x) \u7684 index"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"for/while loop: \u81ea\u884c\u7522\u751f iterator\uff0c\u4e26\u4e14\u547c\u53eb next()\u3002"}),"\n",(0,i.jsxs)(e.li,{children:["comprehension: ",(0,i.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,i.jsx)(e.strong,{children:"\u6548\u7387\u512a\u65bc for/while loop\uff0c\u5e95\u5c64\u7531 C \u5be6\u4f5c"})," "]}),"\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:["range()/dict/","/[]/(): iterable types\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:["map()/zip()/filter()/enumerate(): \u6703__",(0,i.jsx)("span",{style:{color:"#0044FF"},children:"\u6bcf\u6b21"}),"__\u5efa\u7acb ",(0,i.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,i.jsx)(e.strong,{children:"\u65b0\u7684"})," "]})," generator \u4f9d\u5e8f\u7d66\u503c\u3002"]}),"\n",(0,i.jsx)(e.li,{children:"in : \u6aa2\u67e5\u7269\u4ef6\u4e2d\u662f\u5426\u6709\u6307\u5b9a\u5143\u7d20\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"manual-iterationsgenerator-\u624b\u52d5\u85c9\u7531-iter-\u8207-next-\u4f86\u9054\u6210\u4f9d\u6b21\u8d70\u8a2a",children:"Manual Iterations(Generator): \u624b\u52d5\u85c9\u7531 iter() \u8207 next() \u4f86\u9054\u6210\u4f9d\u6b21\u8d70\u8a2a\u3002"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Manual Iterations : \u9019\u908a\u6307\u7684\u662f\u7d93\u7531 iter() \u628a\u96c6\u5408\u3001\u5e8f\u5217\u3001\u8cc7\u6599\u6d41\u8f49\u6210 iterable object\uff0c\u518d\u5229\u7528 next()\u4f86\u4f9d\u5e8f\u53d6\u503c\u3002"}),"\n",(0,i.jsxs)(e.li,{children:["\u9019\u985e\u578b\u7684\u8fed\u4ee3\u901a\u5e38\u662f\u5c07\u8cc7\u6599\u624b\u52d5\u8f49\u6210 generator \u5f8c\u4f7f\u7528\u3002","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u53ef\u81ea\u884c\u4ee5 list() \u5c01\u88dd\u3002\u4e00\u6b21\u5168\u53d6\u4e14\u53ef\u91cd\u8907\u53d6\u503c\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u53ef\u4f9d\u9700\u8981\u4f9d\u6b21\u53d6\u4e00\u500b\u7d50\u679c\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u7576\u8b80\u53d6\u8d85\u51fa\u7bc4\u570d\u5be6\u5247\u62cb\u51fa StopIteration Error\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"\r\n# by next function\r\nwith open(r'D:\\tmp\\AB.txt', 'r', encoding='UTF-8') as file2:\r\n    print(next(file2)) # \u50c5\u53d6\u4e00\u884c\r\n    print(next(file2))\r\n    # print(next(file2)) # \u8d85\u51fa\u7bc4\u570d\u6642: StopIteration\r\n\r\n\r\n# wrapped\r\nwith open(r'D:\\tmp\\ABCs.txt', 'r', encoding='UTF-8') as file2:\r\n    x = list(file2) # <class 'list'>\r\n    for i in x:\r\n        print(i)\r\n    print(i[0]) # \u91cd\u8907\u53d6\u503c\r\n        \r\n\r\n#  by iter function\r\ncontent = 'AB'\r\nit = iter(content) # <class 'str_iterator'>\r\nprint(next(it))) \r\nprint(next(it))\r\nprint(next(it))  # \u8d85\u51fa\u7bc4\u570d\u6642: StopIteration    \r\n\n"})}),"\n",(0,i.jsx)(e.h2,{id:"iter-\u9677\u9631-iterator-instance-\u5171\u4eab",children:(0,i.jsx)("span",{id:"iter_tricky",children:"iter() \u9677\u9631: iterator instance \u5171\u4eab"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u9700\u6ce8\u610f\u7684\u662f : ",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:"iterator \u662f\u5426\u5171\u7528"}),"\u9019\u500b\u8d85\u5927\u9677\u9631\u3002"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["x = iter(object)",(0,i.jsx)(e.br,{}),"\n","y = iter(object)",(0,i.jsx)(e.br,{}),"\n","\u7576 object \u5e95\u5c64\u662f\u4e00\u500b generator\uff0c\u5247 x==y\u3002",(0,i.jsx)(e.br,{}),"\n","\u7576 object \u5e95\u5c64\u4e0d\u662f\u4e00\u500b generator\uff0c\u5247 x!=y\u3002\r\n\u9019\u6703\u5f71\u97ff\u5230 next(y) \u662f\u5426\u5ef6\u7e8c\u5148\u524d\u547c\u53eb\u7684 next(x) \u7684 index"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.em,{children:"\u6aa2\u9a57\u662f\u5426\u70ba generator fun \u7684\u5de5\u5177"})," \u2003 ",(0,i.jsx)("span",{style:{backgroundColor:"#b3ffb3"},children:"from inspect import isgeneratorfunction"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"\r\nfrom inspect import isgeneratorfunction\r\n\r\ndef generator_function(n=3, flag=True):\r\n    out = []\r\n    for i in range(n):\r\n        if flag:\r\n            yield i\r\n        else:\r\n            out.append(i)\r\n    return out\r\n\r\nprint(isgeneratorfunction(generator_function))\r\n# True\r\n\r\nresult = generator_function(10)\r\n\r\niterA = iter(result)\r\niter_same_instance = iter(result)\r\n\r\nprint(next(iterA))\r\n# 0\r\nprint(next(iter_same_instance))\r\n# 1\r\nprint(next(iterA))\r\n# 2\r\nprint(next(iter_same_instance))\r\n# 3\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.em,{children:"generator \u5171\u7528 iterator instance"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# zip return \u7d50\u679c\u5e95\u5c64\u662f\u4e00\u500b generator\r\nx = zip([1, 2, 3], [\"A\", 'B', \"C\"])\r\nit = iter(x)\r\nprint(next(it))\r\n# (1, 'A')\r\n\r\nit2 = iter(x)\r\nprint(next(it2))\r\n# (2, 'B')\r\n# \u6ce8\u610f\u9019\u908a\u5ef6\u7e8c\u524d\u4e00\u500b\u52d5\u4f5c\u7684\u6307\u6a19\uff0c\u6240\u4ee5\u7531\u7b2c\u4e8c\u500b\u958b\u59cb\r\n\r\nprint(it == it2)\r\n# True, \u5169\u6b21 iter() \u56de\u50b3\u7684\u7adf\u662f\u540c\u4e00\u500b instance\r\n\r\ny = zip([1, 2, 3], [\"A\", 'B', \"C\"])\r\n# y \u662f\u4e00\u500b\u65b0\u7684 generator\r\nit3 = iter(y)\r\nprint(next(it3))\r\nprint(it == it3)\r\n# False\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.em,{children:"sequence  \u4e0d\u6703\u5171\u7528 iterator instance"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"listX = [1, 2, 3, 4]\r\nlistX = range(1, 5)\r\n\r\nit_fromList = iter(listX)\r\nprint(next(it_fromList))\r\n# 1\r\n\r\nit_fromList2 = iter(listX)\r\nprint(next(it_fromList2))\r\n# 1, \u5f9e\u65b0\u7531\u7b2c\u4e00\u500b\u958b\u59cb\r\n\r\nprint(it_fromList == it_fromList2)\r\n# False, \u672a\u5171\u7528\r\n\n"})})]})}function x(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>s,x:()=>a});var t=r(96540);const i={},o=t.createContext(i);function s(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);