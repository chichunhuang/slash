"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[5911],{28453:(n,e,r)=>{r.d(e,{R:()=>l,x:()=>o});var s=r(96540);const i={},t=s.createContext(i);function l(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),s.createElement(t.Provider,{value:e},n.children)}},54118:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Python/Python_Typing_StringFormatting","title":"Python \u683c\u5f0f\u5316\u5b57\u4e32","description":"Python String Formatting","source":"@site/docs/31_Python/Python_Typing_StringFormatting.md","sourceDirName":"31_Python","slug":"/Python/Python_Typing_StringFormatting","permalink":"/docs/Python/Python_Typing_StringFormatting","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Python \u683c\u5f0f\u5316\u5b57\u4e32","description":"Python String Formatting","keywords":["Python","String Format"]},"sidebar":"totem_sidebar","previous":{"title":"Python String","permalink":"/docs/Python/Python_Typing_String"},"next":{"title":"Python \u57fa\u790e\u578b\u5225\u6458\u8981","permalink":"/docs/Python/Python_Typing_Types"}}');var i=r(74848),t=r(28453);const l={title:"Python \u683c\u5f0f\u5316\u5b57\u4e32",description:"Python String Formatting",keywords:["Python","String Format"]},o="Python \u5b57\u4e32\u683c\u5f0f\u5316\u4ecb\u7d39",a={},c=[{value:"\u683c\u5f0f\u5316 String (String Formatting) \u57fa\u790e\u7bc4\u4f8b",id:"\u683c\u5f0f\u5316-string-string-formatting-\u57fa\u790e\u7bc4\u4f8b",level:2},{value:"Mod Formatting Expression \u8a9e\u6cd5\u898f\u5247<span></span>",id:"mod-formatting-expression-\u8a9e\u6cd5\u898f\u5247",level:2},{value:"String Format Function \u8a9e\u6cd5\u898f\u5247<span></span>",id:"string-format-function-\u8a9e\u6cd5\u898f\u5247",level:2},{value:"f-String \u4f7f\u7528\u65b9\u5f0f<span></span>",id:"f-string-\u4f7f\u7528\u65b9\u5f0f",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"python-\u5b57\u4e32\u683c\u5f0f\u5316\u4ecb\u7d39",children:"Python \u5b57\u4e32\u683c\u5f0f\u5316\u4ecb\u7d39"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u9019\u908a\u50c5\u7d00\u9304 Python3 \u4e2d\u683c\u5f0f\u5316\u5b57\u4e32\u6642\u53ef\u7528\u7684\u65b9\u5f0f\uff0c",(0,i.jsx)(e.br,{}),"\n","\u4e0d\u8a0e\u8ad6 Python2 \u7684\u90e8\u5206\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u9019\u908a\u5148\u5c07\u683c\u5f0f\u5316\u65b9\u5f0f\u62c6\u5206\u70ba\u4e09\u985e",(0,i.jsx)(e.br,{}),"\n","A: ",(0,i.jsx)(e.a,{href:"#modeStyle",children:"\u4ee5 modulo % \u70ba operator \u7684\u65b9\u5f0f"}),(0,i.jsx)(e.br,{}),"\n","B: ",(0,i.jsx)(e.a,{href:"#functionStyle",children:"str class \u6240\u63d0\u4f9b\u7684 format function"}),(0,i.jsx)(e.br,{}),"\n","C: ",(0,i.jsx)(e.a,{href:"#fStyle",children:"f \u70ba\u524d\u7db4\u7684 f-String"})]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u683c\u5f0f\u5316-string-string-formatting-\u57fa\u790e\u7bc4\u4f8b",children:"\u683c\u5f0f\u5316 String (String Formatting) \u57fa\u790e\u7bc4\u4f8b"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)("span",{style:{color:"#0044FF"},children:"\u4f7f\u7528 % mode: formatting expression"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["%",(0,i.jsx)("span",{style:{color:"#009900"},children:"typecode"}),(0,i.jsx)("span",{style:{color:"#0044FF"},children:"formatSpec"})]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"print('I\\'m %s, and I\\'m %d-year-old.' % ('Totem', 10))\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)("span",{style:{color:"#0044FF"},children:"\u4f7f\u7528 String \u7684 format function"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["{",(0,i.jsx)("span",{style:{color:"#009900"},children:"index"}),":",(0,i.jsx)("span",{style:{color:"#0044FF"},children:"formatSpec"}),"}"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"print('I\\'m {1}, and I\\'m {0}-year-old.'.format(10, 'Totem'))\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)("span",{style:{color:"#0044FF"},children:"f-String \u683c\u5f0f\u5316\u5b57\u4e32: \u76f4\u63a5\u8b80\u53d6\u5148\u524d\u5b9a\u7fa9\u7684\u8b8a\u6578"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["{",(0,i.jsx)("span",{style:{color:"#009900"},children:"index"}),":",(0,i.jsx)("span",{style:{color:"#0044FF"},children:"formatSpec"}),"}"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"name = 'Totem'\r\nage = 30\r\nprint(f'I\\'m {name}, and I\\'m {age}-year-old.')\n"})}),"\n",(0,i.jsxs)(e.h2,{id:"mod-formatting-expression-\u8a9e\u6cd5\u898f\u5247",children:["Mod Formatting Expression \u8a9e\u6cd5\u898f\u5247",(0,i.jsx)("span",{id:"modeStyle"})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["'pattern' % (v1, v2...)",(0,i.jsx)(e.br,{}),"\n","Formatting expression \u6307\u7684\u662f pattern \u4e2d\u4f54\u4f4d\u7b26(placeholder)\u7684\u90e8\u5206\u3002",(0,i.jsx)(e.br,{}),"\n","\u4f8b\u5982: 'I am %s' \u4e2d\u7684 ",(0,i.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,i.jsx)(e.strong,{children:"%s"})," "]}),"\u90e8\u5206"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Syntax of Formatting expression","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["__",(0,i.jsx)("span",{style:{color:"#0044FF"},children:"\u57fa\u672c\u7528\u6cd5\u50c5\u9700 %typecode, ex: %s, %d "}),"__\u5373\u53ef"]}),"\n",(0,i.jsx)(e.li,{children:"\u4e0b\u65b9\u64f4\u5145\u7528\u4f86\u91dd\u5c0d\u4e0d\u540c\u7684 argument values \u6216\u662f\u6d6e\u9ede\u6578\u505a\u9032\u4e00\u6b65\u683c\u5f0f\u8abf\u6574"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:" %[(name)][flags][width].[precision]typecode\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["typecode: (\u5fc5\u8981)\u5b9a\u7fa9\u8cc7\u6599\u7684\u985e\u578b","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"d: decimal"}),"\n",(0,i.jsx)(e.li,{children:"s: string"}),"\n",(0,i.jsx)(e.li,{children:"f: float"}),"\n",(0,i.jsx)(e.li,{children:"o: \u516b\u9032\u5236"}),"\n",(0,i.jsx)(e.li,{children:"x: \u5341\u516d\u9032\u5236"}),"\n",(0,i.jsx)(e.li,{children:"e: \u6307\u6578"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"precision: (\u9078\u7528)\u7cbe\u78ba\u4f4d\u6578\uff0c\u6307\u5c0f\u6578\u9ede\u5f8c\u7684\u4f4d\u6578\u3002"}),"\n",(0,i.jsx)(e.li,{children:"width: (\u9078\u7528)\u6574\u500b\u56de\u50b3\u5b57\u4e32\u7684\u6700\u5927\u9577\u5ea6\uff0c\u5305\u542b\u5c0f\u6578\u9ede\u3002"}),"\n",(0,i.jsxs)(e.li,{children:["flag: (\u9078\u7528)\u6574\u6578\u4f4d\u88dc\u9f4a\u7b26\u865f","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u76ee\u524d python3 \u6e2c\u8a66\uff0c\u7b26\u865f\u50c5\u63a5\u53d7 ",(0,i.jsx)(e.strong,{children:"0"})," \u8207 ",(0,i.jsx)(e.strong,{children:"\u7a7a\u767d"})]}),"\n",(0,i.jsx)(e.li,{children:"width - precision - \u5c0f\u6578\u9ede\u5f8c\uff0c\u82e5\u9084\u6709\u5269\u9918\u9577\u5ea6\u5247\u4ee5\u6307\u5b9a\u7b26\u865f\u65bc\u5de6\u5074\u88dc\u9f4a\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["name: (\u9078\u7528)\u9700\u7528 ",(0,i.jsx)(e.strong,{children:"\u5c0f\u62ec\u865f"})," \u5305\u8986","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u901a\u5e38 formatting expression \u4ee5 index(zero-based) \u4f86\u70ba placeholder \u53d6\u503c\u3002\u82e5\u503c\u7684\u4f86\u6e90\u70ba dict(map) \u5247\u53ef\u4ee5 key \u4f86\u53d6\u503c\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"_ flags / width / precision \u6574\u5408\u7bc4\u4f8b _"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5c07 0.123\u9032\u884c\u683c\u5f0f\u5316","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5c0f\u6578\u9ede\u4e0b\u9700\u4e94\u4f4d"}),"\n",(0,i.jsx)(e.li,{children:"\u7e3d\u9577\u5ea6\u542b\u5c0f\u6578\u9ede\u70ba\u5341\u4f4d"}),"\n",(0,i.jsx)(e.li,{children:"\u4ee5\u7a7a\u767d(ex1),\u96f6(ex2)\u65bc\u5de6\u5074\u88dc\u9f4a"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# ex1: \u4ee5\u7a7a\u767d\u88dc\u9f4a\r\nformatting = '% 10.5f' % 0.123\r\nprint(formatting)\r\n#   0.12300\r\n\r\n# ex2: \u4ee50\u88dc\u9f4a\r\nformatting = '%010.5f' % 0.123\r\nprint(formatting)\r\n#0000.12300\n"})}),"\n",(0,i.jsx)(e.p,{children:"_ Dict(map) \u53d6\u503c\u7bc4\u4f8b _"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# map \u53d6\u503c\u7bc4\u4f8b\r\ndata = {'nickname': 'Totem', 'age': 20}\r\n\r\nformatting = 'I am %(nickname), I\\'m %(age)d.' % data\r\nprint(formatting)\r\n# I am Totem, I'm 20.\n"})}),"\n",(0,i.jsxs)(e.h2,{id:"string-format-function-\u8a9e\u6cd5\u898f\u5247",children:["String Format Function \u8a9e\u6cd5\u898f\u5247",(0,i.jsx)("span",{id:"functionStyle"})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"pattern.format(varArgs)"}),"\n",(0,i.jsxs)(e.p,{children:["pattern \u4e2d\u4ee5 ",(0,i.jsx)(e.strong,{children:"\u5927\u62ec\u865f"})," \u5305\u8986\u8981\u88ab\u53d6\u4ee3\u7684\u4f54\u4f4d\u7b26",(0,i.jsx)(e.br,{}),"\n","\u4f54\u4f4d\u7b26\u53ef\u5206\u70ba\u4e09\u985e:",(0,i.jsx)(e.br,{}),"\n","A : by order, omit index",(0,i.jsx)(e.br,{}),"\n","B : ",(0,i.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,i.jsx)(e.strong,{children:"by zero-based index"})," :\u63a8\u85a6\u7528\u6cd5"]}),(0,i.jsx)(e.br,{}),"\n","C : by place-holders"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Syntax of Pattern String"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"  {fieldname!conversionFlag:formatSpec}\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"fieldname: \u53c3\u6578\u7684 zero-bserd index, placholder, name"}),"\n",(0,i.jsxs)(e.li,{children:["conversionFlag: \u5167\u6587\u8f49\u63db","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"a: \u53d6\u503c\u7684 ASCII code"}),"\n",(0,i.jsx)(e.li,{children:"r: \u4ee5 repr \u5448\u73fe"}),"\n",(0,i.jsx)(e.li,{children:"s: \u4ee5 str \u5448\u73fe"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["formatSpec: \u9032\u968e\u683c\u5f0f\u8abf\u6574\uff0c\u5192\u865f\u5f8c\u9762\u7684\u90e8\u5206","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7d71\u4e00 \u9577\u5ea6/\u5c0d\u9f4a\u65b9\u5f0f/\u9577\u5ea6\u88dc\u9f4a/\u7cbe\u78ba\u5ea6 (\u53c3\u8003 Formatting expression)"}),"\n",(0,i.jsx)(e.li,{children:"syntax of formatSpec"}),"\n",(0,i.jsx)(e.li,{children:"alignment: \u5de6\u5c0d\u9f4a(<), \u53f3\u5c0d\u9f4a(>), \u5c45\u4e2d\u5c0d\u9f4a(^), \u5c0f\u6578\u9ede\u5c45\u4e2d(=)"}),"\n",(0,i.jsx)(e.li,{children:"flag: \u88dc\u9f4a\u7b26\u865f(\u6c92\u9650\u5236)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"  # syntax of formatSpec\r\n [[flag]aligment][sign][width].[precision][typecode]    \n"})}),"\n",(0,i.jsx)(e.p,{children:"_  conversionFlag \u7bc4\u4f8b  _"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# \u5370\u51fa \u5716\u9a30\u7684 ASCII code\r\nf = 'a = {0!a}'.format('\u5716\u9a30')\r\nprint(f)\r\n# a = '\\u5716\\u9a30'\n"})}),"\n",(0,i.jsx)(e.p,{children:"_ formatSpec \u7bc4\u4f8b _"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# \u6d6e\u9ede\u65782.2 \u683c\u5f0f\u5316\u70ba: \u9577\u5ea610, \u7cbe\u5ea6\u4e94\u4f4d, \u5de6\u5074\u70ba\u8db3\u4f4d\u6578\u88dc\u7a7a\u767d\r\nf = '{0: 10.5f}'.format(2.2)\r\nprint(f)\r\n#   2.20000\r\n\r\nf = 'I buy a brand new iPhone, It cost me ${0:->10.3f} dollars.'.format(10.12)\r\nprint(f)\r\n#I buy a brand new iPhone, It cost me $----10.120 dollars.\n"})}),"\n",(0,i.jsx)(e.p,{children:"_ by order, omit index \u7bc4\u4f8b _"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# by order, omit index\r\nf = 'I am {}, I\\'m {}.'.format('Totem', 10)\r\nprint(f)\r\n\n"})}),"\n",(0,i.jsxs)(e.p,{children:["_ ",(0,i.jsx)(e.strong,{children:(0,i.jsx)("span",{style:{color:"#0044FF"},children:"\u63a8\u85a6\u7528\u6cd5"})})," : by zero-based index \u7bc4\u4f8b_"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# by zero-based index\r\n# \u500b\u4eba\u63a8\u85a6\u5beb\u6cd5\r\nf = 'I am {0}, I\\'m {1}!'.format('Totem', 10)\r\nprint(f)\n"})}),"\n",(0,i.jsx)(e.p,{children:"_ by zero-based index \u7bc4\u4f8b_"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# by zero-based index\r\n# \u5bb9\u6613\u641e\u6df7\uff0c\u586b index \u90e8\u5206\u9700\u5beb\u5728\u5927\u62ec\u865f\u5167\u3002\r\nvalues = ['Totem', 10]\r\nf = 'I am {0[0]}, I\\'m {0[1]}!'.format(values)\r\nprint(f)\n"})}),"\n",(0,i.jsx)(e.p,{children:"_ by place-holders \u7bc4\u4f8b _"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# by place-holders\r\nf = 'I am {name}, I\\'m {age}.'.format(name='Totem', age=10)\r\nprint(f)\n"})}),"\n",(0,i.jsx)(e.p,{children:"_ by place-holders \u7bc4\u4f8b _"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# by place-holders\r\nplaceholders = {'name':'Totem', 'age':10}\r\nf = 'I am {name}, I\\'m {age}.'.format(**placeholders)\r\nprint(f)\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8a3b: \u9023\u7e8c\u5169\u500b asterisks \u4ee3\u8868 unpack dictionary."}),"\n",(0,i.jsx)(e.li,{children:"\u8a3b: \u55ae\u4e00\u500b asterisk \u4ee3\u8868 unpack sequence (list or tuple \u7b49)."}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"f-string-\u4f7f\u7528\u65b9\u5f0f",children:["f-String \u4f7f\u7528\u65b9\u5f0f",(0,i.jsx)("span",{id:"fStyle"})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u53ef\u60f3\u50cf\u6210\u662f format function \u65b9\u5f0f\u7684\u8a9e\u6cd5\u7cd6\uff0c",(0,i.jsx)(e.br,{}),"\n","f-String \u53ef\u76f4\u63a5\u8b80\u53d6\u5148\u524d\u5df2\u5b9a\u7fa9\u7684\u8b8a\u6578\u5167\u5bb9\uff0c",(0,i.jsx)(e.br,{}),"\n","\u4e26\u76f4\u63a5\u5c07\u8b8a\u6578\u503c\u5e36\u5165 template\u3002",(0,i.jsx)(e.br,{}),"\n","\u8b8a\u6578\u7684 place holder \u8207 string format function \u63a1\u7528\u76f8\u540c\u7684 Pattern String Syntax"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Syntax of f String"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"newStr = f'{fieldname!conversionFlag:formatSpec}'\n"})}),"\n",(0,i.jsx)(e.p,{children:"_ f-String \u7bc4\u4f8b _"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# f-string\r\nphone = 'iPhone'\r\nprize = 30.5\r\n\r\nprint(f'I buy a brand new {phone}, It cost me ${prize:->8.3f} dollars. ')\r\n#I buy a brand new iPhone, It cost me $--30.500 dollars.  \n"})})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}}}]);