"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[9597],{28453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>o});var t=n(96540);const i={},s=t.createContext(i);function c(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(s.Provider,{value:r},e.children)}},34788:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Java/Spring/Spring_Wicket_Restful","title":"Spring Wicket Restful","description":"Spring Wicket Restful API \u6574\u4f75\u7df4\u7fd2","source":"@site/docs/110_Java/30_Spring/Spring_Wicket_Restful.md","sourceDirName":"110_Java/30_Spring","slug":"/Java/Spring/Spring_Wicket_Restful","permalink":"/docs/Java/Spring/Spring_Wicket_Restful","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Spring Wicket Restful","description":"Spring Wicket Restful API \u6574\u4f75\u7df4\u7fd2","keywords":["Spring","Restful","Wicket"]},"sidebar":"totem_sidebar","previous":{"title":"Spring Restful API \u7df4\u7fd2","permalink":"/docs/Java/Spring/Spring_Restful"},"next":{"title":"Log4j EmailAppender Configuration","permalink":"/docs/Java/ExceptionMailFromLog4j"}}');var i=n(74848),s=n(28453);const c={title:"Spring Wicket Restful",description:"Spring Wicket Restful API \u6574\u4f75\u7df4\u7fd2",keywords:["Spring","Restful","Wicket"]},o=void 0,l={},a=[{value:"Dependencies",id:"dependencies",level:2},{value:"\u76f8\u95dc\u5be6\u4f5c\u985e\u5225",id:"\u76f8\u95dc\u5be6\u4f5c\u985e\u5225",level:2},{value:"RestResource: AccountRestResource",id:"restresource-accountrestresource",level:2},{value:"Wicket WebApplication.class",id:"wicket-webapplicationclass",level:2},{value:"Client \u547c\u53eb\u4f7f\u7528",id:"client-\u547c\u53eb\u4f7f\u7528",level:2}];function u(e){const r={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsxs)(r.p,{children:["Wicket7.x",(0,i.jsx)(r.br,{}),"\n","Spring4.x"]}),"\n"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\u53c3\u8003 ",(0,i.jsx)(r.a,{href:"https://github.com/wicketstuff/core/tree/master/wicketstuff-restannotations-parent",children:"Wicket 7.x \u63d0\u4f9b RESTful Service \u6574\u5408\u65b9\u5f0f"})]}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"./Spring_Remoting_Web_Service",children:"Spring Restful API \u53d6\u503c\u7df4\u7fd2"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"./Spring_Restful",children:"Spring Restful API \u7df4\u7fd2"})}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"wicketstuff-restannotations"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:"    \x3c!-- https://mvnrepository.com/artifact/org.wicketstuff/wicketstuff-restannotations --\x3e\r\n    <dependency>\r\n        <groupId>org.wicketstuff</groupId>\r\n        <artifactId>wicketstuff-restannotations</artifactId>\r\n        <version>7.6.0</version>\r\n    </dependency>\r\n    \x3c!-- https://mvnrepository.com/artifact/org.wicketstuff/wicketstuff-restannotations-json --\x3e\r\n    <dependency>\r\n        <groupId>org.wicketstuff</groupId>\r\n        <artifactId>wicketstuff-restannotations-json</artifactId>\r\n        <version>7.6.0</version>\r\n    </dependency>\n"})}),"\n",(0,i.jsx)(r.h2,{id:"\u76f8\u95dc\u5be6\u4f5c\u985e\u5225",children:"\u76f8\u95dc\u5be6\u4f5c\u985e\u5225"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["AccountRestResource","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"RestResource: \u63d0\u4f9bRESTful verbs(GET,POST,DELETE,CREATE) \u4e3b\u9ad4\u7684\u985e\u5225"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["WebApplication","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Wicket \u7528\u4f86 Mount RestResource \u4f4d\u7f6e"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"restresource-accountrestresource",children:"RestResource: AccountRestResource"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"\u4e0b\u5217\u7bc4\u4f8b\u662f HttpMethod.GET"}),"\n",(0,i.jsxs)(r.li,{children:["\u6ce8\u610f MethodMapping annotation \u7684\u503c: /roles\uff0c\u8207RESTful Service \u6839\u76ee\u9304\u7d44\u5408\u5f8c\u4fbf\u662f\u8a72\u670d\u52d9\u7684URI (",(0,i.jsx)(r.a,{href:"http://localhost:8080/appName/accmanager/roles",children:"http://localhost:8080/appName/accmanager/roles"}),")"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:'    import java.util.List;\r\n     \r\n    import org.wicketstuff.rest.annotations.MethodMapping;\r\n    import org.wicketstuff.rest.contenthandling.json.objserialdeserial.GsonObjectSerialDeserial;\r\n    import org.wicketstuff.rest.contenthandling.json.webserialdeserial.JsonWebSerialDeserial;\r\n    import org.wicketstuff.rest.resource.AbstractRestResource;\r\n     \r\n    import thor.account.AccountService;\r\n    import thor.core.role.Role;\r\n     \r\n    public class AccountRestResource extends AbstractRestResource<JsonWebSerialDeserial> {\r\n     \r\n        private RestfulService service;\r\n     \r\n        public AccountRestResource(RestfulService restService) {\r\n            super(new JsonWebSerialDeserial(new GsonObjectSerialDeserial()));\r\n            this.service = restService;\r\n        }\r\n     \r\n        @MethodMapping("/roles")\r\n        public List<Role> getAllPersons() {\r\n            return service.queryAllRoles();\r\n        }\r\n     \r\n    //    @MethodMapping(value = "/roles/{index}", httpMethod = HttpMethod.DELETE)\r\n    //    public void deleteRole(int index) {\r\n    //        ...\r\n    //    }\r\n    //\r\n    //    @MethodMapping(value = "/roles", httpMethod = HttpMethod.POST)\r\n    //    public Role createRole(\r\n    //            @ValidatorKey("roleValidator") @RequestBody Role newRole) {\r\n    //       ...\r\n    //    }\r\n    //\r\n    //    @Override\r\n    //    protected void onInitialize(JsonWebSerialDeserial objSerialDeserial) {\r\n    //        super.onInitialize(objSerialDeserial);\r\n    //        registerValidator("roleValidator", new RoleValidator());\r\n    //    }\r\n     \r\n     }\n'})}),"\n",(0,i.jsx)(r.h2,{id:"wicket-webapplicationclass",children:"Wicket WebApplication.class"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"\u5728 WebApplication \u7684 init() \u4e0b mount Restful Resource"}),"\n",(0,i.jsx)(r.li,{children:"\u9808\u5728\u6b64\u8655\u5148\u627e\u51fa Resource \u6240\u9700\u7684 Beans"}),"\n",(0,i.jsx)(r.li,{children:"\u6ce8\u610f: mountResource \u7684\u7b2c\u4e00\u500b\u53c3\u6578 path : /accmanager\uff0c\u9019\u662f\u9019\u500b REST Service \u7684\u6839\u76ee\u9304"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:'\r\n    @Override\r\n    protected void init() {\r\n        super.init();\r\n        mountRestfulService();\r\n           \r\n    }\r\n  \r\n    public void mountRestfulService() {\r\n        final RestService restService = getRestfulService();\r\n             \r\n            mountResource("/accmanager", new ResourceReference("accRestReference") {\r\n            AccountRestResource resource = new AccountRestResource(\r\n                    restService );\r\n \r\n            @Override\r\n            public IResource getResource() {\r\n                return resource;\r\n            }\r\n        });\r\n    }\r\n  \r\n    public RestService getRestfulService() {\r\n       ServletContext sc = WebApplication.get().getServletContext();\r\n      WebApplicationContext applicationContext = WebApplicationContextUtils\r\n              .getWebApplicationContext(sc);\r\n \r\n        RestfulService restService = (RestfulService)applicationContext\r\n                .getBean("restfulServiceImpl");\r\n        return restService;\r\n    }\n'})}),"\n",(0,i.jsx)(r.h2,{id:"client-\u547c\u53eb\u4f7f\u7528",children:"Client \u547c\u53eb\u4f7f\u7528"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsxs)(r.p,{children:["\u53e6\u555f\u4e00Browser \u547c\u53eb",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.a,{href:"http://localhost:8080/appName/accmanager/roles",children:"http://localhost:8080/appName/accmanager/roles"})," \u4fbf\u6703\u5f97\u5230 JASON format \u7684 Roles \u8cc7\u8a0a",(0,i.jsx)(r.br,{}),"\n","(AccountRestResource \u63a1\u7528 JsonWebSerialDeserial, GsonObjectSerialDeserial )"]}),"\n",(0,i.jsxs)(r.p,{children:["\u4e5f\u53ef\u4f7f\u7528",(0,i.jsx)(r.br,{}),"\n","JacksonWebSerialDeserial, JacksonObjectSerialDeserial \u6216\u662f\u540c\u6642\u652f\u63f4\u591a\u7a2e types \u7684\u5be6\u4f5c MultiFormatSerialDeserial",(0,i.jsx)(r.br,{}),"\n","\u53ef\u53c3\u8003 ",(0,i.jsx)(r.a,{href:"https://github.com/wicketstuff/core/tree/master/wicketstuff-restannotations-parent",children:"https://github.com/wicketstuff/core/tree/master/wicketstuff-restannotations-parent"})]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);