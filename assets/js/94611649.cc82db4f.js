"use strict";(self.webpackChunktotem=self.webpackChunktotem||[]).push([[3811],{63486:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>m,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>i});var a=n(87462),r=(n(67294),n(3905));n(13848);const l={title:"Python \u683c\u5f0f\u5316\u5b57\u4e32",description:"Python String Formatting",keywords:["Python","String Format"]},o="Python \u5b57\u4e32\u683c\u5f0f\u5316\u4ecb\u7d39",p={unversionedId:"DevTech/Python/Python_Typing_StringFormatting",id:"DevTech/Python/Python_Typing_StringFormatting",title:"Python \u683c\u5f0f\u5316\u5b57\u4e32",description:"Python String Formatting",source:"@site/docs/DevTech/Python/Python_Typing_StringFormatting.md",sourceDirName:"DevTech/Python",slug:"/DevTech/Python/Python_Typing_StringFormatting",permalink:"/docs/DevTech/Python/Python_Typing_StringFormatting",draft:!1,tags:[],version:"current",frontMatter:{title:"Python \u683c\u5f0f\u5316\u5b57\u4e32",description:"Python String Formatting",keywords:["Python","String Format"]},sidebar:"tutorialSidebar",previous:{title:"Python String",permalink:"/docs/DevTech/Python/Python_Typing_String"},next:{title:"Python \u57fa\u790e\u578b\u5225\u6458\u8981",permalink:"/docs/DevTech/Python/Python_Typing_Types"}},m={},i=[{value:"\u683c\u5f0f\u5316 String (String Formatting) \u57fa\u790e\u7bc4\u4f8b",id:"\u683c\u5f0f\u5316-string-string-formatting-\u57fa\u790e\u7bc4\u4f8b",level:2},{value:'Mod Formatting Expression \u8a9e\u6cd5\u898f\u5247<span id="modeStyle"></span>',id:"mod-formatting-expression-\u8a9e\u6cd5\u898f\u5247",level:2},{value:'String Format Function \u8a9e\u6cd5\u898f\u5247<span id="functionStyle"></span>',id:"string-format-function-\u8a9e\u6cd5\u898f\u5247",level:2},{value:'f-String \u4f7f\u7528\u65b9\u5f0f<span id="fStyle"></span>',id:"f-string-\u4f7f\u7528\u65b9\u5f0f",level:2}],k={toc:i},s="wrapper";function u(t){let{components:e,...n}=t;return(0,r.kt)(s,(0,a.Z)({},k,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"python-\u5b57\u4e32\u683c\u5f0f\u5316\u4ecb\u7d39"},"Python \u5b57\u4e32\u683c\u5f0f\u5316\u4ecb\u7d39"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u9019\u908a\u50c5\u7d00\u9304 Python3 \u4e2d\u683c\u5f0f\u5316\u5b57\u4e32\u6642\u53ef\u7528\u7684\u65b9\u5f0f\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","\u4e0d\u8a0e\u8ad6 Python2 \u7684\u90e8\u5206\u3002 ")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u9019\u908a\u5148\u5c07\u683c\u5f0f\u5316\u65b9\u5f0f\u62c6\u5206\u70ba\u4e09\u985e",(0,r.kt)("br",{parentName:"p"}),"\n","A: ",(0,r.kt)("a",{parentName:"p",href:"#modeStyle"},"\u4ee5 modulo % \u70ba operator \u7684\u65b9\u5f0f"),(0,r.kt)("br",{parentName:"p"}),"\n","B: ",(0,r.kt)("a",{parentName:"p",href:"#functionStyle"},"str class \u6240\u63d0\u4f9b\u7684 format function"),(0,r.kt)("br",{parentName:"p"}),"\n","C: ",(0,r.kt)("a",{parentName:"p",href:"#fStyle"},"f \u70ba\u524d\u7db4\u7684 f-String"),"  ")),(0,r.kt)("h2",{id:"\u683c\u5f0f\u5316-string-string-formatting-\u57fa\u790e\u7bc4\u4f8b"},"\u683c\u5f0f\u5316 String (String Formatting) \u57fa\u790e\u7bc4\u4f8b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("span",{style:{color:"#0044FF"}},"\u4f7f\u7528 % mode: formatting expression")),(0,r.kt)("li",{parentName:"ul"},"%",(0,r.kt)("span",{style:{color:"#009900"}},"typecode"),(0,r.kt)("span",{style:{color:"#0044FF"}},"formatSpec"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"print('I\\'m %s, and I\\'m %d-year-old.' % ('Totem', 10))\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("span",{style:{color:"#0044FF"}},"\u4f7f\u7528 String \u7684 format function")),(0,r.kt)("li",{parentName:"ul"},"{",(0,r.kt)("span",{style:{color:"#009900"}},"index"),":",(0,r.kt)("span",{style:{color:"#0044FF"}},"formatSpec"),"}")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"print('I\\'m {1}, and I\\'m {0}-year-old.'.format(10, 'Totem'))\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("span",{style:{color:"#0044FF"}},"f-String \u683c\u5f0f\u5316\u5b57\u4e32: \u76f4\u63a5\u8b80\u53d6\u5148\u524d\u5b9a\u7fa9\u7684\u8b8a\u6578")),(0,r.kt)("li",{parentName:"ul"},"{",(0,r.kt)("span",{style:{color:"#009900"}},"index"),":",(0,r.kt)("span",{style:{color:"#0044FF"}},"formatSpec"),"}")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"name = 'Totem'\nage = 30\n\nprint(f'I\\'m {name}, and I\\'m {age}-year-old.')\n")),(0,r.kt)("h2",{id:"mod-formatting-expression-\u8a9e\u6cd5\u898f\u5247"},"Mod Formatting Expression \u8a9e\u6cd5\u898f\u5247",(0,r.kt)("span",{id:"modeStyle"})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"'pattern' % (v1, v2...)",(0,r.kt)("br",{parentName:"p"}),"\n","Formatting expression \u6307\u7684\u662f pattern \u4e2d\u4f54\u4f4d\u7b26(placeholder)\u7684\u90e8\u5206\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u4f8b\u5982: 'I am %s' \u4e2d\u7684 ",(0,r.kt)("span",{style:{color:"#0044FF"}}," ",(0,r.kt)("strong",{parentName:"p"},"%s")," "),"\u90e8\u5206   ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Syntax of Formatting expression",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("span",{style:{color:"#0044FF"}},"\u57fa\u672c\u7528\u6cd5\u50c5\u9700 %typecode, ex: %s, %d ")),"\u5373\u53ef  "),(0,r.kt)("li",{parentName:"ul"},"\u4e0b\u65b9\u64f4\u5145\u7528\u4f86\u91dd\u5c0d\u4e0d\u540c\u7684 argument values \u6216\u662f\u6d6e\u9ede\u6578\u505a\u9032\u4e00\u6b65\u683c\u5f0f\u8abf\u6574  ")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"}," %[(name)][flags][width].[precision]typecode\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"typecode: (\u5fc5\u8981)\u5b9a\u7fa9\u8cc7\u6599\u7684\u985e\u578b  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"d: decimal  "),(0,r.kt)("li",{parentName:"ul"},"s: string  "),(0,r.kt)("li",{parentName:"ul"},"f: float  "),(0,r.kt)("li",{parentName:"ul"},"o: \u516b\u9032\u5236  "),(0,r.kt)("li",{parentName:"ul"},"x: \u5341\u516d\u9032\u5236  "),(0,r.kt)("li",{parentName:"ul"},"e: \u6307\u6578  "))),(0,r.kt)("li",{parentName:"ul"},"precision: (\u9078\u7528)\u7cbe\u78ba\u4f4d\u6578\uff0c\u6307\u5c0f\u6578\u9ede\u5f8c\u7684\u4f4d\u6578\u3002  "),(0,r.kt)("li",{parentName:"ul"},"width: (\u9078\u7528)\u6574\u500b\u56de\u50b3\u5b57\u4e32\u7684\u6700\u5927\u9577\u5ea6\uff0c\u5305\u542b\u5c0f\u6578\u9ede\u3002   "),(0,r.kt)("li",{parentName:"ul"},"flag: (\u9078\u7528)\u6574\u6578\u4f4d\u88dc\u9f4a\u7b26\u865f  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u76ee\u524d python3 \u6e2c\u8a66\uff0c\u7b26\u865f\u50c5\u63a5\u53d7 ",(0,r.kt)("strong",{parentName:"li"},"0")," \u8207 ",(0,r.kt)("strong",{parentName:"li"},"\u7a7a\u767d"),"  "),(0,r.kt)("li",{parentName:"ul"},"width - precision - \u5c0f\u6578\u9ede\u5f8c\uff0c\u82e5\u9084\u6709\u5269\u9918\u9577\u5ea6\u5247\u4ee5\u6307\u5b9a\u7b26\u865f\u65bc\u5de6\u5074\u88dc\u9f4a\u3002  "))),(0,r.kt)("li",{parentName:"ul"},"name: (\u9078\u7528)\u9700\u7528 ",(0,r.kt)("strong",{parentName:"li"},"\u5c0f\u62ec\u865f")," \u5305\u8986  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u901a\u5e38 formatting expression \u4ee5 index(zero-based) \u4f86\u70ba placeholder \u53d6\u503c\u3002\u82e5\u503c\u7684\u4f86\u6e90\u70ba dict(map) \u5247\u53ef\u4ee5 key \u4f86\u53d6\u503c\u3002  ")))),(0,r.kt)("p",null," ",(0,r.kt)("em",{parentName:"p"}," flags / width / precision \u6574\u5408\u7bc4\u4f8b ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5c07 0.123\u9032\u884c\u683c\u5f0f\u5316",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5c0f\u6578\u9ede\u4e0b\u9700\u4e94\u4f4d"),(0,r.kt)("li",{parentName:"ul"},"\u7e3d\u9577\u5ea6\u542b\u5c0f\u6578\u9ede\u70ba\u5341\u4f4d"),(0,r.kt)("li",{parentName:"ul"},"\u4ee5\u7a7a\u767d(ex1),\u96f6(ex2)\u65bc\u5de6\u5074\u88dc\u9f4a")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# ex1: \u4ee5\u7a7a\u767d\u88dc\u9f4a\nformatting = '% 10.5f' % 0.123\nprint(formatting)\n#   0.12300\n\n# ex2: \u4ee50\u88dc\u9f4a\nformatting = '%010.5f' % 0.123\nprint(formatting)\n#0000.12300\n")),(0,r.kt)("p",null," ",(0,r.kt)("em",{parentName:"p"}," Dict(map) \u53d6\u503c\u7bc4\u4f8b ")," "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# map \u53d6\u503c\u7bc4\u4f8b\ndata = {'nickname': 'Totem', 'age': 20}\n\nformatting = 'I am %(nickname), I\\'m %(age)d.' % data\nprint(formatting)\n# I am Totem, I'm 20.\n")),(0,r.kt)("h2",{id:"string-format-function-\u8a9e\u6cd5\u898f\u5247"},"String Format Function \u8a9e\u6cd5\u898f\u5247",(0,r.kt)("span",{id:"functionStyle"})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"pattern.format(varArgs)"),(0,r.kt)("p",{parentName:"blockquote"},"pattern \u4e2d\u4ee5 ",(0,r.kt)("strong",{parentName:"p"},"\u5927\u62ec\u865f")," \u5305\u8986\u8981\u88ab\u53d6\u4ee3\u7684\u4f54\u4f4d\u7b26",(0,r.kt)("br",{parentName:"p"}),"\n","\u4f54\u4f4d\u7b26\u53ef\u5206\u70ba\u4e09\u985e:",(0,r.kt)("br",{parentName:"p"}),"\n","A : by order, omit index",(0,r.kt)("br",{parentName:"p"}),"\n","B : ",(0,r.kt)("span",{style:{color:"#0044FF"}}," ",(0,r.kt)("strong",{parentName:"p"},"by zero-based index")," :\u63a8\u85a6\u7528\u6cd5"),(0,r.kt)("br",{parentName:"p"}),"\n","C : by place-holders  ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Syntax of Pattern String")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"  {fieldname!conversionFlag:formatSpec}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"fieldname: \u53c3\u6578\u7684 zero-bserd index, placholder, name"),(0,r.kt)("li",{parentName:"ul"},"conversionFlag: \u5167\u6587\u8f49\u63db",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"a: \u53d6\u503c\u7684 ASCII code"),(0,r.kt)("li",{parentName:"ul"},"r: \u4ee5 repr \u5448\u73fe"),(0,r.kt)("li",{parentName:"ul"},"s: \u4ee5 str \u5448\u73fe"))),(0,r.kt)("li",{parentName:"ul"},"formatSpec: \u9032\u968e\u683c\u5f0f\u8abf\u6574\uff0c\u5192\u865f\u5f8c\u9762\u7684\u90e8\u5206     ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7d71\u4e00 \u9577\u5ea6/\u5c0d\u9f4a\u65b9\u5f0f/\u9577\u5ea6\u88dc\u9f4a/\u7cbe\u78ba\u5ea6 (\u53c3\u8003 Formatting expression)  "),(0,r.kt)("li",{parentName:"ul"},"syntax of formatSpec  "),(0,r.kt)("li",{parentName:"ul"},"alignment: \u5de6\u5c0d\u9f4a(<), \u53f3\u5c0d\u9f4a(>), \u5c45\u4e2d\u5c0d\u9f4a(^), \u5c0f\u6578\u9ede\u5c45\u4e2d(=)  "),(0,r.kt)("li",{parentName:"ul"},"flag: \u88dc\u9f4a\u7b26\u865f(\u6c92\u9650\u5236)  ")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"  # syntax of formatSpec\n [[flag]aligment][sign][width].[precision][typecode]    \n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"  conversionFlag \u7bc4\u4f8b  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# \u5370\u51fa \u5716\u9a30\u7684 ASCII code\nf = 'a = {0!a}'.format('\u5716\u9a30')\nprint(f)\n# a = '\\u5716\\u9a30'\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"}," formatSpec \u7bc4\u4f8b ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# \u6d6e\u9ede\u65782.2 \u683c\u5f0f\u5316\u70ba: \u9577\u5ea610, \u7cbe\u5ea6\u4e94\u4f4d, \u5de6\u5074\u70ba\u8db3\u4f4d\u6578\u88dc\u7a7a\u767d\nf = '{0: 10.5f}'.format(2.2)\nprint(f)\n#   2.20000\n\nf = 'I buy a brand new iPhone, It cost me ${0:->10.3f} dollars.'.format(10.12)\nprint(f)\n#I buy a brand new iPhone, It cost me $----10.120 dollars.\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"}," by order, omit index \u7bc4\u4f8b ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# by order, omit index\nf = 'I am {}, I\\'m {}.'.format('Totem', 10)\nprint(f)\n\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"}," ",(0,r.kt)("strong",{parentName:"em"},(0,r.kt)("span",{style:{color:"#0044FF"}},"\u63a8\u85a6\u7528\u6cd5"))," : by zero-based index \u7bc4\u4f8b"),"  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# by zero-based index\n# \u500b\u4eba\u63a8\u85a6\u5beb\u6cd5\nf = 'I am {0}, I\\'m {1}!'.format('Totem', 10)\nprint(f)\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"}," by zero-based index \u7bc4\u4f8b"),"  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# by zero-based index\n# \u5bb9\u6613\u641e\u6df7\uff0c\u586b index \u90e8\u5206\u9700\u5beb\u5728\u5927\u62ec\u865f\u5167\u3002\nvalues = ['Totem', 10]\nf = 'I am {0[0]}, I\\'m {0[1]}!'.format(values)\nprint(f)\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"}," by place-holders \u7bc4\u4f8b "),"  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# by place-holders\nf = 'I am {name}, I\\'m {age}.'.format(name='Totem', age=10)\nprint(f)\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"}," by place-holders \u7bc4\u4f8b ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# by place-holders\nplaceholders = {'name':'Totem', 'age':10}\nf = 'I am {name}, I\\'m {age}.'.format(**placeholders)\nprint(f)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8a3b: \u9023\u7e8c\u5169\u500b asterisks \u4ee3\u8868 unpack dictionary."),(0,r.kt)("li",{parentName:"ul"},"\u8a3b: \u55ae\u4e00\u500b asterisk \u4ee3\u8868 unpack sequence (list or tuple \u7b49).")),(0,r.kt)("h2",{id:"f-string-\u4f7f\u7528\u65b9\u5f0f"},"f-String \u4f7f\u7528\u65b9\u5f0f",(0,r.kt)("span",{id:"fStyle"})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u53ef\u60f3\u50cf\u6210\u662f format function \u65b9\u5f0f\u7684\u8a9e\u6cd5\u7cd6\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","f-String \u53ef\u76f4\u63a5\u8b80\u53d6\u5148\u524d\u5df2\u5b9a\u7fa9\u7684\u8b8a\u6578\u5167\u5bb9\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","\u4e26\u76f4\u63a5\u5c07\u8b8a\u6578\u503c\u5e36\u5165 template\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u8b8a\u6578\u7684 place holder \u8207 string format function \u63a1\u7528\u76f8\u540c\u7684 Pattern String Syntax")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Syntax of f String")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"newStr = f'{fieldname!conversionFlag:formatSpec}'\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"}," f-String \u7bc4\u4f8b ")," "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# f-string\nphone = 'iPhone'\nprize = 30.5\n\nprint(f'I buy a brand new {phone}, It cost me ${prize:->8.3f} dollars. ')\n#I buy a brand new iPhone, It cost me $--30.500 dollars.  \n")))}u.isMDXComponent=!0}}]);