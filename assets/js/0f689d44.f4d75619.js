"use strict";(self.webpackChunktool=self.webpackChunktool||[]).push([[6144],{1758:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>a,frontMatter:()=>n,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"id":"PostgreSQL/PosgreSQL_copy_CSV_to_table","title":"PosgreSQL copy CSV to table","description":"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV","source":"@site/docs/PostgreSQL/PosgreSQL_copy_CSV_to_table.md","sourceDirName":"PostgreSQL","slug":"/PostgreSQL/PosgreSQL_copy_CSV_to_table","permalink":"/docs/PostgreSQL/PosgreSQL_copy_CSV_to_table","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"PosgreSQL copy CSV to table","description":"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV","keywords":["postgresql","copy","CSV"]},"sidebar":"totem_sidebar","previous":{"title":"PosgreSQL Backup and Restore","permalink":"/docs/PostgreSQL/PosgreSQL_Backup_and_Restore"},"next":{"title":"PosgreSQL copy from CSV","permalink":"/docs/PostgreSQL/PosgreSQL_copy_from_CSV"}}');var t=r(4848),o=r(8453);const n={title:"PosgreSQL copy CSV to table",description:"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",keywords:["postgresql","copy","CSV"]},c="PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",i={},p=[{value:"export.sql \u5167\u5bb9\u7bc4\u4f8b",id:"exportsql-\u5167\u5bb9\u7bc4\u4f8b",level:2},{value:"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",level:2},{value:"psql \u57f7\u884c\u65b9\u5f0f",id:"psql-\u57f7\u884c\u65b9\u5f0f",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"posgresql-\u8cc7\u6599\u532f\u51fa\u6210-csv",children:"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["example: totem_user \u8cc7\u6599\u8868\u5167\u5bb9\u8f38\u51fa\u5230 /tmp/result.csv\u3002","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"step1: export.sql \u6307\u4ee4\u6a94\u6e96\u5099"}),"\n",(0,t.jsx)(s.li,{children:"step2: SQL Shell(psql) \u57f7\u884c export.sql \u5167\u5bb9\u65b9\u5f0f"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"exportsql-\u5167\u5bb9\u7bc4\u4f8b",children:"export.sql \u5167\u5bb9\u7bc4\u4f8b"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u8a3b: \u4e0b\u9762\u7bc4\u4f8b\u5c07 copy \u6307\u4ee4\u62c6\u6210\u591a\u884c\u65b9\u4fbf\u95b1\u8b80\uff0c\u5be6\u969b\u4f7f\u7528\u6642\u5efa\u8b70\u907f\u514d\u51fa\u73fe\u65b7\u884c\u3002"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"\\encoding UTF8\r\n\\timing on\r\n\\COPY  \r\n  ( \r\n      select username, expired_date, email from totem_user\r\n   ) \r\n   to '/tmp/result.csv' DELIMITER ',' CSV HEADER FORCE QUOTE * ;\r\n\\timing off\n"})}),"\n",(0,t.jsx)(s.h2,{id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",children:"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"totem=# \\i 'D:/tmp/export.sql'\n"})}),"\n",(0,t.jsx)(s.h2,{id:"psql-\u57f7\u884c\u65b9\u5f0f",children:"psql \u57f7\u884c\u65b9\u5f0f"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"psql -U postgres -d totem -p xxxx -h xxx.xxx.xxx.xxx -f export.sql\n"})}),"\n",(0,t.jsx)(s.h1,{id:"\u53c3\u8003",children:"\u53c3\u8003"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"./PosgreSQL_copy_from_CSV",children:"PostgreSQL \u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"./SqlShell_psql_Basic",children:"PosgreSQL:\u76f4\u63a5\u65bc SQL Shell (psql) \u57f7\u884c sql \u6a94"})}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>n,x:()=>c});var l=r(6540);const t={},o=l.createContext(t);function n(e){const s=l.useContext(o);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:n(e.components),l.createElement(o.Provider,{value:s},e.children)}}}]);