"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[3883],{28453:(r,n,e)=>{e.d(n,{R:()=>i,x:()=>a});var s=e(96540);const o={},t=s.createContext(o);function i(r){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof r?r(n):{...n,...r}}),[n,r])}function a(r){let n;return n=r.disableParentContext?"function"==typeof r.components?r.components(o):r.components||o:i(r.components),s.createElement(t.Provider,{value:n},r.children)}},43865:(r,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Python/Advanced/Python_2_Decorator","title":"Python Decorator","description":"Python Decorator","source":"@site/docs/31_Python/03_Advanced/Python_2_Decorator.md","sourceDirName":"31_Python/03_Advanced","slug":"/Python/Advanced/Python_2_Decorator","permalink":"/docs/Python/Advanced/Python_2_Decorator","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Python Decorator","description":"Python Decorator","keywords":["Python","Decorator"]},"sidebar":"totem_sidebar","previous":{"title":"Python \u5e38\u6578","permalink":"/docs/Python/Advanced/Python_2_Constant"},"next":{"title":"\u95dc\u65bc Python \u6a94\u6848\u7de8\u78bc","permalink":"/docs/Python/Advanced/Python_2_Encoding"}}');var o=e(74848),t=e(28453);const i={title:"Python Decorator",description:"Python Decorator",keywords:["Python","Decorator"]},a="Python Decorator \u88dd\u98fe\u5668",l={},c=[{value:"Function Decorator: Basic",id:"function-decorator-basic",level:2},{value:"Function Decorator :\u6dfb\u52a0 Annotation \u5c6c\u6027",id:"function-decorator-\u6dfb\u52a0-annotation-\u5c6c\u6027",level:2},{value:"Class Decorator: \u4ee5\u985e\u5225\u7ba1\u7406\u591a\u500b decorators",id:"class-decorator-\u4ee5\u985e\u5225\u7ba1\u7406\u591a\u500b-decorators",level:2},{value:"Class Decorator: \u985e\u5225\u7ba1\u7406\u4e0b\u6dfb\u52a0 Annotation \u5c6c\u6027",id:"class-decorator-\u985e\u5225\u7ba1\u7406\u4e0b\u6dfb\u52a0-annotation-\u5c6c\u6027",level:2},{value:"Decorator \u5f8c\u8a18:\u8986\u5beb __call__ \u5efa\u7acb Decorator",id:"decorator-\u5f8c\u8a18\u8986\u5beb-__call__-\u5efa\u7acb-decorator",level:2}];function d(r){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...r.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"python-decorator-\u88dd\u98fe\u5668",children:"Python Decorator \u88dd\u98fe\u5668"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5148\u7c21\u55ae\u8aaa\u751a\u9ebc\u662f Decorator Pattern:",(0,o.jsx)(n.br,{}),"\n","\u5728 Design Pattern \u4e2d\u662f\u9019\u6a23\u8aaa\u660e\u7684\uff0c",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.strong,{children:(0,o.jsx)("span",{style:{color:"#0044FF"},children:"\u4e00\u7a2e Structural Pattern\uff0c\u5141\u8a31\u5728\u4e0d\u6539\u8b8a\u539f\u59cb\u7a0b\u5f0f\u78bc\u7d50\u69cb\u4e0b\uff0c\u70ba\u65e2\u6709\u7a0b\u5f0f\u589e\u52a0\u65b0\u529f\u80fd\u3002"})}),(0,o.jsx)(n.br,{}),"\n","\u770b\u5230\u9019\u8aaa\u660e\u76f4\u89ba\u60f3\u5230\u7684\u61c9\u7528\u662f:",(0,o.jsx)(n.br,{}),"\n","logging\u3001DB Connection \u6e96\u5099\u3001IO \u6e96\u5099\u7b49\u91cd\u8907\u4e14\u56fa\u5b9a\u7684\u57f7\u884c\u52d5\u4f5c\u3002",(0,o.jsx)(n.br,{}),"\n","\u6240\u4ee5\u63a5\u4e0b\u4f86\u7684\u4f8b\u5b50\u90fd\u6703\u4ee5\u70ba Business Function \u9032\u884c log \u70ba\u4e3b\u8ef8\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Python \u7684 Decorator \u4e3b\u8981\u9084\u662f Functions\uff0c",(0,o.jsx)(n.br,{}),"\n","Decorator Functions \u53ef\u4ee5\u662f first-class \u6210\u54e1 Functions\uff0c\u4e5f\u53ef\u4ee5\u662f Class \u7684 Methods\u3002",(0,o.jsx)(n.br,{}),"\n","Decorators \u9664\u4e86\u55ae\u7d14\u7684\u70ba Business Objects \u6dfb\u52a0\u529f\u80fd\u5916\uff0c\u4e5f\u53ef\u4ee5\u63a5\u6536\u53c3\u6578\u589e\u52a0\u4f7f\u7528\u8b8a\u5316\uff0c",(0,o.jsx)(n.br,{}),"\n","\u6b64\u5916\uff0c\u4e00\u500b Business Function \u4e5f\u53ef\u4ee5\u88ab\u591a\u500b Decorators \u4fee\u98fe\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u8a3b:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u9019\u908a\u70ba\u4e86\u65b9\u4fbf\u8a18\u61b6\u8207\u8aaa\u660e\uff0c\u5c07\u4e3b\u89d2\u51a0\u4e0a Decorator/Business \u4f86\u5340\u5206\u88dd\u98fe\u8005\u8207\u88ab\u88dd\u98fe\u8005\u3002"}),"\n",(0,o.jsxs)(n.li,{children:["\u53c3\u8003 ",(0,o.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Aspect-oriented_programming",children:"AOP Aspect-Oriented Programming"}),"\uff0cAOP \u662f\u4e00\u7a2e\u5e38\u898b\u7684  Decorator Pattern \u7684\u5be6\u4f5c\u3002"]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Inversion_of_control",children:"Inversion of control, IOC"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"function-decorator-basic",children:"Function Decorator: Basic"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Python \u4e2d Business Function \u662f\u4e00\u7d1a\u516c\u6c11\uff0c\u53ef\u4ee5\u7576\u8b8a\u6578\u50b3\u905e\u3002",(0,o.jsx)(n.br,{}),"\n","\u6240\u4ee5\u6700\u7c21\u55ae\u7684 Decorator \u662f\u63a5\u6536 Business Function\uff0c",(0,o.jsx)(n.br,{}),"\n","\u4e26\u5728\u57f7\u884c Business \u524d\u57f7\u884c\u6307\u5b9a\u52d5\u4f5c\u3002",(0,o.jsx)(n.br,{}),"\n","\u4e0b\u9762\u7bc4\u4f8b\uff0c",(0,o.jsx)(n.br,{}),"\n","Logger \u63a5\u6536 Business Function(login fucn)\uff0c",(0,o.jsx)(n.br,{}),"\n","\u4e26\u5c07\u76f8\u95dc\u52d5\u4f5c\u5c01\u88dd\u65bc Wrapper Function\uff0c",(0,o.jsx)(n.br,{}),"\n","\u4e5f\u5c31\u662f\u8aaa login \u52a0\u4e0a @Logger \u4e4b\u5f8c\u6703\u5f97\u5230 wrapper function\u3002",(0,o.jsx)(n.br,{}),"\n","login function \u6240\u5f97\u5230\u7684\u53c3\u6578\u4e5f\u6703 delegate \u7d66 Wrapper\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# \u85c9\u7531 Logger \u5c07 Business Function \u5305\u8986\u5728 __Wrapper Function__ \u4e4b\u4e2d\u3002\r\ndef Logger(business_function):\r\n    def wrapper(*vArgs, **kwArgs):\r\n        print(\"-logger: %s method start\" % business_function.__name__)\r\n        print('vArgs: ', vArgs)\r\n        print('kwArgs: ', kwArgs)\r\n        print(\"-Function go~\")\r\n        result = business_function(*vArgs, **kwArgs)\r\n        print(\"-logger: %s method end\" % business_function.__name__)\r\n        return result\r\n    return wrapper\r\n\r\n@Logger\r\ndef login(username = 'username', pwd ='pwd'):\r\n    print('user_login')\r\n    print('username: ' , username)\r\n    print('pwd: ', pwd)\r\n\r\naction = login(username = 'totem', pwd ='password')\r\n\r\n# -logger: login method start\r\n# vArgs:  ()\r\n# kwArgs:  {'username': 'totem', 'pwd': 'password'}\r\n# -Function go~\r\n# user_login\r\n# username:  totem\r\n# pwd:  password\r\n# -logger: login method end\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u4e0a\u65b9\u52d5\u4f5c\u7b49\u540c\u65bc"})," ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"logger = Logger\r\nloginExecutor = logger(login)\r\nloginExecutor(username = 'totem', pwd ='password')\n"})}),"\n",(0,o.jsx)(n.h2,{id:"function-decorator-\u6dfb\u52a0-annotation-\u5c6c\u6027",children:"Function Decorator :\u6dfb\u52a0 Annotation \u5c6c\u6027"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# \u5e36\u53c3\u6578\u7684 Decorator \u8981\u96d9\u5c64\u5c01\u88dd\r\n# \u4e00\u5c64\u5c01\u88dd Decorator \u6240\u9700\u53c3\u6578\r\n# \u53e6\u4e00\u5c64\u5c01\u88dd Business Function \r\ndef Transaction(driver, url, user, pwd):  # \u9019\u908a\u7684\u662f\u74b0\u5883\u6e96\u5099\u6240\u9700\u8cc7\u6599\r\n    print('Prepare DB Connection driver=%s,url=%s,user=%s,pwd=%s. ' % (driver, url, user, pwd))\r\n    connection_handler = 'my_db_handler'\r\n    def decorator(business_fun):\r\n        @Logger\r\n        def argsCatcher(*vArgs, **kwArgs):\r\n            result = business_fun(*vArgs, **kwArgs)\r\n             print('Disconnect DB by %s.' % connection_handler)\r\n            return result\r\n        return argsCatcher\r\n    return decorator\r\n\r\n@Transaction('postgresql', 'db.url.schema','totem', 'pwd')\r\ndef buy(*vArgs, **kwArgs):\r\n    print(\"Deal~ Buy All!\")\r\n\r\ngift = buy(\"ring\", 'chocolate', 'flowers')\r\n\r\n# Prepare DB Connection driver=postgresql,url=db.url.schema,user=totem,pwd=pwd. \r\n# -logger: argsCatcher method start\r\n# vArgs:  ('ring', 'chocolate', 'flowers')\r\n# kwArgs:  {}\r\n# -Function go~\r\n# Deal~ Buy All!\r\n# Disconnect DB by my_db_handler.\r\n# -logger: argsCatcher method end\n"})}),"\n",(0,o.jsx)(n.h2,{id:"class-decorator-\u4ee5\u985e\u5225\u7ba1\u7406\u591a\u500b-decorators",children:"Class Decorator: \u4ee5\u985e\u5225\u7ba1\u7406\u591a\u500b decorators"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u4e0a\u9762\u6709\u63d0\u5230 Annotation Decorator \u53ef\u4ee5\u70ba Business Function \u6dfb\u52a0\u984d\u5916\u529f\u80fd\u8207\u6e96\u5099\u52d5\u4f5c\u3002",(0,o.jsx)(n.br,{}),"\n","\u800c Decorator \u672c\u8eab\u662f\u4e00\u500b Function\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e5f\u90fd\u662f\u4e00\u7d1a (first-class) \u6210\u54e1\u51fd\u6578\u7684\u4f8b\u5b50\u3002",(0,o.jsx)(n.br,{}),"\n","\u63a5\u4e0b\u4f86\u8981\u4ecb\u7d39\u7684\u662f\u7576 Decorator \u4ee5 Class \u70ba host \u6642\u7684\u8655\u7406\u65b9\u5f0f\u3002",(0,o.jsx)(n.br,{}),"\n","\u5ef6\u7e8c\u4e0a\u9762\u7684\u767c\u60f3\uff0c\u6211\u8a2d\u8a08\u4e86\u4e00\u500b Logger\uff0c",(0,o.jsx)(n.br,{}),"\n","\u5229\u7528\u534a\u6b98\u7684 Decorator \u5c07\u8cc7\u6599\u8f38\u51fa\u5230\u6307\u5b9a\u4f4d\u7f6e\u3002",(0,o.jsx)(n.br,{}),"\n","\u5269\u9918\u90e8\u5206\u53ef\u4ee5\u81ea\u884c\u64f4\u5145\u4e0d\u540c\u7684 Printer subclass\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u8a3b:"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u8a66\u8a66\u4ee5 Decorator \u4f86\u505a Form Components \u7684 Validator\uff0c\u9032\u884c\u57fa\u672c\u683c\u5f0f\u6aa2\u67e5\u3002",(0,o.jsx)(n.br,{}),"\n","\u6216\u662f\u5be6\u4f5c\u505a Web UI Event Handler\uff0c\u70ba event \u64f7\u53d6\u8cc7\u6599\u6216\u8a3b\u518a\u8655\u7406\u51fd\u5f0f\u3002"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Decorator: Print message to somewhere"})," ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Decorator\r\nclass Printer:\r\n    def __init__(self, infoFile='info.txt', errorFile= 'error.txt'):\r\n        self.infoFile = infoFile\r\n        self.errorFile = errorFile\r\n        # alternative ways: prepare mail sender/ console printer/logger server....\r\n\r\n    def info(self, dest=''):\r\n        print('log info to : ', self.infoFile if dest == '' else dest)\r\n        def fun_wrapper(business_function):\r\n            def arg_wrapper(*vArgs, **kwArgs):\r\n                print(\"-logger: %s method start\" % business_function.__name__)\r\n                print('vArgs: ', vArgs)\r\n                print('kwArgs: ', kwArgs)\r\n                print(\"-Function go~\")\r\n                result = business_function(*vArgs, **kwArgs)\r\n                print(\"-logger: %s method end\" % business_function.__name__)\r\n                return result\r\n            return arg_wrapper\r\n        return fun_wrapper\r\n\r\n    def error(self, dest=''):\r\n        print('log error to : ', self.errorFile if dest == '' else dest)\r\n        def fun_wrapper(business_function):\r\n            def arg_wrapper(*vArgs, **kwArgs):\r\n                pass # moitted\r\n            return arg_wrapper\r\n        return fun_wrapper\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Logger Util: to print and to manage destinations"})," ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Util Class\r\nclass Logger:\r\n    filePrinter = Printer(infoFile='info.txt', errorFile='error.txt')\r\n    stdoutPrinter = Printer(infoFile='console_info', errorFile='console_error')\r\n\r\n    def __init__(self, file=False, std=True):\r\n        self.toFile = file\r\n        self.toStd = std\r\n\r\n    @filePrinter.info()\r\n    def info_file(self, *message):\r\n        print(*message)\r\n\r\n    @filePrinter.error()\r\n    def error_file(self, *message):\r\n        print(*message)\r\n\r\n    @stdoutPrinter.info()\r\n    def info_std(self, *message):\r\n        print(*message)\r\n\r\n    @stdoutPrinter.error()\r\n    def error_std(self, *message):\r\n        print(*message)\r\n\r\n    def info(self, *message):\r\n        print(\"Util info \", message)\r\n        if self.toFile:\r\n            self.info_file(message)\r\n        if self.toStd:\r\n            self.info_std(message)\r\n\r\n    def error(self, *message):\r\n        print(\"Util error \", *message)\r\n        if self.toFile:\r\n            self.error_file(*message)\r\n        if self.toStd:\r\n            self.error_std(*message)\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Run test"})," ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u7576 \u547c\u53eb logger.info \u6216 logger.error \u6642\u6703\u81ea\u52d5\u4f9d\u64da Logger \u5efa\u7acb\u6642\u7684\u8a2d\u5b9a\u5c07\u8cc7\u6599\u8f38\u51fa\u81f3\u6307\u5b9a\u4f4d\u7f6e"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'def hand_shake(device, signal):\r\n    logger = Logger(file=True, std=True)\r\n    try:\r\n        remote_connect()\r\n        logger.info("Connected")\r\n    except Exception as e:\r\n        logger.error("Connection disrupted", str(e), repr(e))\r\n\r\nhand_shake("device", "signal")\n'})}),"\n",(0,o.jsx)(n.h2,{id:"class-decorator-\u985e\u5225\u7ba1\u7406\u4e0b\u6dfb\u52a0-annotation-\u5c6c\u6027",children:"Class Decorator: \u985e\u5225\u7ba1\u7406\u4e0b\u6dfb\u52a0 Annotation \u5c6c\u6027"}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0a\u9762 Decorator \u7bc4\u4f8b\u5176\u5be6\u5df2\u7d93\u6e96\u5099\u597d\u76f8\u95dc\u5de5\u4f5c\u4e86\uff0c\u50c5\u9808\u5728 Util \u547c\u53eb\u6642\u7d66\u4e88\u6578\u6027\u8cea\u4fbf\u53ef\u5be6\u73fe\uff0c",(0,o.jsx)("br",{}),"\r\n\u7a0b\u5f0f\u7247\u6bb5\u5982\u4e0b: ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'\r\n    def info(self, dest=\'\'):\r\n        # omitted\r\n\r\n    @filePrinter.info("customized.log")\r\n    def info_file(self, *message):\r\n        print(*message)\r\n\r\n    @filePrinter.error("customized_error.log")\r\n    def error_file(self, *message):\r\n        print(*message)\r\n        \n'})}),"\n",(0,o.jsx)(n.h2,{id:"decorator-\u5f8c\u8a18\u8986\u5beb-__call__-\u5efa\u7acb-decorator",children:"Decorator \u5f8c\u8a18:\u8986\u5beb __call__ \u5efa\u7acb Decorator"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Decorator \u53ef\u4ee5\u8f14\u52a9 Business Function \u4e26\u57f7\u884c\u67d0\u4e9b\u9644\u52a0\u7684\u52d5\u4f5c\u3002",(0,o.jsx)(n.br,{}),"\n","Python \u4e2d\u5177\u6709\u57f7\u884c\u80fd\u529b\u7684\u9664\u4e86 Function/Method \u4e4b\u5916\uff0c\u5225\u5fd8\u4e86\u9084\u6709 Constructor\u3002",(0,o.jsx)(n.br,{}),"\n","\u6240\u4ee5\uff0cDecorator \u9664\u4e86\u4ee5 Function \u4f86\u5be6\u4f5c\u5916\u4e5f\u53ef\u4ee5\u5728\u5efa\u69cb\u6642\u5be6\u4f5c\u3002",(0,o.jsx)(n.br,{}),"\n","\u6b64\u6642\u9700\u8981\u7684\u662f\u8986\u5beb __call__() \u9019\u500b\u65b9\u6cd5\u3002",(0,o.jsx)(n.br,{}),"\n","\u4e5f\u5c31\u662f\u4e0d\u660e\u78ba\u7684\u547c\u53eb\u6307\u5b9a\u51fd\u6578\uff0c\u800c\u662f\u96b1\u542b\u7684\u547c\u53eb __call__\u3002",(0,o.jsx)(n.br,{}),"\n","\u500b\u4eba\u662f\u4e0d\u504f\u597d\u9019\u7a2e\u65b9\u5f0f\u3002\u7562\u7adf\u82e5\u8981\u7528\u5230 Class\uff0c\u57fa\u672c\u4e0a\u61c9\u8a72\u6253\u7b97\u505a\u4e9b\u5c01\u88dd\u7ba1\u7406\u3002",(0,o.jsx)(n.br,{}),"\n","\u4e5f\u5c31\u662f\u5c07\u591a\u500b\u76f8\u95dc\u7684  Decorators \u653e\u5728\u4e00\u8d77\u7ba1\u7406\u3002",(0,o.jsx)(n.br,{}),"\n","\u8986\u5beb __call__() \u6709\u9ede\u9055\u53cd\u500b\u4eba\u958b\u767c\u7fd2\u6163\uff0c\u6240\u4ee5\u4e0d\u9019\u9ebc\u505a(\u8a9e\u6cd5\u4e0a\u662f\u53ef\u4ee5\u7684)\u3002",(0,o.jsx)(n.br,{}),"\n","\u5c0d\u6211\u4f86\u8aaa\u4ed6\u53ea\u6709\u4e00\u500b\u597d\u8655\uff0c\u5c31\u662f Annotation \u5c3e\u7aef\u4e0d\u9700\u8981\u52a0\u4e0a\u5c0f\u62ec\u865f()\u800c\u5df2\u3002",(0,o.jsx)(n.br,{}),"\n","\u4e0b\u9762\u662f\u4e00\u500b\u7bc4\u4f8b\uff0c\u4e0d\u591a\u4f5c\u89e3\u91cb..."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Class Decorator : by constructor"})," ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'class DecoratorClass(object):\r\n    def __init__(self, func):\r\n        self.func = func\r\n\r\n    def __call__(self, *args, **kwargs):\r\n        print("before call")\r\n        result = self.func(*args, **kwargs)\r\n        print("after call")\r\n        return result\r\n\r\n@DecoratorClass # \u9019\u88e1\u4e0d\u662f method, \u6545\u7701\u7565\u4e86 ()\r\ndef printHelloWorld():\r\n    print("Hello World")\r\n\r\nprintHelloWorld()\r\n# before call\r\n# Hello World\r\n# after call\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Class Decorator : by constructor with annotation attr"})," ",(0,o.jsx)("br",{})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'\r\nclass DecoratorClass(object):\r\n    def __init__(self, annotation_attr):\r\n        self.attr = annotation_attr\r\n        print("Prepare", self.attr)\r\n\r\n    def __call__(self, func):\r\n        def wrapper(*args, **kwargs):\r\n            print("before call")\r\n            result = func(*args, **kwargs)\r\n            print("after call")\r\n            return result\r\n        return wrapper\r\n\r\n\r\n@DecoratorClass("Oracle DB")\r\ndef saveEntity(entity):\r\n    print(entity)\r\n\r\nscore = saveEntity("Final Exam: 85%")\r\n# Prepare Oracle DB\r\n# before call\r\n# Final Exam: 85%\r\n# after call\r\n\n'})})]})}function g(r={}){const{wrapper:n}={...(0,t.R)(),...r.components};return n?(0,o.jsx)(n,{...r,children:(0,o.jsx)(d,{...r})}):d(r)}}}]);