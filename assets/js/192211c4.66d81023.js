"use strict";(self.webpackChunktotem=self.webpackChunktotem||[]).push([[6158],{53840:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var r=n(87462),a=(n(67294),n(3905));n(13848);const o={title:"Python \u4f8b\u5916\u8207\u932f\u8aa4",description:"Python Exception and Error",keywords:["Python","Exception Handling"]},l="Python \u4f8b\u5916\u8207\u932f\u8aa4",p={unversionedId:"DevTech/Python/Advanced/Python_2_Exception_Error",id:"DevTech/Python/Advanced/Python_2_Exception_Error",title:"Python \u4f8b\u5916\u8207\u932f\u8aa4",description:"Python Exception and Error",source:"@site/docs/DevTech/Python/03_Advanced/Python_2_Exception_Error.md",sourceDirName:"DevTech/Python/03_Advanced",slug:"/DevTech/Python/Advanced/Python_2_Exception_Error",permalink:"/docs/DevTech/Python/Advanced/Python_2_Exception_Error",draft:!1,tags:[],version:"current",frontMatter:{title:"Python \u4f8b\u5916\u8207\u932f\u8aa4",description:"Python Exception and Error",keywords:["Python","Exception Handling"]},sidebar:"totem_sidebar",previous:{title:"\u95dc\u65bc Python \u6a94\u6848\u7de8\u78bc",permalink:"/docs/DevTech/Python/Advanced/Python_2_Encoding"},next:{title:"Python \u51fd\u6578",permalink:"/docs/DevTech/Python/Advanced/Python_2_Function"}},i={},s=[{value:"Syntax Error: \u8a9e\u6cd5\u932f\u8aa4",id:"syntax-error-\u8a9e\u6cd5\u932f\u8aa4",level:2},{value:"Exception: \u4f8b\u5916",id:"exception-\u4f8b\u5916",level:2},{value:"Exception Handling: \u4f8b\u5916\u8655\u7406",id:"exception-handling-\u4f8b\u5916\u8655\u7406",level:2},{value:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916",id:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916",level:2},{value:"\u62cb\u51fa\u4f8b\u5916",id:"\u62cb\u51fa\u4f8b\u5916",level:2},{value:'With As context management <span id="with_as_codeblock">\xa0</span>',id:"with-as-context-management-",level:2}],c={toc:s},k="wrapper";function h(t){let{components:e,...n}=t;return(0,a.kt)(k,(0,r.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"python-\u4f8b\u5916\u8207\u932f\u8aa4"},"Python \u4f8b\u5916\u8207\u932f\u8aa4"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Python \u7684",(0,a.kt)("a",{parentName:"p",href:"https://docs.python.org/zh-tw/3/library/exceptions.html#bltin-exceptions"},"\u5167\u5efa\u4f8b\u5916"),"\u4e2d\u53ef\u4ee5\u770b\u5230\uff0cException \u7684\u5b50\u985e\u5225\u591a\u6578\u662f\u4ee5 Error \u7d50\u5c3e\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u6240\u4ee5\uff0c\u6709\u6642 Error \u6703\u76f4\u63a5\u88ab\u8996\u70ba\u662f\u4e00\u7a2e Exception \u7684\u610f\u601d\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u4e0d\u904e ",(0,a.kt)("a",{parentName:"p",href:"https://docs.python.org/3/tutorial/errors.html"},"Python \u6587\u4ef6"),"\u4f3c\u4e4e\u628a Error \u9019\u500b\u5b57\u773c\u5f37\u8abf\u70ba Syntax Error\uff0c\n\u6709\u5225\u65bc Exception \u9019\u500b Class \u4e0b\u7684\u5b50\u985e\u5225\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u6211\u9019\u908a\u9084\u662f\u628a Exception/Error \u8996\u70ba\u540c\u4e00\u985e\uff0cSyntax Error \u53e6\u5916\u8a0e\u8ad6")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Reference")," :",(0,a.kt)("br",null)),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docs.python.org/3/tutorial/errors.html"},"Errors and Exceptions")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docs.python.org/zh-tw/3/tutorial/errors.html"},"\u932f\u8aa4\u548c\u4f8b\u5916")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docs.python.org/3/library/exceptions.html#bltin-exceptions"},"Built-in Exceptions")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docs.python.org/zh-tw/3/library/exceptions.html#bltin-exceptions"},"\u5167\u5efa\u7684\u4f8b\u5916"))),(0,a.kt)("h2",{id:"syntax-error-\u8a9e\u6cd5\u932f\u8aa4"},"Syntax Error: \u8a9e\u6cd5\u932f\u8aa4"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5c31\u662f Python \u76f4\u8b6f\u5668\u5728\u89e3\u6790\u7a0b\u5f0f\u6cd5\u6642\u6240\u767c\u73fe\u7684\u932f\u8aa4\uff0c\u53c8\u7a31\u70ba Parsing Errors\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u7c21\u55ae\u8aaa\u5c31\u662f\u7a0b\u5f0f\u78bc\u76f4\u63a5\u88ab\u62d2\u65bc\u9580\u5916\u7121\u6cd5\u4f7f\u7528\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","Pythonic Slogan : We are all consenting adults!",(0,a.kt)("br",{parentName:"p"}),"\n","\u57fa\u672c\u4e0a\u51fa\u73fe Syntax Error \u610f\u5473\u8457\uff0c\u4f60\u662f\u500b\u5c0f Baby \u5427\u3002  ")),(0,a.kt)("h2",{id:"exception-\u4f8b\u5916"},"Exception: \u4f8b\u5916"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4f8b\u5916 ","(",(0,a.kt)("strong",{parentName:"p"},"Exception")," ",")","\u6307\u7684\u662f\u7a0b\u5f0f\u78bc\u57f7\u884c\u904e\u7a0b\u4e2d\u767c\u751f\u7684\u932f\u8aa4\u4e8b\u4ef6\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u4e8b\u60c5\u53ef\u5927\u53ef\u5c0f\uff0c",(0,a.kt)("br",{parentName:"p"}),"\n","\u6709\u4e9b\u7121\u6cd5\u8655\u7406\uff0c\u6709\u4e9b\u53ef\u8655\u7406\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u7121\u6cd5\u8655\u7406\u4f8b\u5916\u5982: IO\u7570\u5e38/\u786c\u9ad4\u7570\u5e38/\u7db2\u8def\u7570\u5e38\uff0c\u57fa\u672c\u4e0a\u958b\u767c\u8005\u53ea\u80fd\u56de\u61c9\u932f\u8aa4\u767c\u751f\u4e26\u7b49\u5f85\u76f8\u95dc\u4eba\u54e1\u505a\u5f8c\u7e8c\u8655\u7406\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u53ef\u8655\u7406\u8655\u7406\u4f8b\u5916\uff0c\u7b2c\u4e00\u985e\u5982 \u5206\u6bcd\u70ba\u96f6/\u578b\u5225\u932f\u8aa4/IndexError \u7b49\u7b49\uff0c\u901a\u5e38\u662f\u5de5\u7a0b\u5e2b\u7a0b\u5f0f\u6c92\u8655\u7406\u597d\uff0c\u61c9\u8a72\u9032\u4e00\u6b65\u6539\u5beb\uff0c",(0,a.kt)("br",{parentName:"p"}),"\n","\u7b2c\u4e8c\u985e\u5247\u662f\u5de5\u7a0b\u5e2b\u81ea\u884c\u5275\u5efa\u7684\u4f8b\u5916\u985e\u578b\uff0c\u7528\u4f86\u963b\u64cb\u6216\u8655\u7406\u5546\u696d\u908f\u8f2f\u4e0a\u7684\u7570\u5e38\u884c\u70ba\u3002")),(0,a.kt)("h2",{id:"exception-handling-\u4f8b\u5916\u8655\u7406"},"Exception Handling: \u4f8b\u5916\u8655\u7406"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"try -> except -> else -> finally")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"try/except \u9593\u7684\u7a0b\u5f0f\u5340\u584a\u662f\u5546\u696d\u908f\u8f2f\u5340\u584a\uff0c",(0,a.kt)("br",{parentName:"p"}),"\n","\u4ee5 try/except \u5305\u4f4f\u7528\u4f86\u6aa2\u9a57\u662f\u5426\u767c\u751f\u6307\u5b9a\u4f8b\u5916\u3002  "),(0,a.kt)("p",{parentName:"blockquote"},"except \u5340\u584a\u5247\u662f\u7576\u6307\u5b9a\u4f8b\u5916\u751f\u6642\uff0c\u8aaa\u660e\u5982\u4f55\u9032\u4e00\u6b65\u7684\u8655\u7406\u5340\u584a\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"else \u5340\u584a\u662f\uff0c\u7576\u6c92\u4f8b\u5916\u767c\u751f\u6642\u624d\u6703\u57f7\u884c\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"finally \u5340\u584a\u7121\u8ad6\u5982\u4f55\u90fd\u6703\u57f7\u884c\u7684\u5340\u584a\uff0c\u5373\u4f7f\u4f8b\u5916\u5df2\u767c\u751f\u3002")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Exception Handling Syntax")," ",(0,a.kt)("br",null)),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"business_statement \u767c\u751f\u6642\u6703\u4f9d\u64da\u4e0b\u65b9\u8a9e\u6cd5\uff0c",(0,a.kt)("span",{style:{color:"#0044FF"}}," ",(0,a.kt)("strong",{parentName:"li"},"\u7531\u4e0a\u800c\u4e0b\uff0c\u7531\u5de6\u800c\u53f3\u7684\u67e5\u8a62\u7b26\u5408\u7684 Error \u7a2e\u985e\u3002")," "))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"\ntry:\n    <business_statement>\n    except <ErrorA>: \n        <statement>\n    except <ErrorB, ErrorC>: # \u5217\u8209\u4e0d\u540c\u7684 Errors\n        <statement>\n    except <ErrorD> as <alias_d>: # \u7d66\u4e88\u5225\u540d, \u65b9\u4fbf stack tracing\n        <statement>\n        print(str(e), repr(e))\n    except <ErrorE, ErrorF> as <alias_x>:\n        <statement>\n    except Exception: # \u7cfb\u7d71\u9000\u51fa\u4ee5\u5916\u7684 Errors\n        <statement>\n    except: # catch all Exceptions   \n        <statement>\n    else:   \n        <statement> # \u82e5\u7121 Error raise \u5247\u57f7\u884c   \n    finally:    \n        <statement> # \u7121\u8ad6\u5982\u4f55\u90fd\u57f7\u884c   \n\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u5fc3\u5f97")," ",(0,a.kt)("br",null)),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"else:\n    1.\u82e5\u7121 Exception \u6642\uff0c\u5247\u57f7\u884c else \u5340\u584a\u7684\u53e5\u5b50\u3002\n    2.\u4f7f\u7528\u4e0a\uff0c\u53ef\u60f3\u6210\u8207 if else \u76f8\u540c\u6982\u5ff5\u3002\u4e00\u500b\u5224\u65b7 Boolean \u53e6\u4e00\u500b\u5224\u65b7 Exception\u3002\n    \n* \u731c\u6e2c\u662f\u56e0\u70ba Python \u4e2d\uff0c try-except, methods, vars \u7b49\u90fd\u53ef\u4ee5\u662f\u4e00\u7d1a\u6210\u54e1\u3002\n* \u4f7f\u7528\u6642\u70ba\u4e86\u53ef\u4ee5\u628a\u6574\u500b Business logic \u5c01\u88dd\u5728\u540c\u4e00\u500b\u5340\u584a\uff0c\u6240\u4ee5\u6709 else \u7247\u6bb5\n* Java \u4e2d try-catch \u8a9e\u53e5\u6703\u5beb\u5728 method \u5167\uff0c\n  else \u7247\u6bb5\u5247\u76f4\u63a5\u5beb\u5728  try-catch \u5340\u584a\u5916\u3002\n  business logic \u7531 method \u5c01\u88dd\u3002\u56e0\u6b64\u4e0d\u9700\u8981 else \u7247\u6bb5\u3002\n    \n")),(0,a.kt)("h2",{id:"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916"},"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5ba2\u88fd\u5c08\u5c6c\u7684\u4f8b\u5916\uff0c\u56e0 Exception \u662f\u4e00\u500b Class\uff0c\u6240\u4ee5\u7c21\u55ae\u5730\u7e7c\u627f\u4fbf\u662f\u3002  ")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"\nclass CustomizedException(Exception):\n    def __init__(self, message, error_code):\n        super().__init__(message) # \u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\uff0c\u4ee5\u65b9\u4fbf\u672a\u4f86\u4f7f\u7528 str(e)/repr(e) \u7b49\u53d6\u7570\u5e38\u5167\u5bb9\n        self.error_code = error_code\n")),(0,a.kt)("h2",{id:"\u62cb\u51fa\u4f8b\u5916"},"\u62cb\u51fa\u4f8b\u5916"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5169\u985e\u8a9e\u6cd5",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"raise  "),(0,a.kt)("li",{parentName:"ul"},"raise ... from ...")))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Raise Error: Syntax")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"# raise\nraise <error_instance> \n# \u62cb\u51fa\u65b0\u5efa\u7acb\u7684 Error Instance\n\nraise <ErrorClass> \n# \u76f4\u63a5\u547c\u53eb\u6307\u5b9a Error Class \u5efa\u69cb\u5b50\uff0c\u81ea\u52d5\u5efa\u7acb\u4e26\u62cb\u51fa Error Instance\n# \u8a3b: \u9810\u8a2d\u5efa\u69cb\u5b50\uff0c\u56e0\u6b64\u6c92\u932f\u8aa4\u8a0a\u606f\u3002\n\nraise # \u91cd\u65b0\u62cb\u51fa\u5148\u524d\u7684 Error\n\n# raise from\nraise <Error> from <PreviousError> # Catch Error \u4e26\u91cd\u65b0\u5305\u88dd\u8207\u518d\u6b21\u62cb\u51fa\n\ntry: \n    login('username', 'pwd')\nexcept AccountNotExistError as e:\n    raise LoginFailedError('Can not login!') from e\nexcept WrongPasswordError as e:\n    raise LoginFailedError('Can not login!') from e\n    \n")),(0,a.kt)("h2",{id:"with-as-context-management-"},"With As context management ",(0,a.kt)("span",{id:"with_as_codeblock"},"\xa0")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Reference: ",(0,a.kt)("a",{parentName:"li",href:"../Python_File#with_as_codeblock"},"With As: \u5b9a\u7fa9\u4e00\u500b\u81e8\u6642\u7684 Codeblock")," ")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"with/as \u662f\u4e00\u7a2e\u66ab\u6642\u7684\u7a0b\u5f0f\u78bc\u5340\u584a\uff0c",(0,a.kt)("br",{parentName:"p"}),"\n","\u5728\u6b64\u4e5f\u53ef\u8996\u70ba try/finally \u7684\u8b8a\u7a2e\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","\u7528\u4f86\u5b9a\u7fa9\u7121\u8ad6\u5982\u4f55\u90fd\u5fc5\u9808\u57f7\u884c\u7684\u7d42\u6b62\u52d5\u4f5c\u6216\u60c5\u9664\u6536\u5c3e\u52d5\u4f5c\u3002  ")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"With As context management: syntax")," ",(0,a.kt)("br",null)),(0,a.kt)("p",null,"with as syntax: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"with <expression> as <variable>:\n    doAction()\n    \nwith open(r'C:\\pathtofile.txt', rb) as file:\n    doParsing(file)    \n            \n")),(0,a.kt)("p",null,"combination of try and with: ",(0,a.kt)("br",null),"\n\u7bc4\u4f8b\u4e3b\u8981\u5448\u73fe\u7684\u76ee\u7684\u662f: 1.\u81ea\u52d5\u95dc\u9589\u8cc7\u6599\u6d41, 2.\u4f8b\u5916\u8655\u7406 "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"# style 1:\ntry:\n    with open('not_exists.txt') as f:\n        print(f.readlines())\nexcept FileNotFoundError as error: \n    print('oops')\n\n\n# style 2:        \ntry:\n    f = open('not_exists.txt')\nexcept FileNotFoundError:\n    print('error')\nelse:\n    with f:\n        print(f.readlines())\n            \n")))}h.isMDXComponent=!0}}]);