"use strict";(self.webpackChunktotem=self.webpackChunktotem||[]).push([[5044],{9604:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>_});var a=t(87462),r=(t(67294),t(3905));t(13848);const s={title:"Python \u7e7c\u627f\u4ecb\u7d39",description:"Python Inheritance",keywords:["Python","Inheritance"]},l='<span id="inheritance">Python \u7e7c\u627f\u4ecb\u7d39</span>',i={unversionedId:"DevTech/Python/OOP/Python_4_Inheritance_Basic",id:"DevTech/Python/OOP/Python_4_Inheritance_Basic",title:"Python \u7e7c\u627f\u4ecb\u7d39",description:"Python Inheritance",source:"@site/docs/DevTech/Python/OOP/Python_4_Inheritance_Basic.md",sourceDirName:"DevTech/Python/OOP",slug:"/DevTech/Python/OOP/Python_4_Inheritance_Basic",permalink:"/docs/DevTech/Python/OOP/Python_4_Inheritance_Basic",draft:!1,tags:[],version:"current",frontMatter:{title:"Python \u7e7c\u627f\u4ecb\u7d39",description:"Python Inheritance",keywords:["Python","Inheritance"]},sidebar:"totem_sidebar",previous:{title:"Python \u985e\u5225\u6210\u54e1",permalink:"/docs/DevTech/Python/OOP/Python_4_Class_Members"},next:{title:"Python \u8207 OOP",permalink:"/docs/DevTech/Python/OOP/Python_4_OOP"}},o={},_=[{value:"Python \u7e7c\u627f",id:"python-\u7e7c\u627f",level:2},{value:'<span id="DiamondPatternInheritance">Diamond Pattern Inheritance: \u947d\u77f3\u7e7c\u627f</span>',id:"diamond-pattern-inheritance-\u947d\u77f3\u7e7c\u627f",level:2},{value:'<span id="inheritance_mro">MRO : Method Resolution Order</span>',id:"mro--method-resolution-order",level:2},{value:'<span id="Override_Methods">Override Methods</span>',id:"override-methods",level:2},{value:'<span id="Overload_Methods">Overload Methods</span>',id:"overload-methods",level:2},{value:'<span id="inheritance_constructor">\u7e7c\u627f\u7d50\u69cb\u4e0b Python \u5efa\u69cb\u5b50 </span>',id:"\u7e7c\u627f\u7d50\u69cb\u4e0b-python-\u5efa\u69cb\u5b50-",level:2},{value:'<span id="inheritance_super">\u7e7c\u627f\u4e0b\u7684 super() \u529f\u80fd</span>',id:"\u7e7c\u627f\u4e0b\u7684-super-\u529f\u80fd",level:2},{value:"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027",id:"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027",level:2},{value:"Composite Pattern \u8907\u5408\u6a21\u5f0f <span id='Composite_Pattern'>\xa0</span>",id:"composite-pattern-\u8907\u5408\u6a21\u5f0f-",level:2}],p={toc:_},c="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(c,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"python-\u7e7c\u627f\u4ecb\u7d39"},(0,r.kt)("span",{id:"inheritance"},"Python \u7e7c\u627f\u4ecb\u7d39")),(0,r.kt)("h2",{id:"python-\u7e7c\u627f"},"Python \u7e7c\u627f"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Inheritance Syntax")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"class Child (ParentA, ParentB):\n    pass\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Python \u5141\u8a31 ",(0,r.kt)("span",{style:{backgroundColor:"#ffd1b3"}},"\u591a\u91cd\u7e7c\u627f"),"\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u4e0a\u65b9\u7bc4\u4f8b\u70ba Child \u540c\u6642\u7e7c\u627f ParentA, ParentB\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u82e5\u7236\u985e\u5225\u5011\u540c\u6642\u5177\u6709\u76f8\u540c\u7684\u8b8a\u6578\u6642\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","\u5b50\u985e\u5225\u53ea\u53d6\u5b9a\u7fa9\u5728\u5de6\u5074\u7684\u5be6\u4f5c\u3002  ")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Inheritance Syntax to Linear Inheritabce")," ",(0,r.kt)("span",{id:"Linear_Inheritabce"},"\xa0")),(0,r.kt)("pre",null,"object",(0,r.kt)("br",null),"\xa0\xa0^",(0,r.kt)("br",null),"\xa0\xa0|",(0,r.kt)("br",null),"ParentB",(0,r.kt)("br",null),"\xa0\xa0^",(0,r.kt)("br",null),"\xa0\xa0|",(0,r.kt)("br",null),"ParentA",(0,r.kt)("br",null),"\xa0\xa0^",(0,r.kt)("br",null),"\xa0\xa0|",(0,r.kt)("br",null),"Child"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8a3b:\u4e0a\u65b9\u8f49\u63db\u5f8c\u7684\u7d50\u69cb\u8cc7\u8a0a\u53ef\u4ee5\u7531 ",(0,r.kt)("span",{style:{backgroundColor:"#ffd1b3"}}," Child.mro() ")," \u53d6\u5f97")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e5f\u53ef\u60f3\u6210 Child \u5148\u7e7c\u627f ParentA\uff0c\u518d\u7e7c\u627f ParentB\u3002\u6c92\u4e0a\u6e38\u5f8c\u518d\u7e7c\u627f object\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u7576\u5c07\u7e7c\u627f\u8a9e\u6cd5\u62c6\u89e3\u6210\u4e0a\u65b9\u7dda\u6027\u7d50\u69cb\u5f8c\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","\u6211\u5011\u53ef\u4ee5\u6e05\u695a\u770b\u51fa ",(0,r.kt)("a",{parentName:"p",href:"#inheritance_mro"},"Method Resolution Order"),"\u7684\u539f\u5247:",(0,r.kt)("br",{parentName:"p"}),"\n","\u7531\u4e0b\u800c\u4e0a (\u4e0a\u65b9\u70ba\u62bd\u8c61\u985e)",(0,r.kt)("br",{parentName:"p"}),"\n","\u7531\u5de6\u6a39\u800c\u53f3\u6a39 (\u53f3\u5074\u70ba\u62bd\u8c61\u985e)",(0,r.kt)("br",{parentName:"p"}),"\n","\u9047\u5230\u540c\u540d\u6210\u54e1\u6642\u5de6\u5074\u512a\u5148 (\u8986\u5beb\u512a\u5148)   "),(0,r.kt)("div",{style:{backgroundColor:"#ffd1b3"}},"\u4e00\u5207\u90fd\u5c0e\u56e0\u65bc: ",(0,r.kt)("br",null),"\u63a5\u8fd1\u5851\u6a21\u7684\u985e\u5225\u512a\u5148",(0,r.kt)("br",null),"\u7e7c\u627f\u7684\u8d8a\u4e0b\u65b9\u8d8a\u63a5\u8fd1\u5be6\u9ad4\u985e\u5225\uff0c\u6240\u4ee5\u5148\u63a1\u7528",(0,r.kt)("br",null),"\u800c\u5b50\u985e\u5225\u53ef\u8986\u5beb\u7236\u985e\u5225\u6210\u54e1\uff0c\u6240\u4ee5\u5b50\u985e\u512a\u5148",(0,r.kt)("br",null))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Multiple Inheritance")),(0,r.kt)("pre",null,"[B1]  [B2]  [B3]   [B4]",(0,r.kt)("br",null),"\xa0^     ^     ^     ^",(0,r.kt)("br",null),"\xa0\xa0\\   /       \\   /",(0,r.kt)("br",null),"\xa0\xa0\xa0\\ /         \\ /",(0,r.kt)("br",null),"\xa0\xa0\xa0[A1]       [A2]",(0,r.kt)("br",null),"\xa0\xa0\xa0\xa0\xa0^          ^",(0,r.kt)("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0\\        /",(0,r.kt)("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\      /",(0,r.kt)("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\    /",(0,r.kt)("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0MyClass",(0,r.kt)("br",null)),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u7e7c\u627f\u8a9e\u6cd5\u4e2d :  "),(0,r.kt)("span",{style:{backgroundColor:"#ffd1b3"}},"\u591a\u91cd\u7e7c\u627f\u5de6\u5074\u512a\u5148\u6b21\u5e8f\u8f03\u9ad8"),"\u5c0b\u627e\u7e7c\u627f\u6210\u54e1\u6642\uff0c",(0,r.kt)("br",null),"\u7531\u4e0b\u800c\u4e0a\uff0c MyClass-> A -> B  ",(0,r.kt)("br",null),"\u7531\u5de6\u800c\u53f3\u3002 A1 tree -> A2 tree   ",(0,r.kt)("br",null),"\u6700\u7d42: MyClass > A1 > B1 > B2 > A2 > B3 > B4 > object"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"hint: \u91cd\u7d44\u6210 ",(0,r.kt)("a",{parentName:"li",href:"#Linear_Inheritabce"},"\u7dda\u6027\u55ae\u4e00\u7e7c\u627f\u7d50\u69cb"),"\u4ee5\u4fbf\u65bc\u7406\u89e3 ",(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"[<class '",(0,r.kt)("strong",{parentName:"p"},"main"),".MyClass'>, <class '",(0,r.kt)("strong",{parentName:"p"},"main"),".A1'>, <class '",(0,r.kt)("strong",{parentName:"p"},"main"),".B1'>, <class '",(0,r.kt)("strong",{parentName:"p"},"main"),".B2'>, <class '",(0,r.kt)("strong",{parentName:"p"},"main"),".A2'>, <class '",(0,r.kt)("strong",{parentName:"p"},"main"),".B3'>, <class '",(0,r.kt)("strong",{parentName:"p"},"main"),".B4'>, <class 'object'>]")))),(0,r.kt)("h2",{id:"diamond-pattern-inheritance-\u947d\u77f3\u7e7c\u627f"},(0,r.kt)("span",{id:"DiamondPatternInheritance"},"Diamond Pattern Inheritance: \u947d\u77f3\u7e7c\u627f")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"TODO insert Diamond_Pattern_Inheritance.svg",(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"Python3+ ",(0,r.kt)("span",{style:{backgroundColor:"#ffd1b3"}},"\u67e5\u8a62\u9806\u5e8f : \u7531\u4e0b\u800c\u4e0a\uff0c\u7531\u5de6\u800c\u53f3")," \u8207\u591a\u91cd\u7e7c\u627f\u76f8\u540c",(0,r.kt)("br",{parentName:"p"}),"\n","\u4f46\u7576\u9047\u5230\u947d\u77f3\u76f8\u4ea4\u6642\uff0c\u5247\u6703\u5148\u8f09\u5165\u53cd\u5411\u6709\u5b50\u985e\u5230\u7236\u985e\u7684\u5171\u7956 tree\uff0c\u518d\u4f9d\u5e8f\u8d70\u56de\u7c21\u55ae\u591a\u7e7c\u627f\u8def\u7dda\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","Python2 \u898f\u5247\u4e0d\u540c(\u4e0d\u6558\u8ff0\u907f\u514d\u6df7\u6dc6)")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Diamond Pattern Inheritance example: oop.inheritance.diamond.py"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"class Eukaryote:  # \u771f\u6838\u751f\u7269\n    pass\n\nclass CoAncestor(Eukaryote):  # \u5171\u7956\n    pass\n\nclass CellWall():  # \u7d30\u80de\u58c1\n    pass\n\nclass Chloroplast(): # \u8449\u7da0\u9ad4\n    pass\n\nclass Centriole():  # \u4e2d\u5fc3\u7c92\n    pass\n\nclass Cilium():  # \u7e96\u6bdb\n    pass\n\nclass Animal(Centriole, CoAncestor, Cilium):  # \u52d5\u7269\n    pass\n\nclass Plant(CellWall, CoAncestor, Chloroplast):  # \u690d\u7269\n    pass\n\n\nclass VegetativeState(Animal, Plant):  # \u690d\u7269\u4eba\n    pass\n    \n# Plant \u7684\u5171\u7956 tree: plant > CoAncestor > Eukaryote\n# \u7576 VegetativeState \u8d70\u5230\u4e0a\u5c64\uff0c Animal.CoAncestor \u6642\u6703\u5148\u89e3\u6790 (CoAncestor \u5171\u7956 tree, \u5305\u542b\u9805\u4e0b\u7684 Plant \u5b50\u985e)\n# VegetativeState > Animal Tree >> CoAncestor \u5171\u7956 tree > Plant Tree\n\n\nprint(VegetativeState.mro())\n# [<class '__main__.VegetativeState'>,\n# <class '__main__.Animal'>,\n# <class '__main__.Centriole'>,\n#\n# <class '__main__.Plant'>, ## CoAncestor Tree\n# <class '__main__.CellWall'>,  ## \u5efa\u69cb Plant Tree \u6642 CellWall \u512a\u5148\u65bc CoAncestor Tree\n# <class '__main__.CoAncestor'>,\n# <class '__main__.Eukaryote'>,\n#\n# <class '__main__.Cilium'>,\n### \u5efa\u69cb Animal Tree \u5269\u9918\u90e8\u5206 (Centriole > CoAncestor Tree > Cilium)\n#\n# <class '__main__.Chloroplast'>,\n### \u5efa\u69cb Plant Tree \u5269\u9918\u90e8\u5206 \n#\n# <class 'object'>]\n\n")),(0,r.kt)("h2",{id:"mro--method-resolution-order"},(0,r.kt)("span",{id:"inheritance_mro"},"MRO : Method Resolution Order")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Python \u4e2d\u4ee5 super() \u547c\u53eb\u4e0a\u5c64\u6642\u7684\u67e5\u8a62\u8def\u5f91\u7a31\u70ba MRO (Method Resolution Order)\u3002  "),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"Python3+ \u7684\u67e5\u8a62\u539f\u5247\u662f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5ee3\u5ea6\u512a\u5148"),(0,r.kt)("li",{parentName:"ul"},"\u7531\u5de6\u5230\u53f3"),(0,r.kt)("li",{parentName:"ul"},"C3 \u6f14\u7b97\u6cd5\uff0c\u4ee5\u78ba\u4fdd\u4e00\u500b ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"\u985e"))," \u53ea\u80fd\u88ab\u67e5\u4e00\u6b21\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("span",{style:{color:"#0044FF"}}," ClassName.mro()")," \u53ef\u7528\u4f86\u67e5\u8a62\u5be6\u969b\u7684 Method Resolution Path\u3002"))),(0,r.kt)("h2",{id:"override-methods"},(0,r.kt)("span",{id:"Override_Methods"},"Override Methods")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u65b9\u6cd5\u8986\u5beb (Overriding): \u6307\u7684\u662f\u7236\u985e\u5225\u8207\u5b50\u985e\u5225\u5404\u81ea\u5177\u6709\u540c\u540d\u65b9\u6cd5\u5be6\u4f5c\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u5be6\u969b\u63a1\u7528\u4f55\u8005\uff0c\u5247\u770b\u5efa\u69cb\u6642\u662f\u4ee5\u54ea\u4e00\u500b Type \u5efa\u69cb\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u4e0d\u9700\u50cf Java \u984d\u5916\u6a19\u8a3b  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"class Animal:\n    def voice(self):\n        return '......'\n\nclass Dog(Animal):\n    def voice(self):\n        return 'Bark!'\n\nclass Cat(Animal):\n    def voice(self):\n        return 'Mew~'\n\nanimal = Animal()\ndog = Dog()\ncat = Cat()\n\nprint(animal.voice())  # ......\nprint(dog.voice())  # Bark!\nprint(cat.voice())  # Mew~\n")),(0,r.kt)("h2",{id:"overload-methods"},(0,r.kt)("span",{id:"Overload_Methods"},"Overload Methods")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Python \u4e2d\u6c92\u6709 Overload methods\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","Python \u8a9e\u8a00\u672c\u8eab\u4fbf\u9810\u8a2d\u63d0\u4f9b",(0,r.kt)("br",{parentName:"p"}),"\n","variable-arguments, key-word-arguments, default value \u7b49\u8a9e\u6cd5",(0,r.kt)("br",{parentName:"p"}),"\n","\u53ef\u9054\u5230\u5176\u4ed6\u8a9e\u8a00\u4e2d\u7684 overloading \u529f\u80fd\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u9700\u6ce8\u610f\u7684\u662f\uff0cPython \u5141\u8a31\u7e7c\u627f\u95dc\u4fc2\u9593\u540c\u540d\u8b8a\u6578\u5b58\u5728\uff0c\u800c Method Name \u4e5f\u662f\u4e00\u7a2e\u8b8a\u6578\u540d\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","\u4f9d\u64da MRO \u9806\u5e8f\uff0c\u6700\u63a5\u8fd1\u5be6\u4f8b(\u5b50\u985e\u5225)\u7684\u540c\u540d\u65b9\u6cd5\u70ba\u986f\u6027\u3002  ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u53c3\u8003 ",(0,r.kt)("a",{parentName:"li",href:"../Advanced/Python_2_unpack_lisit_map"},"Python \u6253\u5305\u8207\u89e3\u5305"))),(0,r.kt)("h2",{id:"\u7e7c\u627f\u7d50\u69cb\u4e0b-python-\u5efa\u69cb\u5b50-"},(0,r.kt)("span",{id:"inheritance_constructor"},"\u7e7c\u627f\u7d50\u69cb\u4e0b Python \u5efa\u69cb\u5b50 ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u53c3\u8003\u5176\u4ed6 instance \u5efa\u69cb\u65b9\u5f0f: ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"./Python_4_Class#cls_constructor"},"Python \u57fa\u672c\u5efa\u69cb\u5b50: varArgs \u8207 kwArgs \u7684\u64f4\u5145\u529f\u80fd\u4f86\u9054\u5230 overloading ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"./Python_4_Class_Members#cls_method_Factory"},"Factory Method: \u4f7f\u7528 Class Method \u8a9e\u6cd5\u4f86\u5efa\u69cb\u7269\u4ef6")),(0,r.kt)("li",{parentName:"ul"},"\u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"./Python_4_Class#cls_constructor"},"Variable Argument \u8207 key-word Argument")," \u7684\u7279\u6027\u4e0d\u591a\u8aaa\uff0c\u672c\u8eab\u5373\u662f\u4e00\u7a2e Overloading \u8b8a\u5f62\u3002  "),(0,r.kt)("p",{parentName:"blockquote"},"Python \u8a9e\u6cd5\u4e2d\u53ef\u4ee5\u4f7f\u7528 @classmethod \u7279\u6027\uff0c\u5728\u985e\u5225\u65b9\u6cd5\u4e2d\u7d93\u7531 cls argument \u4f86\u547c\u53eb ","_","_","init","_","_","() \u5efa\u69cb\u5b50\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","\u9019\u500b\u65b9\u6cd5\u985e\u4f3c Java \u8a9e\u8a00\u4e2d\u7684 this() \u4f86\u547c\u53eb\u591a\u8f09\u7684\u5efa\u69cb\u5b50\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u4f7f\u7528\u9019\u500b Pattern \u53ef\u4ee5\u8b93\u7a0b\u5f0f\u78bc\u5177\u6709\u5546\u696d\u610f\u7fa9\u3002  "),(0,r.kt)("p",{parentName:"blockquote"},"Java \u8a9e\u8a00\u4e2d\u5728\u5b50\u985e\u5225\u4e2d\u4ee5 super() \u4f86\u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\u7684\u8a9e\u6cd5\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","Python \u8a9e\u8a00\u4e5f\u6709\u76f8\u540c\u7684 super() \u8a9e\u6cd5\uff0c\u4f46\u5efa\u8b70\u5efa\u8b70\u50c5\u5728 ",(0,r.kt)("strong",{parentName:"p"},"\u55ae\u4e00\u7e7c\u627f")," \u60c5\u5883\u4e0b\u4f7f\u7528\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u591a\u91cd\u7e7c\u627f\u60c5\u5883\u5247\u5efa\u8b70\u4f9d\u64da Type \u4f86\u547c\u53eb\u7236\u985e\u5efa\u69cb\u5b50\u3002")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"super.constructor.py: \u55ae\u4e00\u7e7c\u627f\u7bc4\u4f8b ")," ",(0,r.kt)("span",{id:"inheritance_constructor_single"},"\xa0")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9084\u662f\u5efa\u8b70\u63a1\u7528 ParentName.","_","_","init","_","_","(self) \u9019\u8a9e\u6cd5"),(0,r.kt)("li",{parentName:"ul"},"\u6ce8\u610f: \u9808 slef argument")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'\nclass Person:\n    def __init__(self, role_name):\n        self.role_name = role_name\n        print(\'-Person-\')\n\n    def print_role(self):\n        print(self.role_name)\n\n\nclass Writer(Person):\n    def __init__(self, role_name, expertise):\n        Person.__init__(self, role_name) ## \u5efa\u8b70\u4f7f\u7528\n        # super().__init__(role_name) ## \u9650\u55ae\u4e00\u7e7c\u627f\u6642\u4f7f\u7528\n        # super(Writer, self).__init__(role_name) ## \u4f9d\u64da MRO order ,\u5efa\u8b70\u55ae\u4e00\u7e7c\u627f\u6642\u4f7f\u7528\u3002\n        self.expertise = expertise\n        print("-Writer-")\n\n    def print_expertise(self):\n        print(self.expertise)\n        \nclass Cook(Person):\n    def __init__(self, role_name, expertise):\n        Person.__init__(self, role_name) ## \u5efa\u8b70\u4f7f\u7528\n        self.expertise = expertise\n        print("-Cooking-")\n\njk_rowling = Writer("Novel Writer", \'Writing\')\n\njk_rowling.print_role()\n# Novel Writer\njk_rowling.print_expertise()\n# Writing\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"super.constructor.py: \u591a\u7e7c\u627f\u7bc4\u4f8b ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9084\u662f\u5efa\u8b70\u63a1\u7528 ParentName.","_","_","init","_","_","(self) \u9019\u8a9e\u6cd5\uff0c\u56e0\u70ba\u53ef\u4ee5\u81ea\u884c\u6c7a\u5b9a\u4f7f\u7528\u9806\u5e8f\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u6ce8\u610f: \u9808\u5e36 slef argument")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"\n### Multiple Parent Example\nclass Scissor:\n    def __init__(self, action):\n        print(\"-Scissors-\", action)\nclass Screwdriver:\n    def __init__(self, action):\n        print(\"-Screwdriver-\", action)\n\nclass Knife:\n    def __init__(self, action):\n        print(\"-Knife-\", action)\n\nclass SwissKnife(Screwdriver, Scissor, Knife ):\n    def __init__(self):\n        # super(Knife, self).__init__() # \u53ea\u6293 self \u8207 MRO \u4e2d self \u7684\u6b21\u4e00\u500b\n        # super.__init__() # \u591a\u91cd\u7e7c\u627f\u4e0b\u7121\u6cd5\u8fa8\u5225\n\n        Scissor.__init__(self, 'snipping') ## \u5efa\u8b70\u4f7f\u7528, \u53ef\u81ea\u8a02 super \u7684 order\n        Knife.__init__(self, 'cutting')\n        Screwdriver.__init__(self, 'drilling')\n\n        print('-SwissKnife-')\n\ntool = SwissKnife()\n")),(0,r.kt)("h2",{id:"\u7e7c\u627f\u4e0b\u7684-super-\u529f\u80fd"},(0,r.kt)("span",{id:"inheritance_super"},"\u7e7c\u627f\u4e0b\u7684 super() \u529f\u80fd")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7528\u5728\u55ae\u4e00\u7e7c\u627f\u7684\u60c5\u5883\u4e0b\u3002  "),(0,r.kt)("li",{parentName:"ul"},"\u53ef\u7528\u4f86\u547c\u53eb ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#inheritance_constructor_single"},"\u7236\u985e\u5225\u5efa\u69cb\u5b50")," \u5728\u4e0a\u65b9\u7bc4\u4f8b\u4e2d\u5df2\u4ecb\u7d39\u3002 "),(0,r.kt)("li",{parentName:"ul"},"\u7236\u985e\u5225\u65b9\u6cd5\u51fd\u6578: ParentName.methodName(self)"))),(0,r.kt)("li",{parentName:"ul"},"\u55ae\u7528 Super() \u8a9e\u6cd5\u6642\uff0c\u82e5\u70ba Multiple Inheritance\uff0c\u6703\u56e0\u4e0d\u77e5\u9053\u78ba\u5207\u6307\u5411\u54ea\u500b\u7236\u985e\u5225\u800c\u62cb\u51fa\u932f\u8aa4\u3002")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"super.method.py ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"\nclass Scissor:\n    def __init__(self):\n        pass\n\n    def do(self, message):\n        print('Scissor ', message)\n\n\nclass Screwdriver:\n    def __init__(self):\n        pass\n\n    def do(self, message):\n        print('Screwdriver ', message)\n\n\nclass Knife:\n    def __init__(self):\n        pass\n\n    def do(self, message):\n        print('Knife ', message)\n\n\nclass SwissKnife(Screwdriver, Scissor, Knife):\n    def __init__(self):\n        pass\n\n    def do(self):\n        Screwdriver.do(self, \"Drilling\") # \u5efa\u8b70\u65b9\u5f0f\n        # super(Screwdriver, self).do(\"go\") # by MRO. next is Scissor\uff0c\u4e0d\u5efa\u8b70\u4f7f\u7528\n\n\nprint(SwissKnife.mro())\n# [<class '__main__.SwissKnife'>, <class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>, <class 'object'>]\n\ntool = SwissKnife()\ntool.do()\n# Screwdriver  Drilling\n\n")),(0,r.kt)("h2",{id:"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027"},"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4ee5\u4e0a\u65b9 SwissKnife \u70ba\u4f8b:")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u7531 instance/class \u4f86\u53cd\u67e5\u7e7c\u627f\u76f8\u95dc\u5c6c\u6027")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u57fa\u672c\u4e0a instance \u53ef\u7d93\u7531\u5167\u5efa\u8b8a\u6578 ","_","_","class","_","_"," \u53cd\u67e5\u5f97\u5230 instance \u7684 class type\u3002\u7e7c\u627f\u76f8\u95dc\u5c6c\u6027\u4fbf\u53ef\u7531 Type \u4f86\u53d6\u5f97\u3002")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Instance Attributes"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","class","_","_"),(0,r.kt)("td",{parentName:"tr",align:null},"\u56de\u50b3 class")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","class","_","_",".","_","_","name","_","_"),(0,r.kt)("td",{parentName:"tr",align:null},"\u56de\u50b3 class name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","class","_","_",".","_","_","bases","_","_"),(0,r.kt)("td",{parentName:"tr",align:null},"\u56de\u50b3 class \u7684\u4e0a\u6e38\u7e7c\u627f\u7d50\u69cb")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","class","_","_",".","_","_","base","_","_"),(0,r.kt)("td",{parentName:"tr",align:null},"\u56de\u50b3 class \u7684\u4e0a\u4e00\u5c64\u7236\u985e\u5225")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","class","_","_",".","_","_","mro","_","_"),(0,r.kt)("td",{parentName:"tr",align:null},"\u56de\u50b3 class \u7684\u7e7c\u627f\u67e5\u627e/\u51fd\u6578\u67e5\u627e\u8def\u5f91")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","class","_","_",".mro()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7b49\u540c\u65bc instance.","_","_","class","_","_",".","_","_","mro","_","_")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","dict","_","_"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5217\u51fa instance \u7684\u6240\u6709 field/values")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"instance.","_","_","module","_","_"),(0,r.kt)("td",{parentName:"tr",align:null},"\u986f\u793a module \u8cc7\u8a0a")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"tool = SwissKnife()\ntool.do()\n\nprint(tool.__class__) # <class '__main__.SwissKnife'>\nprint(tool.__class__.__name__) # SwissKnife\nprint(tool.__class__.__bases__) # (<class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>)\nprint(tool.__class__.__base__) # <class '__main__.Screwdriver'>\nprint(tool.__class__.__mro__) # (<class '__main__.SwissKnife'>, <class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>, <class 'object'>)\n\nprint(SwissKnife.mro()) # [<class '__main__.SwissKnife'>, <class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>, <class 'object'>]\nprint(Scissor.mro()) # [<class '__main__.Scissor'>, <class 'object'>]\nprint(SwissKnife.__dict__) # {'__module__': '__main__', '__init__': <function SwissKnife.__init__ at 0x0000014FCF402160>, 'do': <function SwissKnife.do at 0x0000014FCF4021F0>, '__doc__': None}\n\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u7e7c\u627f\u7d50\u69cb\u8207\u5be6\u4f8b\u985e\u5225\u6aa2\u9a57\u51fd\u6578")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"isinstance(instance, type_or_tuple): \u6aa2\u9a57 instance \u7684  class"),(0,r.kt)("li",{parentName:"ul"},"issubclass(Child, Parent_or_tuple): \u6aa2\u9a57\u7e7c\u627f\u95dc\u4fc2",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7576\u7d66\u5b9a\u7684 Types \u662f tuple \u6642\uff0c\u6aa2\u67e5\u7684\u7d50\u679c\u662f\u4efb\u4e00\u7b26\u5408\u8b8a\u56de\u50b3 True\u3002(if any match)")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"\nswissKnife = SwissKnife()\n\nprint( isinstance(swissKnife, SwissKnife)) # True\nprint( isinstance(swissKnife, Scissor)) # True\nprint( isinstance(swissKnife, (Scissor, Person))) # True, if any match\n\nprint(issubclass(SwissKnife, Role)) # False\nprint(issubclass(SwissKnife, (Role,Scissor))) # True, if any match\n\n")),(0,r.kt)("h2",{id:"composite-pattern-\u8907\u5408\u6a21\u5f0f-"},"Composite Pattern \u8907\u5408\u6a21\u5f0f ",(0,r.kt)("span",{id:"Composite_Pattern"},"\xa0")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u82e5\u55ae\u7d14\u7684\u770b\u529f\u80fd\u9762\u7684\u8a71\uff0c\u7e7c\u627f\u4e3b\u8981\u662f\u8b93\u5b50\u985e\u5225\u5177\u6709\u7236\u985e\u7684\u80fd\u529b\uff0c\u800c\u5b50\u985e\u537b\u4e0d\u9700\u589e\u52a0\u984d\u5916\u7684\u7a0b\u5f0f\u958b\u767c\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u7e7c\u627f\u4e4b\u5916 Composite Pattern(\u8907\u5408\u6a21\u5f0f) \u4e5f\u5177\u6709\u76f8\u540c\u80fd\u529b\uff0c\u6240\u4ee5\u5728\u9019\u908a\u4e5f\u4ecb\u7d39\u4e00\u4e0b\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u539f\u5247\u4e0a\u4fbf\u662f\u985e\u5225\u69fd\u4e32\uff0c\u5916\u5c64\u985e\u5225\u5177\u6709\u5167\u5c64\u985e\u5225\u529f\u80fd\u3002\u5c31\u50cf\u662f\u7d30\u80de\u8207\u5305\u5668\u9593\u7684\u95dc\u4fc2\u3002    ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"\nclass Screwdriver:\n    def __init__(self):\n        pass\n\n    def drill(self, message):\n        print('Screwdriver drilling: ', message)\n\nclass Knife:\n    def __init__(self):\n        pass\n\n    def cut(self, message):\n        print('Knife cutting: ', message)\n\nclass SwissKnife():\n    def __init__(self):\n        self.knife = Knife()  # Composite\n        self.screwdriver = Screwdriver()\n\n    def cut(self, message): # Delegation \n        self.knife.cut(message)\n        print('SwissKnife cutting: ', message)\n\n    def drill(self, message):\n        self.screwdriver.drill(message)\n        print('SwissKnife drilling: ', message)\n\n    def cut_then_drill(self, message): \n        self.knife.cut(message)\n        self.screwdriver.drill(message)\n        print('SwissKnife drilling: ', message)\n")))}m.isMDXComponent=!0}}]);