"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[8615],{28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var s=r(96540);const o={},t=s.createContext(o);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},57821:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"PostgreSQL/JSONB/PosrgreSQL_JSON_Single_Double_Arrow","title":"-> \u8207 ->> \u67e5\u8a62\u5dee\u7570","description":"PosrgreSQL -> \u8207 ->> \u904b\u7b97\u5b50\u5dee\u7570","source":"@site/docs/140_PostgreSQL/JSONB/030_PosrgreSQL_JSON_Single_Double_Arrow.md","sourceDirName":"140_PostgreSQL/JSONB","slug":"/PostgreSQL/JSONB/PosrgreSQL_JSON_Single_Double_Arrow","permalink":"/docs/PostgreSQL/JSONB/PosrgreSQL_JSON_Single_Double_Arrow","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":30,"frontMatter":{"title":"-> \u8207 ->> \u67e5\u8a62\u5dee\u7570","description":"PosrgreSQL -> \u8207 ->> \u904b\u7b97\u5b50\u5dee\u7570","keywords":["JSONB","PostgreSQL"]},"sidebar":"totem_sidebar","previous":{"title":"\u522a\u9664 JSONB \u8cc7\u6599","permalink":"/docs/PostgreSQL/JSONB/PostgreSQL_Delete_attr"},"next":{"title":"PostgreSQL JSONB \u5167\u5bb9\u7e2e\u6392","permalink":"/docs/PostgreSQL/JSONB/PostgreSQL_Format_JSONB_Object"}}');var o=r(74848),t=r(28453);const l={title:"-> \u8207 ->> \u67e5\u8a62\u5dee\u7570",description:"PosrgreSQL -> \u8207 ->> \u904b\u7b97\u5b50\u5dee\u7570",keywords:["JSONB","PostgreSQL"]},c=void 0,i={},d=[{value:"\u5167\u5bb9\u67e5\u8a62\u8a9e\u6cd5: <code><strong>-&gt;&gt;</strong></code> Operator",id:"\u5167\u5bb9\u67e5\u8a62\u8a9e\u6cd5---operator",level:2},{value:"Jsonb \u7269\u4ef6\u67e5\u8a62\u8a9e\u6cd5: <code><strong>-&gt;</strong></code> Operator",id:"jsonb-\u7269\u4ef6\u67e5\u8a62\u8a9e\u6cd5---operator",level:2},{value:"\u7576\u67e5\u8a62\u7d50\u679c\u662f Array Element",id:"\u7576\u67e5\u8a62\u7d50\u679c\u662f-array-element",level:2}];function a(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["PostgreSQL \u67e5\u8a62 field \u5167\u5bb9\u6642\u6709\u5169\u5927 operators\uff0c\u4e3b\u8981\u5dee\u5225\u5728\u65bc\u56de\u50b3\u7684\u8cc7\u6599\u578b\u5225",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)("code",{children:(0,o.jsx)(n.strong,{children:"->>"})}),": \u56de\u50b3\u7684\u662f Json \u7684\u5b57\u9762\u91cf",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)("code",{children:(0,o.jsx)(n.strong,{children:"->"})}),": \u56de\u50b3\u7684\u662f Jsonb \u7269\u4ef6"]}),"\n"]}),"\n",(0,o.jsxs)(n.h2,{id:"\u5167\u5bb9\u67e5\u8a62\u8a9e\u6cd5---operator",children:["\u5167\u5bb9\u67e5\u8a62\u8a9e\u6cd5: ",(0,o.jsx)("code",{children:(0,o.jsx)(n.strong,{children:"->>"})})," Operator"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)("span",{style:{backgroundColor:"#b3c4ff"},children:"->>"})})," \u7528\u4f86\u67e5\u51fa JSON/JSONB \u7269\u4ef6 field \u5167\u5bb9\uff0c\u4e26\u4ee5 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)("span",{style:{backgroundColor:"#b3c4ff"},children:"String \u683c\u5f0f"})})," \u56de\u50b3\u7d50\u679c\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u6ce8\u610f PostgreSQL ->> \u7684\u67e5\u8a62\u7d50\u679c\u986f\u793a\u6642 ",(0,o.jsx)(n.strong,{children:"\u6c92\u6709"})," \u7528 Double Quotes \u5305\u4f4f\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"  select address->>'country' as COUNTRY FROM profile;\r\n  \r\nCOUNTRY\r\n--------\r\nTAIWAN\r\nKOREA\r\nJAPAN\r\nCHINA\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"jsonb-\u7269\u4ef6\u67e5\u8a62\u8a9e\u6cd5---operator",children:["Jsonb \u7269\u4ef6\u67e5\u8a62\u8a9e\u6cd5: ",(0,o.jsx)("code",{children:(0,o.jsx)(n.strong,{children:"->"})})," Operator"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)("span",{style:{backgroundColor:"#b3ffb3"},children:"->"})})," \u7528\u4f86\u67e5\u51fa JSON/JSONB \u7269\u4ef6\u5167\u5bb9\uff0c\u4e26\u4ee5 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)("span",{style:{backgroundColor:"#b3ffb3"},children:"JSON/JSONB \u7269\u4ef6\u683c\u5f0f"})})," \u56de\u50b3\u7d50\u679c\u3002"]}),"\n",(0,o.jsx)(n.li,{children:"->JSON \u67e5\u8a62\uff0c\u6240\u5f97\u70ba postgreSQL JSON \u7269\u4ef6\uff0c\u6240\u4ee5\u53ef\u4ee5 -> \u7e7c\u7e8c\u5f80\u5167\u69fd\u4e32\u67e5\u3002\u6700\u7d42\u518d\u4ee5 ->> \u53d6\u503c\u3002"}),"\n",(0,o.jsxs)(n.li,{children:["\u6ce8\u610f PostgreSQL -> \u7684\u67e5\u8a62\u7d50\u679c ",(0,o.jsx)(n.strong,{children:"\u6709"})," \u7528 Double Quotes (\u70ba JSON \u7269\u4ef6)\u5305\u4f4f\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:'"student": {\r\n\t"first_name": "insect",\r\n\t"last_name": "totem",\r\n\t"class": {\r\n\t\t"class_name" : "A",\r\n\t\t"grade" : {\r\n\t\t\t"grade_name" : "3",\r\n\t\t\t"school" :{\r\n\t\t\t\t"school_name" : "Entomology"\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["->> return ",(0,o.jsx)(n.strong,{children:"String"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"select Student_column->'student'->'class'->'grade'->'school'->> 'school_name' as SCHOOL from Profile;\r\n\r\nSCHOOL\r\ntext\r\n-------\r\nEntomology\r\n\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["-> return ",(0,o.jsx)(n.strong,{children:"jsonb"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"select Student_column->'student'->'class'->'grade'->'school'-> 'school_name' as SCHOOL from Profile;\r\n\r\n\r\nSCHOOL\r\njsonb\r\n-------\r\n\"Entomology\"\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["-> return ",(0,o.jsx)(n.strong,{children:"jsonb"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"select Student_column->'student'->'class'->'grade'->'school'  as SCHOOL from Profile;\r\n\r\n\r\nSCHOOL\r\njsonb\r\n-------\r\n\"{\"school_name\": \"Entomology\"}\"\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u7576\u67e5\u8a62\u7d50\u679c\u662f-array-element",children:"\u7576\u67e5\u8a62\u7d50\u679c\u662f Array Element"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u7576\u67e5\u8a62\u7d50\u679c\u662f Array Element \u6642\uff0cPostgreSQL \u53ef\u4ee5\u518d\u5411\u5167\u4ee5 index \u67e5\u627e\u6307\u5b9a\u4f4d\u7f6e\u5143\u7d20\u3002","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u8a3b: ",(0,o.jsx)("span",{style:{color:"#0044FF"},children:(0,o.jsx)(n.strong,{children:"zero-based index"})})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)("code",{children:(0,o.jsx)(n.strong,{children:"->>"})}),"\u3001",(0,o.jsx)("code",{children:(0,o.jsx)(n.strong,{children:"->"})})," \u82e5\u6307\u5411\u7684\u7d50\u679c\u662f Array\uff0c\u5247\u5141\u8a31\u518d\u4e32\u4e00\u500b ",(0,o.jsx)("code",{children:(0,o.jsx)(n.strong,{children:"zero-based index"})}),"\uff0c\u4ee5\u53d6\u51fa\u55ae\u4e00\u5143\u7d20\u3002"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\u4f8b\u5982: 'profile'->'phones'",(0,o.jsx)("span",{style:{color:"#0044FF"},children:" -> 0 "})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"\u7bc4\u4f8b\u60c5\u5883"})})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:'{\r\n    "profile": {\r\n                "first_name": "insect",\r\n                "last_name": "totem",\r\n                "phones": ["0922-222-222","0955-555-555"]\r\n            }\r\n}        \n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"    SELECT last_name, raw_data #> 'profile'->'phones'->0  as phone_1 FROM Student\r\n      \r\n    LAST_NAMR               PHONE_1  \r\n    character varying       jsonb    \r\n    ----------------------------------------\r\n    totem                   \"0922-222-222\"  \r\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);