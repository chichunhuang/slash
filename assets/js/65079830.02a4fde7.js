"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[3649],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var o=r(96540);const c={},i=o.createContext(c);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),o.createElement(i.Provider,{value:n},e.children)}},28784:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"CICD/Jenkins_Code_Coverage","title":"Jenkins Code Coverage","description":"Jenkins Code Coverage \u8a2d\u5b9a","source":"@site/docs/022_CICD/Jenkins_Code_Coverage.md","sourceDirName":"022_CICD","slug":"/CICD/Jenkins_Code_Coverage","permalink":"/docs/CICD/Jenkins_Code_Coverage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Jenkins Code Coverage","description":"Jenkins Code Coverage \u8a2d\u5b9a","keywords":["Jenkins","Code_Coverage"]},"sidebar":"totem_sidebar","previous":{"title":"Canva \u5b78\u7fd2\u7d00\u9304","permalink":"/docs/Canva/CanvaNote"},"next":{"title":"Jenkins \u5b89\u88dd\u53ca\u8a2d\u5b9a","permalink":"/docs/CICD/Jenkins_install"}}');var c=r(74848),i=r(28453);const s={title:"Jenkins Code Coverage",description:"Jenkins Code Coverage \u8a2d\u5b9a",keywords:["Jenkins","Code_Coverage"]},t=void 0,a={},l=[{value:"Jacoco \u5b89\u88dd",id:"jacoco-\u5b89\u88dd",level:2},{value:"Plugins \u5b89\u88dd",id:"plugins-\u5b89\u88dd",level:3},{value:"\u6e96\u5099 jar",id:"\u6e96\u5099-jar",level:3},{value:"Ant build.xml",id:"ant-buildxml",level:3},{value:"\u4fee\u6539 Jenkins \u4e0a\u5c08\u6848\u7684\u8a2d\u5b9a",id:"\u4fee\u6539-jenkins-\u4e0a\u5c08\u6848\u7684\u8a2d\u5b9a",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"Jenkins \u4e0a\u5e38\u7528\u7684 Code Covergae \u5de5\u5177\u6709"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://www.eclemma.org/jacoco/",children:"Jacoco"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://cobertura.github.io/cobertura/",children:"Cobertura"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://plugins.jenkins.io/coverage/",children:"Jenkins Plugins \u53c3\u8003"})}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"jacoco-\u5b89\u88dd",children:"Jacoco \u5b89\u88dd"}),"\n",(0,c.jsx)(n.p,{children:"\u6ce8\u610f:\r\nJaCoCo 0.7.5 \u8b8a\u66f4\u4e86 execution data \u7684\u6a94\u6848\u683c\u5f0f\r\n\u5b89\u88dd\u6642\u9808\u6ce8\u610f Jenkins Plugins \u8207 Jacoco \u9593\u7248\u672c\u76f8\u5bb9\u554f\u984c"}),"\n",(0,c.jsx)(n.h3,{id:"plugins-\u5b89\u88dd",children:"Plugins \u5b89\u88dd"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Jenkins CI Server \u9996\u9801 \ud83e\udc82 \u7ba1\u7406Jenkins \ud83e\udc82 \u7ba1\u7406\u5916\u639b\u7a0b\u5f0f \ud83e\udc82 \u53ef\u7528\u7684\u9801\u7c64 \ud83e\udc82 \u9078\u53d6 Jacoco Plugin \u5b89\u88dd"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"\u6e96\u5099-jar",children:"\u6e96\u5099 jar"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u5728\u5c08\u6848\u4e2d\u52a0\u5165Jacoco\u9700\u8981\u7684jar\u6a94"}),"\n",(0,c.jsx)(n.li,{children:"\u65b9\u7bc4\u4f8b\u5c07 jacocoant.jar \u653e\u5728 build/jacoco/ \u8cc7\u6599\u593e\u4e4b\u5167"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"ant-buildxml",children:"Ant build.xml"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-xml",children:'\r\n    <project name="InsectTotem" basedir="." default="build" xmlns:jacoco="antlib:org.jacoco.ant">\r\n        ...\r\n        <taskdef uri="antlib:org.jacoco.ant" resource="org/jacoco/ant/antlib.xml">\r\n            <classpath path="build/jacoco/jacocoant.jar"/>\r\n        </taskdef>\r\n     \r\n        ...\r\n         \r\n        <target name="test"...>\r\n            \u7528<jacoco:coverage></jacoco:coverage>\u5305\u8986\u539f\u4f86\u7684<junit></junit>\u6a19\u7c64:\r\n            <jacoco:coverage destfile="report/jacoco/jacoco.exec">\r\n            <junit ...>\r\n                    ...\r\n                    </junit>\r\n            </jacoco:coverage>\r\n     \r\n            \u55ae\u5143\u6e2c\u8a66\u7d50\u675f\u5f8c,\u7522\u751f\u5831\u544a:\r\n            <jacoco:report>\r\n                <executiondata>\r\n                    <file file="report/jacoco/jacoco.exec"/>\r\n                </executiondata>\r\n                                \r\n                <structure name="insecttotem">\r\n                    <classfiles>\r\n                        <fileset dir="bin/main"/>\r\n                    </classfiles>\r\n                    <sourcefiles encoding="UTF-8">\r\n                        <fileset dir="src"/>\r\n                    </sourcefiles>\r\n                </structure>\r\n                                \r\n                <html destdir="report/jacoco"/>\r\n                                \r\n            </jacoco:report>\r\n        </target>\r\n    </project>\r\n\n'})}),"\n",(0,c.jsx)(n.h3,{id:"\u4fee\u6539-jenkins-\u4e0a\u5c08\u6848\u7684\u8a2d\u5b9a",children:"\u4fee\u6539 Jenkins \u4e0a\u5c08\u6848\u7684\u8a2d\u5b9a"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u5c08\u6848\u7684 '\u5efa\u7f6e\u5f8c\u52d5\u4f5c' \u4e2d\uff0c\u52a0\u5165",(0,c.jsx)("code",{children:"Record Jacoco Coverage Report"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u8def\u5f91\u8a2d\u5b9a: \u4f9d\u5be6\u969b\u8def\u5f91\u8a2d\u5b9a","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Path to exec files - ",(0,c.jsx)(n.strong,{children:"/report/"}),"/jacoco.exec"]}),"\n",(0,c.jsx)(n.li,{children:"Path to class directories - **/bin/main"}),"\n",(0,c.jsx)(n.li,{children:"Path to source directories - **/src"}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);