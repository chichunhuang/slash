"use strict";(globalThis.webpackChunkinsect_totem=globalThis.webpackChunkinsect_totem||[]).push([[2868],{28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>s});var r=n(96540);const a={},l=r.createContext(a);function i(e){const t=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(l.Provider,{value:t},e.children)}},52269:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"Scala/Scala_Trait_SelfType","title":"Scala Traits and Self Type","description":"Scala Traits and Self Type","source":"@site/docs/145_Scala/060_Scala_Trait_SelfType.md","sourceDirName":"145_Scala","slug":"/Scala/Scala_Trait_SelfType","permalink":"/docs/Scala/Scala_Trait_SelfType","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":60,"frontMatter":{"title":"Scala Traits and Self Type","description":"Scala Traits and Self Type","keywords":["Scala","Traits","Self Type"]},"sidebar":"totem_sidebar","previous":{"title":"Scala Switch Case","permalink":"/docs/Scala/Scala_Switch"},"next":{"title":"Scala Option","permalink":"/docs/Scala/Scala_Option"}}');var a=n(74848),l=n(28453);const i={title:"Scala Traits and Self Type",description:"Scala Traits and Self Type",keywords:["Scala","Traits","Self Type"]},s=void 0,c={},o=[{value:"Trait vs. self type : ch9",id:"trait-vs-self-type--ch9",level:3}];function d(e){const t={code:"code",h3:"h3",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h3,{id:"trait-vs-self-type--ch9",children:"Trait vs. self type : ch9"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Trait vs. self type","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)("code",{children:(0,a.jsx)(t.strong,{children:"trait"})})," ",(0,a.jsx)(t.strong,{children:"\u5b9a\u7fa9\u5171\u540c\u7684\u884c\u70ba"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)("code",{children:(0,a.jsx)(t.strong,{children:"self type"})})," \u78ba\u4fdd, ",(0,a.jsx)(t.strong,{children:"trait \u6240\u9700\u53c3\u6578\u80fd\u5920\u53d6\u5f97"})]}),"\n",(0,a.jsx)(t.li,{children:"\u4f8b\u5982: \u6709\u4e00\u500b Trait Fly, \u4f7f\u7528\u6642\u53ef\u4ee5\u642d\u914d\u4e00\u500b FlyingParameter \u9019\u500b Self Type \u4f86\u4f7f\u7528(Java \u4e2d\u53ef\u80fd\u6703\u5b9a\u7fa9\u4e00\u500b Base Class \u9650\u5236\u52d5\u4f5c\u8207\u8cc7\u6599\u53d6\u5f97)"}),"\n",(0,a.jsx)(t.li,{children:"trait \u7684 constructor \u4e0d\u53ef\u4ee5\u6709 constructor parameters"}),"\n",(0,a.jsx)(t.li,{children:"[trait \u4e0b\u5982\u4f55\u5efa\u7acb properties]"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["Scala \u5e95\u5c64\u6982\u5ff5\u662f","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Self Type \u985e \u662f trait \u985e\u7684\u7236\u985e\u5225"}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.strong,{children:"\u70ba\u7236\u985e\u5225\u6dfb\u52a0\u884c\u70ba\u7684\u6982\u5ff5"})}),"\n",(0,a.jsx)(t.li,{children:"\u4f7f\u7528\u6642\u5408\u7d04\u8207\u8cc7\u6599\u5206\u958b\u53d6\u5f97"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.li,{children:"self type \u53ef\u4ee5\u60f3\u6210\u662f\u898f\u683c, \u6c92\u6709 self type \u7684 trait, \u5c31\u662f\u55ae\u7d14\u7684 Java Interface"}),"\n",(0,a.jsx)(t.li,{children:"trait \u662f SAM interface, \u53ef\u60f3\u6210\u662f\u8a02 contract \u7684\u5730\u65b9, trait \u9664\u4e86 contract, \u4e5f\u53ef\u4ee5\u662f\u5408\u7d04\u5be6\u4f5c\u7684\u5730\u65b9 (Single Abstract Method class)"}),"\n",(0,a.jsxs)(t.li,{children:["self type \u662f \u8cc7\u6599\u4f86\u6e90 (trait \u4e0d\u80fd\u6709\u985e\u53c3\u6578, \u56e0\u6c92\u5efa\u69cb\u5b50), \u5408\u7d04\u6240\u9700\u8981\u7684 input,","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"\u53ef\u4ee5\u501f\u7531 self type (\u7236\u985e)\u4f86\u8981\u6c42, \u5b50\u985e\u5fc5\u9808\u6e96\u5099\u597d"}),"\n",(0,a.jsx)(t.li,{children:"\u5b50\u985e\u5c08\u4e00\u7684input\u53ef\u4ee5\u5b9a\u7fa9\u5728 trait \u7684 method \u4e2d"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.li,{children:"Scala \u5e95\u5c64\u6982\u5ff5\u662f Self Type \u985e \u662f trait \u985e\u7684\u7236\u985e\u5225 => \u7236\u985e\u5225\u6dfb\u52a0\u884c\u70ba\u7684\u6982\u5ff5"}),"\n"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"\r\n    //self type (\u898f\u683c)\r\n    class Animal(var weight: Int, var height: Int) {\r\n      def getWeight() : Int = { weight }\r\n      def getHeight() : Int = { height }\r\n    }\r\n    \r\n    \r\n    //trait (\u5408\u7d04)\r\n    trait Mammal { // \u6c92 default constructor\r\n      self: Animal =>\r\n    \r\n       // trait \u5229\u7528 self type \u53d6\u5f97\u6240\u9700\u7684 input\r\n       def getSize() = {\r\n          self.getHeight() + self.getWeight()\r\n       }\r\n       \r\n       //\u984d\u5916\u7684 input\r\n       def getScale(legs : Int) = {\r\n            self.getHeight() + self.getWeight() + legs\r\n      }\r\n    }\r\n    \r\n    \r\n    //\u4f7f\u7528\u65b9\u5f0f\r\n    class Elephant(weight: Int, height: Int) \r\n           extends Animal(weight, height) \r\n           with Mammal {\r\n    }\r\n    \r\n    //test run\r\n    object Elephant {\r\n      def main(args: Array[String]) {\r\n        var elephant = new Elephant(10, 20)\r\n        print(elephant.getSize())\r\n        print(elephant.getScale(5))\r\n      }\r\n    }\n"})})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);