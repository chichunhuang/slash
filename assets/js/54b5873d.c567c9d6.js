"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[3885],{7260:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>a,frontMatter:()=>o,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"PostgreSQL/PosgreSQL_copy_from_CSV","title":"PosgreSQL copy from CSV","description":"\u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599","source":"@site/docs/14_PostgreSQL/PosgreSQL_copy_from_CSV.md","sourceDirName":"14_PostgreSQL","slug":"/PostgreSQL/PosgreSQL_copy_from_CSV","permalink":"/docs/PostgreSQL/PosgreSQL_copy_from_CSV","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"PosgreSQL copy from CSV","description":"\u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599","keywords":["postgresql","copy","CSV"]},"sidebar":"totem_sidebar","previous":{"title":"PosgreSQL copy CSV to table","permalink":"/docs/PostgreSQL/PosgreSQL_copy_CSV_to_table"},"next":{"title":"PostgreSQL FDW Setting","permalink":"/docs/PostgreSQL/PostgreSQL_FDW_Setting"}}');var n=l(74848),t=l(28453);const o={title:"PosgreSQL copy from CSV",description:"\u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599",keywords:["postgresql","copy","CSV"]},i="\u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599",c={},p=[{value:"import.sql \u5167\u5bb9\u7bc4\u4f8b",id:"importsql-\u5167\u5bb9\u7bc4\u4f8b",level:2},{value:"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",level:2},{value:"psql \u57f7\u884c\u65b9\u5f0f",id:"psql-\u57f7\u884c\u65b9\u5f0f",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"\u81ea-csv-\u6a94\u532f\u5165\u8cc7\u6599",children:"\u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"\u4ee5 SQL Shell / psql \u642d\u914d \\i -f \u6307\u4ee4\u57f7\u884c\u4e0b\u5217 *.sql \u7bc4\u4f8b"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"path_of_source_file.csv \u4e2d\u9808\u5177\u5099\u8207 totem_user \u4e2d\u540c\u540d\u6b04\u4f4d"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"example \u8907\u88fd path_of_source_file.csv \u5167\u5bb9\u5230 totem_user \u8cc7\u6599\u8868"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"step1: import.sql \u6307\u4ee4\u6a94\u6e96\u5099"}),"\n",(0,n.jsx)(s.li,{children:"step2: SQL Shell(psql) \u57f7\u884c import.sql \u5167\u5bb9\u65b9\u5f0f"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"importsql-\u5167\u5bb9\u7bc4\u4f8b",children:"import.sql \u5167\u5bb9\u7bc4\u4f8b"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sql",children:"\\encoding UTF8\r\n\\timing on\r\n\\copy totem_user(username, expired_date, email) FROM 'path_of_source_file.csv' DELIMITER ',' CSV HEADER ENCODING 'UTF8';\r\n\\timing off\n"})}),"\n",(0,n.jsx)(s.h2,{id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",children:"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"totem=# \\i 'D:/tmp/import.sql'\n"})}),"\n",(0,n.jsx)(s.h2,{id:"psql-\u57f7\u884c\u65b9\u5f0f",children:"psql \u57f7\u884c\u65b9\u5f0f"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sql",children:"psql -U postgres -d totem -p xxxx -h xxx.xxx.xxx.xxx -f import.sql\n"})}),"\n",(0,n.jsx)(s.h1,{id:"\u53c3\u8003",children:"\u53c3\u8003"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"./PosgreSQL_copy_CSV_to_table",children:"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"./SqlShell_psql_Basic",children:"PosgreSQL:\u76f4\u63a5\u65bc SQL Shell (psql) \u57f7\u884c sql \u6a94"})}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,s,l)=>{l.d(s,{R:()=>o,x:()=>i});var r=l(96540);const n={},t=r.createContext(n);function o(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);