"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[608],{6968:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>a,frontMatter:()=>o,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"id":"PostgreSQL/PostgreSQL_copy_CSV_to_table","title":"PostgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV","description":"PostgreSQL copy CSV to table","source":"@site/docs/140_PostgreSQL/PostgreSQL_copy_CSV_to_table.md","sourceDirName":"140_PostgreSQL","slug":"/PostgreSQL/PostgreSQL_copy_CSV_to_table","permalink":"/docs/PostgreSQL/PostgreSQL_copy_CSV_to_table","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"PostgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV","description":"PostgreSQL copy CSV to table","keywords":["postgresql","copy","CSV"]},"sidebar":"totem_sidebar","previous":{"title":"PostgreSQL Vacuum \u64cd\u4f5c","permalink":"/docs/PostgreSQL/PostgreSQL_Vacuum"},"next":{"title":"PostgreSQL \u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599","permalink":"/docs/PostgreSQL/PostgreSQL_copy_from_CSV"}}');var r=t(74848),n=t(28453);const o={title:"PostgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",description:"PostgreSQL copy CSV to table",keywords:["postgresql","copy","CSV"]},c=void 0,i={},p=[{value:"PostgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",id:"postgresql-\u8cc7\u6599\u532f\u51fa\u6210-csv",level:2},{value:"export.sql \u5167\u5bb9\u7bc4\u4f8b",id:"exportsql-\u5167\u5bb9\u7bc4\u4f8b",level:2},{value:"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",level:2},{value:"psql \u57f7\u884c\u65b9\u5f0f",id:"psql-\u57f7\u884c\u65b9\u5f0f",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"postgresql-\u8cc7\u6599\u532f\u51fa\u6210-csv",children:"PostgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["example: totem_user \u8cc7\u6599\u8868\u5167\u5bb9\u8f38\u51fa\u5230 /tmp/result.csv\u3002","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"step1: export.sql \u6307\u4ee4\u6a94\u6e96\u5099"}),"\n",(0,r.jsx)(s.li,{children:"step2: SQL Shell(psql) \u57f7\u884c export.sql \u5167\u5bb9\u65b9\u5f0f"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"exportsql-\u5167\u5bb9\u7bc4\u4f8b",children:"export.sql \u5167\u5bb9\u7bc4\u4f8b"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u8a3b: \u4e0b\u9762\u7bc4\u4f8b\u5c07 copy \u6307\u4ee4\u62c6\u6210\u591a\u884c\u65b9\u4fbf\u95b1\u8b80\uff0c\u5be6\u969b\u4f7f\u7528\u6642\u5efa\u8b70\u907f\u514d\u51fa\u73fe\u65b7\u884c\u3002"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"\\encoding UTF8\r\n\\timing on\r\n\\COPY  \r\n  ( \r\n      select username, expired_date, email from totem_user\r\n   ) \r\n   to '/tmp/result.csv' DELIMITER ',' CSV HEADER FORCE QUOTE * ;\r\n\\timing off\n"})}),"\n",(0,r.jsx)(s.h2,{id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",children:"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"totem=# \\i 'D:/tmp/export.sql'\n"})}),"\n",(0,r.jsx)(s.h2,{id:"psql-\u57f7\u884c\u65b9\u5f0f",children:"psql \u57f7\u884c\u65b9\u5f0f"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"psql -U postgres -d totem -p xxxx -h xxx.xxx.xxx.xxx -f export.sql\n"})}),"\n",(0,r.jsx)(s.h1,{id:"\u53c3\u8003",children:"\u53c3\u8003"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"./PostgreSQL_copy_from_CSV",children:"PostgreSQL \u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"./SqlShell_psql_Basic",children:"PostgreSQL:\u76f4\u63a5\u65bc SQL Shell (psql) \u57f7\u884c sql \u6a94"})}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>c});var l=t(96540);const r={},n=l.createContext(r);function o(e){const s=l.useContext(n);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),l.createElement(n.Provider,{value:s},e.children)}}}]);