"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[702],{28453:(n,e,r)=>{r.d(e,{R:()=>t,x:()=>l});var s=r(96540);const i={},o=s.createContext(i);function t(n){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(o.Provider,{value:e},n.children)}},67064:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Python/Python_Comprehension","title":"Python Comprehension","description":"\u8ff4\u5708\u8207lambda\u7684\u7d50\u5408","source":"@site/docs/31_Python/Python_Comprehension.md","sourceDirName":"31_Python","slug":"/Python/Python_Comprehension","permalink":"/docs/Python/Python_Comprehension","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Python Comprehension","description":"\u8ff4\u5708\u8207lambda\u7684\u7d50\u5408","keywords":["Python","Comprehension"]},"sidebar":"totem_sidebar","previous":{"title":"Python Print","permalink":"/docs/Python/Python_Basic_Print"},"next":{"title":"Python \u6163\u4f8b","permalink":"/docs/Python/Python_Convention"}}');var i=r(74848),o=r(28453);const t={title:"Python Comprehension",description:"\u8ff4\u5708\u8207lambda\u7684\u7d50\u5408",keywords:["Python","Comprehension"]},l="Python Comprehension: \u8ff4\u5708\u8207 lambda \u7684\u7d50\u5408",c={},a=[{value:"Comprehension \u8a9e\u6cd5",id:"comprehension-\u8a9e\u6cd5",level:2},{value:"<span>List/Set Comprehension</span>",id:"listset-comprehension",level:2},{value:"Dict Comprehension",id:"dict-comprehension",level:2},{value:"<span>Generator Comprehension</span>",id:"generator-comprehension",level:2},{value:"Nested Comprehension",id:"nested-comprehension",level:2}];function h(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"python-comprehension-\u8ff4\u5708\u8207-lambda-\u7684\u7d50\u5408",children:"Python Comprehension: \u8ff4\u5708\u8207 lambda \u7684\u7d50\u5408"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["Comprehension \u53ef\u7c21\u55ae\u7684\u60f3\u6210\u662f ",(0,i.jsx)(e.strong,{children:"\u8ff4\u5708\u8207 lambda \u7684\u7d50\u5408"}),"\uff0c",(0,i.jsx)(e.br,{}),"\n","\u4e5f\u53ef\u60f3\u6210\u662f Java \u4e2d\u7684 streaming\u3002",(0,i.jsx)(e.br,{}),"\n","\u57fa\u672c\u4e0a\u4fbf\u662f\u5c07\u4e00\u500b\u96c6\u5408\u7684\u8cc7\u6599\u4f9d\u5e8f\u57f7\u884c\u6307\u5b9a\u7684\u52d5\u4f5c\uff0c",(0,i.jsx)(e.br,{}),"\n","\u7136\u5f8c\u518d\u56de\u50b3\u4e00\u500b\u6709\u5e8f\u6216\u7121\u5e8f\u7684\u8cc7\u6599\u96c6\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Python \u4e2d\u5176\u4ed6\u76f8\u4f3c\u529f\u80fd","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"filter function"}),"\n",(0,i.jsx)(e.li,{children:"map function"}),"\n",(0,i.jsx)(e.li,{children:"zip function"}),"\n",(0,i.jsx)(e.li,{children:"reduce function"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"comprehension-\u8a9e\u6cd5",children:"Comprehension \u8a9e\u6cd5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsxs)(e.a,{href:"#list_comp",children:["\u4ee5 ",(0,i.jsx)("span",{style:{backgroundColor:"#b3c4ff"},children:"\u5927"})," \u62ec\u865f\u64b0\u5beb\u5247\u56de\u50b3\u7121\u5e8f\u7d50\u679c"]})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsxs)(e.a,{href:"#list_comp",children:["\u4ee5 ",(0,i.jsx)("span",{style:{backgroundColor:"#b3c4ff"},children:"\u4e2d"})," \u62ec\u865f\u64b0\u5beb\u5247\u56de\u50b3\u6709\u5e8f\u7d50\u679c"]})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsxs)(e.a,{href:"#generator_comprehension",children:["\u4ee5 ",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:"\u5c0f"})," \u62ec\u865f\u64b0\u5beb\u5247\u56de\u50b3\u7684\u662f ",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:"Generator"})]})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"result = [ expression for x in collection if condition]\n"})}),"\n",(0,i.jsx)(e.h2,{id:"listset-comprehension",children:(0,i.jsx)("span",{id:"list_comp",children:"List/Set Comprehension"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4e0b\u9762 Comprehension \u7bc4\u4f8b\u6709\u4ea4\u96dc\u8457 tuple \u89e3\u5305\u3002"}),"\n",(0,i.jsx)(e.li,{children:"couples \u672c\u8eab\u662f\u7121\u5e8f\u7684 set\uff0c\u6240\u4ee5\u5373\u4f7f\u4ee5 list \u63a5\u6536\u7d50\u679c\uff0c\u6bcf\u6b21\u8dd1\u72c0\u6cc1\u90fd\u6703\u4e0d\u76f8\u540c\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'\r\ncouples = {("Totem","Winnie"), ("Robert","May"), ("Tony","Jina")}\r\n\r\nret = [ f\'{boy} and {girl}\' for boy, girl in couples ]\r\n\r\nfor couple in ret:\r\n    print(couple)\r\n    \r\n# Robert and May\r\n# Totem and Winnie\r\n# Tony and Jina\r\n    \n'})}),"\n",(0,i.jsx)(e.h2,{id:"dict-comprehension",children:"Dict Comprehension"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Dict  Comprehension \u57fa\u672c\u4e0a\u662f\u5c07 dict \u5148\u8f49\u63db\u6210\u5176\u4ed6 list \u518d\u4f86\u505a Comprehension \u64cd\u4f5c\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u4f8b\u5982\u8f49\u6210 <class 'dict_items'> \u5f8c\u518d\u4f86\u8655\u7406\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"dicts = {'A': 'a', 'B': 'b', 'C': 'c', 'D': 'd'}\r\n\r\nret = [f'{k}:{v}' for k, v in dicts.items()]\r\nfor d in ret:\r\n    print(d)\r\n\r\n# A a\r\n# B b\r\n# C c\r\n# D d\n"})}),"\n",(0,i.jsx)(e.h2,{id:"generator-comprehension",children:(0,i.jsx)("span",{id:"generator_comprehension",children:"Generator Comprehension"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u9019\u908a\u7684\u540d\u7a31\u547d\u540d\u4e0d\u662f\u5f88\u4e00\u81f4\uff0c Generator Comprehension \u6307\u7684\u662f\u4f7f\u7528 Comprehension \u7684\u53e5\u578b\u4f86\u5efa\u7acb Generator\u3002"}),"\n",(0,i.jsxs)(e.li,{children:["\u8a3b:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"range(n) \u56de\u50b3\u7684\u662f\u4e00\u500b generator"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"./Advanced/Python_2_Generator",children:"Python Generator \u8aaa\u660e"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.em,{children:(0,i.jsx)(e.strong,{children:"Generator \u7bc4\u4f8b: basic"})})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"nums = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\ndef filterEven(numbers: list):\r\n    for num in numbers:\r\n        if num % 2 == 0:\r\n            yield num\r\n\r\nevens = filterEven(nums)\r\n\r\nprint(next(evens)) # 2\r\nprint(next(evens)) # 4\r\nprint(next(evens)) # 6\n"})}),"\n",(0,i.jsx)(e.p,{children:"___Generator Comprehension \u7bc4\u4f8b ___"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u9019\u500b\u7bc4\u4f8b\u5b8c\u5168\u7b49\u540c\u65bc basic generator \u7bc4\u4f8b\uff0c\u4f46\u4f60\u770b\u4e0d\u5230 yield \u95dc\u9375\u5b57"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# \u5c0f\u62ec\u865f comprehension \u6703\u5efa\u7acb generator\r\nevens_generator = (num for num in nums if num % 2 == 0)\r\n\r\nprint(next(evens_generator)) # 2\r\nprint(next(evens_generator)) # 4\r\nprint(next(evens_generator)) # 6\n"})}),"\n",(0,i.jsx)(e.h2,{id:"nested-comprehension",children:"Nested Comprehension"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Nested Comprehension \u6307\u7684\u662f\uff0c\u69fd\u72c0 Comprehension\uff0c"}),"\n",(0,i.jsxs)(e.p,{children:["\u7d50\u69cbA: \u591a\u91cd\u8ff4\u5708",(0,i.jsx)(e.br,{}),"\n","\u5beb\u5728\u8d8a\u5f8c\u65b9\u7684 comprehension \u5c31\u662f\u8d8a\u5167\u5c64\u7684\u8ff4\u5708\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u7d50\u69cbB: Comprehension \u4e32\u63a5",(0,i.jsx)(e.br,{}),"\n","\u4e5f\u53ef\u4ee5\u628a\u4ed6\u60f3\u6210\u662f Java \u7684 Streaming\uff0c",(0,i.jsx)(e.br,{}),"\n","\u628a\u96c6\u5408\u7684\u8cc7\u6599\u9023\u7e8c\u505a\u591a\u6b21\u8655\u7406\uff0c",(0,i.jsx)(e.br,{}),"\n","\u628a\u8cc7\u6599\u4e32\u63a5\u5728\u53e6\u4e00\u500b Comprehension \u7684 in clause \u4e2d\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["_",(0,i.jsx)(e.strong,{children:"Nested Comprehension: \u591a\u91cd\u8ff4\u5708\u7bc4\u4f8b"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u591a\u7dad\u77e9\u9663\u8d70\u8a2a\u7bc4\u4f8b\uff0c\u5beb\u5728\u8d8a\u5f8c\u65b9\u7684 comprehension \u5c31\u662f\u8d8a\u5167\u5c64\u7684\u8ff4\u5708\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"table = [\r\n    [10, 20, 30],\r\n    [11, 21, 31],\r\n    [12, 22, 32],\r\n]\r\n\r\nunpack = [\r\n    cell \r\n    for row in table\r\n    for cell in row\r\n]\r\n\r\nprint(unpack)\r\n# [10, 20, 30, 11, 21, 31, 12, 22, 32]\r\n\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u591a\u91cd\u8ff4\u5708\u7bc4\u4f8b"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# 45\u4e58\u6cd5\u8868\r\nfor i in range(4):\r\n    for j in range(5):\r\n        print(f'{i} x {j} = '+ str(i * j))\r\n\r\ntable = [f'{i} x {j} = ' + str(i * j)\r\n         for i in range(4) # \u5148\u8d70\u8a2a4\r\n         for j in range(5) # \u5148\u8d70\u8a2a5 (\u5171 4*5 \u500b\u7d50\u679c)\r\n         ]\r\n\r\nfor t in table:\r\n    print(t)\n"})}),"\n",(0,i.jsxs)(e.p,{children:["_",(0,i.jsx)(e.strong,{children:"Nested Comprehension: Java Streaming \u7bc4\u4f8b"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Comprehension \u4e32\u63a5\u6210 Java Streaming","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5c07\u524d\u4e00\u8f2a\u7684\u7d50\u679c\u653e\u5230\u6b21\u4e00\u968e\u6bb5\u7684 in clause \u4e2d"}),"\n",(0,i.jsx)(e.li,{children:"condition \u53ef\u7528\u4f86\u505a filtering"}),"\n",(0,i.jsx)(e.li,{children:"expression \u53ef\u7528\u4f86\u505a java stream \u7684 map \u52d5\u4f5c"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"class Person:\r\n    def __init__(self, name: str, gender: str, waistline: int):\r\n        if not isinstance(name, str):\r\n            raise TypeError('name should be str')\r\n        self.name = name\r\n        self.gender = gender\r\n        self.waistline = waistline\r\n\r\n\r\nps = [\r\n    Person('Tom', 'Male', 91),\r\n    Person('Michael', 'Male', 89),\r\n    Person('Bob', 'Male', 100),\r\n    Person('Mary', 'Female', 81),\r\n    Person('Winnie', 'Female', 79),\r\n]\r\n\r\n# \u67e5\u51fa\u8170\u570d\u5927\u65bc 90 \u7684\u7537\u6027\r\nfound = [target.name for target in [man for man in ps if man.gender == 'Male'] if target.waistline > 90]\r\n# Tom, Bob\r\n\n"})})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}}}]);