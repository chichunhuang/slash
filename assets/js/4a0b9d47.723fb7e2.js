"use strict";(globalThis.webpackChunkinsect_totem=globalThis.webpackChunkinsect_totem||[]).push([[3068],{28453:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>i});var a=o(96540);const r={},t=a.createContext(r);function l(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(t.Provider,{value:n},e.children)}},70032:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>g,frontMatter:()=>l,metadata:()=>a,toc:()=>s});const a=JSON.parse('{"id":"Tomcat/Tomcat_Log_Rotate","title":"Tomcat \u81ea\u52d5\u5207\u5272 Log \u6a94","description":"Tomcat Log Rotate","source":"@site/docs/170_Tomcat/Tomcat_Log_Rotate.md","sourceDirName":"170_Tomcat","slug":"/Tomcat/Tomcat_Log_Rotate","permalink":"/docs/Tomcat/Tomcat_Log_Rotate","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Tomcat \u81ea\u52d5\u5207\u5272 Log \u6a94","description":"Tomcat Log Rotate","keywords":["Tomcat","Log"]},"sidebar":"totem_sidebar","previous":{"title":"Tomcat https \u8a2d\u5b9a","permalink":"/docs/Tomcat/Tomcat_Https_Private"},"next":{"title":"Tomcat \u6548\u80fd\u8abf\u6559","permalink":"/docs/Tomcat/Tomcat_Performernce_Tuning"}}');var r=o(74848),t=o(28453);const l={title:"Tomcat \u81ea\u52d5\u5207\u5272 Log \u6a94",description:"Tomcat Log Rotate",keywords:["Tomcat","Log"]},i=void 0,c={},s=[{value:"DailyRollingFileAppender",id:"dailyrollingfileappender",level:2},{value:"Log4j \u4ee5 Email \u9032\u884c log",id:"log4j-\u4ee5-email-\u9032\u884c-log",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u56e0\u70ba catalina.out.log \u6a94\u6848\u592a\u5927\uff0c\u9020\u6210\u67e5\u95b1 log \u8cc7\u6599\u6642\u6a94\u6848\u5e38\u5e38\u958b\u4e0d\u8d77\u4f86",(0,r.jsx)(n.br,{}),"\n","log4j.xml \u9032\u884c\u4e0b\u5217\u8abf\u6574\u5f8c\u53ef\u4f7f cataline.out.log \u80fd\u4f9d\u7167\u6bcf\u5929\u7684\u65e5\u671f\u4f86\u5207\u5272\u6a94\u6848"]}),"\n",(0,r.jsx)(n.h2,{id:"dailyrollingfileappender",children:"DailyRollingFileAppender"}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0b\u9762\u8a2d\u5b9a\u53ef\u9664\u4e86\u5c07 catalina.out.log \u4f9d\u64da\u65e5\u671f\u5207\u5206\uff0c",(0,r.jsx)(n.br,{}),"\n","\u4e26\u4f9d log \u7b49\u7d1a\u518d\u505a\u4e8c\u6b21\u5207\u5206",(0,r.jsx)(n.br,{}),"\n","\u8a2d\u5b9a\u5f8c\u6bcf\u65e5\u6703\u7522\u4e0b\u5217\u683c\u5f0f log files"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"info.log.2025-05-05"}),"\n",(0,r.jsx)(n.li,{children:"error.log.2025-05-05"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"log4j.xml"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" ?>\r\n<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">\r\n\r\n<log4j:configuration xmlns:log4j=\'http://jakarta.apache.org/log4j/\'>\r\n\r\n    \x3c!-- \u6307\u5b9amessage \u8f38\u51fa\u5230\u6307\u5b9a\u6a94,\u8f38\u51fa\u7b49\u7d1a\u70baINFO\u4ee5\u4e0a  --\x3e\r\n    <appender name="FILE_INFO"\r\n        class="org.apache.log4j.DailyRollingFileAppender">\r\n        <param name="File" value="${java.io.tmpdir}/logs/info.log" />\r\n        \x3c!-- Rollover at midnight each day --\x3e\r\n        <param name="DatePattern" value="\'.\'yyyy-MM-dd" />\r\n        <layout class="org.apache.log4j.PatternLayout">\r\n            \x3c!-- The default pattern: Date Priority [Category] Message\\n --\x3e\r\n            <param name="ConversionPattern"\r\n                value="%d{dd-MM-yy HH:mm:ss,SSS} %-5p %c{2} - %m%n" />\r\n        </layout>\r\n    </appender>\r\n\r\n    \x3c!-- \u6307\u5b9amessage \u8f38\u51fa\u5230\u6307\u5b9a\u6a94,\u8f38\u51fa\u7b49\u7d1a\u70baWARN\u4ee5\u4e0a  --\x3e\r\n    <appender name="FILE_WARN"\r\n        class="org.apache.log4j.DailyRollingFileAppender">\r\n        <param name="File" value="${java.io.tmpdir}/logs/error.log" />\r\n        \x3c!-- Rollover at midnight each day --\x3e\r\n        <param name="DatePattern" value="\'.\'yyyy-MM-dd" />\r\n        <param name="Threshold" value="warn" />\r\n        <layout class="org.apache.log4j.PatternLayout">\r\n            \x3c!-- The default pattern: Date Priority [Category] Message\\n --\x3e\r\n            <param name="ConversionPattern"\r\n                value="%d{dd-MM-yy HH:mm:ss,SSS} %-5p %c - %m%n" />\r\n        </layout>\r\n    </appender>\r\n\r\n    <root>\r\n        <appender-ref ref="FILE_INFO" />\r\n        <appender-ref ref="FILE_WARN" />\r\n    </root>\r\n\r\n</log4j:configuration>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"log4j-\u4ee5-email-\u9032\u884c-log",children:"Log4j \u4ee5 Email \u9032\u884c log"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../Log4j/Log4j_Mail_Appender",children:"Log4j Email Appender: \u5c07\u932f\u8aa4\u8a0a\u606f\u5bc4\u5230\u6307\u5b9a\u4f4d\u7f6e"})}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);