"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[2711],{22967:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>_,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"Python/OOP/Python_4_Inheritance_Basic","title":"Python \u7e7c\u627f\u4ecb\u7d39","description":"Python Inheritance","source":"@site/docs/31_Python/06_OOP/Python_4_Inheritance_Basic.md","sourceDirName":"31_Python/06_OOP","slug":"/Python/OOP/Python_4_Inheritance_Basic","permalink":"/docs/Python/OOP/Python_4_Inheritance_Basic","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Python \u7e7c\u627f\u4ecb\u7d39","description":"Python Inheritance","keywords":["Python","Inheritance"]},"sidebar":"totem_sidebar","previous":{"title":"Python \u985e\u5225\u6210\u54e1","permalink":"/docs/Python/OOP/Python_4_Class_Members"},"next":{"title":"Python \u8207 OOP","permalink":"/docs/Python/OOP/Python_4_OOP"}}');var i=s(74848),l=s(28453);const t={title:"Python \u7e7c\u627f\u4ecb\u7d39",description:"Python Inheritance",keywords:["Python","Inheritance"]},a="Python \u7e7c\u627f\u4ecb\u7d39",c={},o=[{value:"Python \u7e7c\u627f",id:"python-\u7e7c\u627f",level:2},{value:"<span>Diamond Pattern Inheritance: \u947d\u77f3\u7e7c\u627f</span>",id:"diamond-pattern-inheritance-\u947d\u77f3\u7e7c\u627f",level:2},{value:"<span>MRO : Method Resolution Order</span>",id:"mro--method-resolution-order",level:2},{value:"<span>Override Methods</span>",id:"override-methods",level:2},{value:"<span>Overload Methods</span>",id:"overload-methods",level:2},{value:"<span>\u7e7c\u627f\u7d50\u69cb\u4e0b Python \u5efa\u69cb\u5b50 </span>",id:"\u7e7c\u627f\u7d50\u69cb\u4e0b-python-\u5efa\u69cb\u5b50-",level:2},{value:"<span>\u7e7c\u627f\u4e0b\u7684 super() \u529f\u80fd</span>",id:"\u7e7c\u627f\u4e0b\u7684-super-\u529f\u80fd",level:2},{value:"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027",id:"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027",level:2},{value:"Composite Pattern \u8907\u5408\u6a21\u5f0f <span>\xa0</span>",id:"composite-pattern-\u8907\u5408\u6a21\u5f0f-",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"python-\u7e7c\u627f\u4ecb\u7d39",children:(0,i.jsx)("span",{id:"inheritance",children:"Python \u7e7c\u627f\u4ecb\u7d39"})})}),"\n",(0,i.jsx)(e.h2,{id:"python-\u7e7c\u627f",children:"Python \u7e7c\u627f"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Inheritance Syntax"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"class Child (ParentA, ParentB):\r\n    pass\n"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["Python \u5141\u8a31 ",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:"\u591a\u91cd\u7e7c\u627f"}),"\u3002",(0,i.jsx)(e.br,{}),"\n","\u4e0a\u65b9\u7bc4\u4f8b\u70ba Child \u540c\u6642\u7e7c\u627f ParentA, ParentB\u3002",(0,i.jsx)(e.br,{}),"\n","\u82e5\u7236\u985e\u5225\u5011\u540c\u6642\u5177\u6709\u76f8\u540c\u7684\u8b8a\u6578\u6642\uff0c",(0,i.jsx)(e.br,{}),"\n","\u5b50\u985e\u5225\u53ea\u53d6\u5b9a\u7fa9\u5728\u5de6\u5074\u7684\u5be6\u4f5c\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Inheritance Syntax to Linear Inheritabce"})," ",(0,i.jsx)("span",{id:"Linear_Inheritabce",children:"\xa0"})]}),"\n",(0,i.jsx)("pre",{children:(0,i.jsxs)(e.p,{children:["object",(0,i.jsx)("br",{}),(0,i.jsx)(e.br,{}),"\n","\xa0\xa0^",(0,i.jsx)("br",{}),"\r\n\xa0\xa0|",(0,i.jsx)("br",{}),"\r\nParentB",(0,i.jsx)("br",{}),(0,i.jsx)(e.br,{}),"\n","\xa0\xa0^",(0,i.jsx)("br",{}),"\r\n\xa0\xa0|",(0,i.jsx)("br",{}),"\r\nParentA",(0,i.jsx)("br",{}),"\r\n\xa0\xa0^",(0,i.jsx)("br",{}),"\r\n\xa0\xa0|",(0,i.jsx)("br",{}),"\r\nChild"]})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u8a3b:\u4e0a\u65b9\u8f49\u63db\u5f8c\u7684\u7d50\u69cb\u8cc7\u8a0a\u53ef\u4ee5\u7531 ",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:" Child.mro() "})," \u53d6\u5f97"]}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u4e5f\u53ef\u60f3\u6210 Child \u5148\u7e7c\u627f ParentA\uff0c\u518d\u7e7c\u627f ParentB\u3002\u6c92\u4e0a\u6e38\u5f8c\u518d\u7e7c\u627f object\u3002",(0,i.jsx)(e.br,{}),"\n","\u7576\u5c07\u7e7c\u627f\u8a9e\u6cd5\u62c6\u89e3\u6210\u4e0a\u65b9\u7dda\u6027\u7d50\u69cb\u5f8c\uff0c",(0,i.jsx)(e.br,{}),"\n","\u6211\u5011\u53ef\u4ee5\u6e05\u695a\u770b\u51fa ",(0,i.jsx)(e.a,{href:"#inheritance_mro",children:"Method Resolution Order"}),"\u7684\u539f\u5247:",(0,i.jsx)(e.br,{}),"\n","\u7531\u4e0b\u800c\u4e0a (\u4e0a\u65b9\u70ba\u62bd\u8c61\u985e)",(0,i.jsx)(e.br,{}),"\n","\u7531\u5de6\u6a39\u800c\u53f3\u6a39 (\u53f3\u5074\u70ba\u62bd\u8c61\u985e)",(0,i.jsx)(e.br,{}),"\n","\u9047\u5230\u540c\u540d\u6210\u54e1\u6642\u5de6\u5074\u512a\u5148 (\u8986\u5beb\u512a\u5148)"]}),"\n"]}),"\n",(0,i.jsx)("div",{style:{backgroundColor:"#ffd1b3"},children:(0,i.jsxs)(e.p,{children:["\u4e00\u5207\u90fd\u5c0e\u56e0\u65bc: ",(0,i.jsx)("br",{}),"\r\n\u63a5\u8fd1\u5851\u6a21\u7684\u985e\u5225\u512a\u5148",(0,i.jsx)("br",{}),(0,i.jsx)(e.br,{}),"\n","\u7e7c\u627f\u7684\u8d8a\u4e0b\u65b9\u8d8a\u63a5\u8fd1\u5be6\u9ad4\u985e\u5225\uff0c\u6240\u4ee5\u5148\u63a1\u7528",(0,i.jsx)("br",{}),(0,i.jsx)(e.br,{}),"\n","\u800c\u5b50\u985e\u5225\u53ef\u8986\u5beb\u7236\u985e\u5225\u6210\u54e1\uff0c\u6240\u4ee5\u5b50\u985e\u512a\u5148",(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Multiple Inheritance"})}),"\n",(0,i.jsx)("pre",{children:(0,i.jsxs)(e.p,{children:["[B1]  [B2]  [B3]   [B4]",(0,i.jsx)("br",{}),"\r\n\xa0^     ^     ^     ^",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\\   /       \\   /",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\xa0\\ /         \\ /",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\xa0[A1]       [A2]",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\xa0\xa0\xa0^          ^",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\xa0\xa0\xa0\xa0\\        /",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\      /",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\    /",(0,i.jsx)("br",{}),"\r\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0MyClass",(0,i.jsx)("br",{})]})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u7e7c\u627f\u8a9e\u6cd5\u4e2d :",(0,i.jsx)(e.br,{}),"\n",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:"\u591a\u91cd\u7e7c\u627f\u5de6\u5074\u512a\u5148\u6b21\u5e8f\u8f03\u9ad8"}),(0,i.jsx)(e.br,{}),"\n","\u5c0b\u627e\u7e7c\u627f\u6210\u54e1\u6642\uff0c",(0,i.jsx)("br",{}),(0,i.jsx)(e.br,{}),"\n","\u7531\u4e0b\u800c\u4e0a\uff0c MyClass-> A -> B  ",(0,i.jsx)("br",{}),(0,i.jsx)(e.br,{}),"\n","\u7531\u5de6\u800c\u53f3\u3002 A1 tree -> A2 tree   ",(0,i.jsx)("br",{}),"\r\n\u6700\u7d42: MyClass > A1 > B1 > B2 > A2 > B3 > B4 > object"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["hint: \u91cd\u7d44\u6210 ",(0,i.jsx)(e.a,{href:"#Linear_Inheritabce",children:"\u7dda\u6027\u55ae\u4e00\u7e7c\u627f\u7d50\u69cb"}),"\u4ee5\u4fbf\u65bc\u7406\u89e3"]}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["[<class '",(0,i.jsx)(e.strong,{children:"main"}),".MyClass'>, <class '",(0,i.jsx)(e.strong,{children:"main"}),".A1'>, <class '",(0,i.jsx)(e.strong,{children:"main"}),".B1'>, <class '",(0,i.jsx)(e.strong,{children:"main"}),".B2'>, <class '",(0,i.jsx)(e.strong,{children:"main"}),".A2'>, <class '",(0,i.jsx)(e.strong,{children:"main"}),".B3'>, <class '",(0,i.jsx)(e.strong,{children:"main"}),".B4'>, <class 'object'>]"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"diamond-pattern-inheritance-\u947d\u77f3\u7e7c\u627f",children:(0,i.jsx)("span",{id:"DiamondPatternInheritance",children:"Diamond Pattern Inheritance: \u947d\u77f3\u7e7c\u627f"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"TODO insert Diamond_Pattern_Inheritance.svg"}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["Python3+ ",(0,i.jsx)("span",{style:{backgroundColor:"#ffd1b3"},children:"\u67e5\u8a62\u9806\u5e8f : \u7531\u4e0b\u800c\u4e0a\uff0c\u7531\u5de6\u800c\u53f3"})," \u8207\u591a\u91cd\u7e7c\u627f\u76f8\u540c",(0,i.jsx)(e.br,{}),"\n","\u4f46\u7576\u9047\u5230\u947d\u77f3\u76f8\u4ea4\u6642\uff0c\u5247\u6703\u5148\u8f09\u5165\u53cd\u5411\u6709\u5b50\u985e\u5230\u7236\u985e\u7684\u5171\u7956 tree\uff0c\u518d\u4f9d\u5e8f\u8d70\u56de\u7c21\u55ae\u591a\u7e7c\u627f\u8def\u7dda\u3002",(0,i.jsx)(e.br,{}),"\n","Python2 \u898f\u5247\u4e0d\u540c(\u4e0d\u6558\u8ff0\u907f\u514d\u6df7\u6dc6)"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.em,{children:(0,i.jsx)(e.strong,{children:"Diamond Pattern Inheritance example: oop.inheritance.diamond.py"})})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"class Eukaryote:  # \u771f\u6838\u751f\u7269\r\n    pass\r\n\r\nclass CoAncestor(Eukaryote):  # \u5171\u7956\r\n    pass\r\n\r\nclass CellWall():  # \u7d30\u80de\u58c1\r\n    pass\r\n\r\nclass Chloroplast(): # \u8449\u7da0\u9ad4\r\n    pass\r\n\r\nclass Centriole():  # \u4e2d\u5fc3\u7c92\r\n    pass\r\n\r\nclass Cilium():  # \u7e96\u6bdb\r\n    pass\r\n\r\nclass Animal(Centriole, CoAncestor, Cilium):  # \u52d5\u7269\r\n    pass\r\n\r\nclass Plant(CellWall, CoAncestor, Chloroplast):  # \u690d\u7269\r\n    pass\r\n\r\n\r\nclass VegetativeState(Animal, Plant):  # \u690d\u7269\u4eba\r\n    pass\r\n    \r\n# Plant \u7684\u5171\u7956 tree: plant > CoAncestor > Eukaryote\r\n# \u7576 VegetativeState \u8d70\u5230\u4e0a\u5c64\uff0c Animal.CoAncestor \u6642\u6703\u5148\u89e3\u6790 (CoAncestor \u5171\u7956 tree, \u5305\u542b\u9805\u4e0b\u7684 Plant \u5b50\u985e)\r\n# VegetativeState > Animal Tree >> CoAncestor \u5171\u7956 tree > Plant Tree\r\n\r\n\r\nprint(VegetativeState.mro())\r\n# [<class '__main__.VegetativeState'>,\r\n# <class '__main__.Animal'>,\r\n# <class '__main__.Centriole'>,\r\n#\r\n# <class '__main__.Plant'>, ## CoAncestor Tree\r\n# <class '__main__.CellWall'>,  ## \u5efa\u69cb Plant Tree \u6642 CellWall \u512a\u5148\u65bc CoAncestor Tree\r\n# <class '__main__.CoAncestor'>,\r\n# <class '__main__.Eukaryote'>,\r\n#\r\n# <class '__main__.Cilium'>,\r\n### \u5efa\u69cb Animal Tree \u5269\u9918\u90e8\u5206 (Centriole > CoAncestor Tree > Cilium)\r\n#\r\n# <class '__main__.Chloroplast'>,\r\n### \u5efa\u69cb Plant Tree \u5269\u9918\u90e8\u5206 \r\n#\r\n# <class 'object'>]\r\n\n"})}),"\n",(0,i.jsx)(e.h2,{id:"mro--method-resolution-order",children:(0,i.jsx)("span",{id:"inheritance_mro",children:"MRO : Method Resolution Order"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Python \u4e2d\u4ee5 super() \u547c\u53eb\u4e0a\u5c64\u6642\u7684\u67e5\u8a62\u8def\u5f91\u7a31\u70ba MRO (Method Resolution Order)\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Python3+ \u7684\u67e5\u8a62\u539f\u5247\u662f","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5ee3\u5ea6\u512a\u5148"}),"\n",(0,i.jsx)(e.li,{children:"\u7531\u5de6\u5230\u53f3"}),"\n",(0,i.jsxs)(e.li,{children:["C3 \u6f14\u7b97\u6cd5\uff0c\u4ee5\u78ba\u4fdd\u4e00\u500b ",(0,i.jsx)(e.em,{children:(0,i.jsx)(e.strong,{children:"\u985e"})})," \u53ea\u80fd\u88ab\u67e5\u4e00\u6b21\u3002"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)("span",{style:{color:"#0044FF"},children:" ClassName.mro()"})," \u53ef\u7528\u4f86\u67e5\u8a62\u5be6\u969b\u7684 Method Resolution Path\u3002"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"override-methods",children:(0,i.jsx)("span",{id:"Override_Methods",children:"Override Methods"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u65b9\u6cd5\u8986\u5beb (Overriding): \u6307\u7684\u662f\u7236\u985e\u5225\u8207\u5b50\u985e\u5225\u5404\u81ea\u5177\u6709\u540c\u540d\u65b9\u6cd5\u5be6\u4f5c\u3002",(0,i.jsx)(e.br,{}),"\n","\u5be6\u969b\u63a1\u7528\u4f55\u8005\uff0c\u5247\u770b\u5efa\u69cb\u6642\u662f\u4ee5\u54ea\u4e00\u500b Type \u5efa\u69cb\u3002",(0,i.jsx)(e.br,{}),"\n","\u4e0d\u9700\u50cf Java \u984d\u5916\u6a19\u8a3b"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"class Animal:\r\n    def voice(self):\r\n        return '......'\r\n\r\nclass Dog(Animal):\r\n    def voice(self):\r\n        return 'Bark!'\r\n\r\nclass Cat(Animal):\r\n    def voice(self):\r\n        return 'Mew~'\r\n\r\nanimal = Animal()\r\ndog = Dog()\r\ncat = Cat()\r\n\r\nprint(animal.voice())  # ......\r\nprint(dog.voice())  # Bark!\r\nprint(cat.voice())  # Mew~\n"})}),"\n",(0,i.jsx)(e.h2,{id:"overload-methods",children:(0,i.jsx)("span",{id:"Overload_Methods",children:"Overload Methods"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["Python \u4e2d\u6c92\u6709 Overload methods\u3002",(0,i.jsx)(e.br,{}),"\n","Python \u8a9e\u8a00\u672c\u8eab\u4fbf\u9810\u8a2d\u63d0\u4f9b",(0,i.jsx)(e.br,{}),"\n","variable-arguments, key-word-arguments, default value \u7b49\u8a9e\u6cd5",(0,i.jsx)(e.br,{}),"\n","\u53ef\u9054\u5230\u5176\u4ed6\u8a9e\u8a00\u4e2d\u7684 overloading \u529f\u80fd\u3002",(0,i.jsx)(e.br,{}),"\n","\u9700\u6ce8\u610f\u7684\u662f\uff0cPython \u5141\u8a31\u7e7c\u627f\u95dc\u4fc2\u9593\u540c\u540d\u8b8a\u6578\u5b58\u5728\uff0c\u800c Method Name \u4e5f\u662f\u4e00\u7a2e\u8b8a\u6578\u540d\uff0c",(0,i.jsx)(e.br,{}),"\n","\u4f9d\u64da MRO \u9806\u5e8f\uff0c\u6700\u63a5\u8fd1\u5be6\u4f8b(\u5b50\u985e\u5225)\u7684\u540c\u540d\u65b9\u6cd5\u70ba\u986f\u6027\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u53c3\u8003 ",(0,i.jsx)(e.a,{href:"../Advanced/Python_2_unpack_lisit_map",children:"Python \u6253\u5305\u8207\u89e3\u5305"})]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u7e7c\u627f\u7d50\u69cb\u4e0b-python-\u5efa\u69cb\u5b50-",children:(0,i.jsx)("span",{id:"inheritance_constructor",children:"\u7e7c\u627f\u7d50\u69cb\u4e0b Python \u5efa\u69cb\u5b50 "})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u53c3\u8003\u5176\u4ed6 instance \u5efa\u69cb\u65b9\u5f0f:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"./Python_4_Class#cls_constructor",children:"Python \u57fa\u672c\u5efa\u69cb\u5b50: varArgs \u8207 kwArgs \u7684\u64f4\u5145\u529f\u80fd\u4f86\u9054\u5230 overloading "})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"./Python_4_Class_Members#cls_method_Factory",children:"Factory Method: \u4f7f\u7528 Class Method \u8a9e\u6cd5\u4f86\u5efa\u69cb\u7269\u4ef6"})}),"\n",(0,i.jsx)(e.li,{children:"\u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"./Python_4_Class#cls_constructor",children:"Variable Argument \u8207 key-word Argument"})," \u7684\u7279\u6027\u4e0d\u591a\u8aaa\uff0c\u672c\u8eab\u5373\u662f\u4e00\u7a2e Overloading \u8b8a\u5f62\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["Python \u8a9e\u6cd5\u4e2d\u53ef\u4ee5\u4f7f\u7528 @classmethod \u7279\u6027\uff0c\u5728\u985e\u5225\u65b9\u6cd5\u4e2d\u7d93\u7531 cls argument \u4f86\u547c\u53eb __init__() \u5efa\u69cb\u5b50\uff0c",(0,i.jsx)(e.br,{}),"\n","\u9019\u500b\u65b9\u6cd5\u985e\u4f3c Java \u8a9e\u8a00\u4e2d\u7684 this() \u4f86\u547c\u53eb\u591a\u8f09\u7684\u5efa\u69cb\u5b50\u3002",(0,i.jsx)(e.br,{}),"\n","\u4f7f\u7528\u9019\u500b Pattern \u53ef\u4ee5\u8b93\u7a0b\u5f0f\u78bc\u5177\u6709\u5546\u696d\u610f\u7fa9\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["Java \u8a9e\u8a00\u4e2d\u5728\u5b50\u985e\u5225\u4e2d\u4ee5 super() \u4f86\u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\u7684\u8a9e\u6cd5\u3002",(0,i.jsx)(e.br,{}),"\n","Python \u8a9e\u8a00\u4e5f\u6709\u76f8\u540c\u7684 super() \u8a9e\u6cd5\uff0c\u4f46\u5efa\u8b70\u5efa\u8b70\u50c5\u5728 ",(0,i.jsx)(e.strong,{children:"\u55ae\u4e00\u7e7c\u627f"})," \u60c5\u5883\u4e0b\u4f7f\u7528\u3002",(0,i.jsx)(e.br,{}),"\n","\u591a\u91cd\u7e7c\u627f\u60c5\u5883\u5247\u5efa\u8b70\u4f9d\u64da Type \u4f86\u547c\u53eb\u7236\u985e\u5efa\u69cb\u5b50\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["__super.constructor.py: \u55ae\u4e00\u7e7c\u627f\u7bc4\u4f8b __ ",(0,i.jsx)("span",{id:"inheritance_constructor_single",children:"\xa0"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u9084\u662f\u5efa\u8b70\u63a1\u7528 ParentName.__init__(self) \u9019\u8a9e\u6cd5"}),"\n",(0,i.jsx)(e.li,{children:"\u6ce8\u610f: \u9808 slef argument"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'\r\nclass Person:\r\n    def __init__(self, role_name):\r\n        self.role_name = role_name\r\n        print(\'-Person-\')\r\n\r\n    def print_role(self):\r\n        print(self.role_name)\r\n\r\n\r\nclass Writer(Person):\r\n    def __init__(self, role_name, expertise):\r\n        Person.__init__(self, role_name) ## \u5efa\u8b70\u4f7f\u7528\r\n        # super().__init__(role_name) ## \u9650\u55ae\u4e00\u7e7c\u627f\u6642\u4f7f\u7528\r\n        # super(Writer, self).__init__(role_name) ## \u4f9d\u64da MRO order ,\u5efa\u8b70\u55ae\u4e00\u7e7c\u627f\u6642\u4f7f\u7528\u3002\r\n        self.expertise = expertise\r\n        print("-Writer-")\r\n\r\n    def print_expertise(self):\r\n        print(self.expertise)\r\n        \r\nclass Cook(Person):\r\n    def __init__(self, role_name, expertise):\r\n        Person.__init__(self, role_name) ## \u5efa\u8b70\u4f7f\u7528\r\n        self.expertise = expertise\r\n        print("-Cooking-")\r\n\r\njk_rowling = Writer("Novel Writer", \'Writing\')\r\n\r\njk_rowling.print_role()\r\n# Novel Writer\r\njk_rowling.print_expertise()\r\n# Writing\n'})}),"\n",(0,i.jsx)(e.p,{children:"__super.constructor.py: \u591a\u7e7c\u627f\u7bc4\u4f8b __"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u9084\u662f\u5efa\u8b70\u63a1\u7528 ParentName.__init__(self) \u9019\u8a9e\u6cd5\uff0c\u56e0\u70ba\u53ef\u4ee5\u81ea\u884c\u6c7a\u5b9a\u4f7f\u7528\u9806\u5e8f\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u6ce8\u610f: \u9808\u5e36 slef argument"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"\r\n### Multiple Parent Example\r\nclass Scissor:\r\n    def __init__(self, action):\r\n        print(\"-Scissors-\", action)\r\nclass Screwdriver:\r\n    def __init__(self, action):\r\n        print(\"-Screwdriver-\", action)\r\n\r\nclass Knife:\r\n    def __init__(self, action):\r\n        print(\"-Knife-\", action)\r\n\r\nclass SwissKnife(Screwdriver, Scissor, Knife ):\r\n    def __init__(self):\r\n        # super(Knife, self).__init__() # \u53ea\u6293 self \u8207 MRO \u4e2d self \u7684\u6b21\u4e00\u500b\r\n        # super.__init__() # \u591a\u91cd\u7e7c\u627f\u4e0b\u7121\u6cd5\u8fa8\u5225\r\n\r\n        Scissor.__init__(self, 'snipping') ## \u5efa\u8b70\u4f7f\u7528, \u53ef\u81ea\u8a02 super \u7684 order\r\n        Knife.__init__(self, 'cutting')\r\n        Screwdriver.__init__(self, 'drilling')\r\n\r\n        print('-SwissKnife-')\r\n\r\ntool = SwissKnife()\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u7e7c\u627f\u4e0b\u7684-super-\u529f\u80fd",children:(0,i.jsx)("span",{id:"inheritance_super",children:"\u7e7c\u627f\u4e0b\u7684 super() \u529f\u80fd"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7528\u5728\u55ae\u4e00\u7e7c\u627f\u7684\u60c5\u5883\u4e0b\u3002"}),"\n",(0,i.jsxs)(e.li,{children:["\u53ef\u7528\u4f86\u547c\u53eb","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"#inheritance_constructor_single",children:"\u7236\u985e\u5225\u5efa\u69cb\u5b50"})," \u5728\u4e0a\u65b9\u7bc4\u4f8b\u4e2d\u5df2\u4ecb\u7d39\u3002"]}),"\n",(0,i.jsx)(e.li,{children:"\u7236\u985e\u5225\u65b9\u6cd5\u51fd\u6578: ParentName.methodName(self)"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u55ae\u7528 Super() \u8a9e\u6cd5\u6642\uff0c\u82e5\u70ba Multiple Inheritance\uff0c\u6703\u56e0\u4e0d\u77e5\u9053\u78ba\u5207\u6307\u5411\u54ea\u500b\u7236\u985e\u5225\u800c\u62cb\u51fa\u932f\u8aa4\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"__super.method.py __"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"\r\nclass Scissor:\r\n    def __init__(self):\r\n        pass\r\n\r\n    def do(self, message):\r\n        print('Scissor ', message)\r\n\r\n\r\nclass Screwdriver:\r\n    def __init__(self):\r\n        pass\r\n\r\n    def do(self, message):\r\n        print('Screwdriver ', message)\r\n\r\n\r\nclass Knife:\r\n    def __init__(self):\r\n        pass\r\n\r\n    def do(self, message):\r\n        print('Knife ', message)\r\n\r\n\r\nclass SwissKnife(Screwdriver, Scissor, Knife):\r\n    def __init__(self):\r\n        pass\r\n\r\n    def do(self):\r\n        Screwdriver.do(self, \"Drilling\") # \u5efa\u8b70\u65b9\u5f0f\r\n        # super(Screwdriver, self).do(\"go\") # by MRO. next is Scissor\uff0c\u4e0d\u5efa\u8b70\u4f7f\u7528\r\n\r\n\r\nprint(SwissKnife.mro())\r\n# [<class '__main__.SwissKnife'>, <class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>, <class 'object'>]\r\n\r\ntool = SwissKnife()\r\ntool.do()\r\n# Screwdriver  Drilling\r\n\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027",children:"\u67e5\u8a62\u7e7c\u627f\u8207\u578b\u5225\u76f8\u95dc\u5c6c\u6027"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4ee5\u4e0a\u65b9 SwissKnife \u70ba\u4f8b:"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7531 instance/class \u4f86\u53cd\u67e5\u7e7c\u627f\u76f8\u95dc\u5c6c\u6027"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u57fa\u672c\u4e0a instance \u53ef\u7d93\u7531\u5167\u5efa\u8b8a\u6578 __class__ \u53cd\u67e5\u5f97\u5230 instance \u7684 class type\u3002\u7e7c\u627f\u76f8\u95dc\u5c6c\u6027\u4fbf\u53ef\u7531 Type \u4f86\u53d6\u5f97\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Instance Attributes"}),(0,i.jsx)(e.th,{children:"Description"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__class__"}),(0,i.jsx)(e.td,{children:"\u56de\u50b3 class"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__class__.__name__"}),(0,i.jsx)(e.td,{children:"\u56de\u50b3 class name"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__class__.__bases__"}),(0,i.jsx)(e.td,{children:"\u56de\u50b3 class \u7684\u4e0a\u6e38\u7e7c\u627f\u7d50\u69cb"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__class__.__base__"}),(0,i.jsx)(e.td,{children:"\u56de\u50b3 class \u7684\u4e0a\u4e00\u5c64\u7236\u985e\u5225"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__class__.__mro__"}),(0,i.jsx)(e.td,{children:"\u56de\u50b3 class \u7684\u7e7c\u627f\u67e5\u627e/\u51fd\u6578\u67e5\u627e\u8def\u5f91"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__class__.mro()"}),(0,i.jsx)(e.td,{children:"\u7b49\u540c\u65bc instance.__class__.__mro__"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__dict__"}),(0,i.jsx)(e.td,{children:"\u5217\u51fa instance \u7684\u6240\u6709 field/values"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance.__module__"}),(0,i.jsx)(e.td,{children:"\u986f\u793a module \u8cc7\u8a0a"})]})]})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"tool = SwissKnife()\r\ntool.do()\r\n\r\nprint(tool.__class__) # <class '__main__.SwissKnife'>\r\nprint(tool.__class__.__name__) # SwissKnife\r\nprint(tool.__class__.__bases__) # (<class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>)\r\nprint(tool.__class__.__base__) # <class '__main__.Screwdriver'>\r\nprint(tool.__class__.__mro__) # (<class '__main__.SwissKnife'>, <class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>, <class 'object'>)\r\n\r\nprint(SwissKnife.mro()) # [<class '__main__.SwissKnife'>, <class '__main__.Screwdriver'>, <class '__main__.Scissor'>, <class '__main__.Knife'>, <class 'object'>]\r\nprint(Scissor.mro()) # [<class '__main__.Scissor'>, <class 'object'>]\r\nprint(SwissKnife.__dict__) # {'__module__': '__main__', '__init__': <function SwissKnife.__init__ at 0x0000014FCF402160>, 'do': <function SwissKnife.do at 0x0000014FCF4021F0>, '__doc__': None}\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7e7c\u627f\u7d50\u69cb\u8207\u5be6\u4f8b\u985e\u5225\u6aa2\u9a57\u51fd\u6578"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"isinstance(instance, type_or_tuple): \u6aa2\u9a57 instance \u7684  class"}),"\n",(0,i.jsxs)(e.li,{children:["issubclass(Child, Parent_or_tuple): \u6aa2\u9a57\u7e7c\u627f\u95dc\u4fc2","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7576\u7d66\u5b9a\u7684 Types \u662f tuple \u6642\uff0c\u6aa2\u67e5\u7684\u7d50\u679c\u662f\u4efb\u4e00\u7b26\u5408\u8b8a\u56de\u50b3 True\u3002(if any match)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"\r\nswissKnife = SwissKnife()\r\n\r\nprint( isinstance(swissKnife, SwissKnife)) # True\r\nprint( isinstance(swissKnife, Scissor)) # True\r\nprint( isinstance(swissKnife, (Scissor, Person))) # True, if any match\r\n\r\nprint(issubclass(SwissKnife, Role)) # False\r\nprint(issubclass(SwissKnife, (Role,Scissor))) # True, if any match\r\n\n"})}),"\n",(0,i.jsxs)(e.h2,{id:"composite-pattern-\u8907\u5408\u6a21\u5f0f-",children:["Composite Pattern \u8907\u5408\u6a21\u5f0f ",(0,i.jsx)("span",{id:"Composite_Pattern",children:"\xa0"})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u82e5\u55ae\u7d14\u7684\u770b\u529f\u80fd\u9762\u7684\u8a71\uff0c\u7e7c\u627f\u4e3b\u8981\u662f\u8b93\u5b50\u985e\u5225\u5177\u6709\u7236\u985e\u7684\u80fd\u529b\uff0c\u800c\u5b50\u985e\u537b\u4e0d\u9700\u589e\u52a0\u984d\u5916\u7684\u7a0b\u5f0f\u958b\u767c\u3002",(0,i.jsx)(e.br,{}),"\n","\u7e7c\u627f\u4e4b\u5916 Composite Pattern(\u8907\u5408\u6a21\u5f0f) \u4e5f\u5177\u6709\u76f8\u540c\u80fd\u529b\uff0c\u6240\u4ee5\u5728\u9019\u908a\u4e5f\u4ecb\u7d39\u4e00\u4e0b\u3002",(0,i.jsx)(e.br,{}),"\n","\u539f\u5247\u4e0a\u4fbf\u662f\u985e\u5225\u69fd\u4e32\uff0c\u5916\u5c64\u985e\u5225\u5177\u6709\u5167\u5c64\u985e\u5225\u529f\u80fd\u3002\u5c31\u50cf\u662f\u7d30\u80de\u8207\u5305\u5668\u9593\u7684\u95dc\u4fc2\u3002"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"\r\nclass Screwdriver:\r\n    def __init__(self):\r\n        pass\r\n\r\n    def drill(self, message):\r\n        print('Screwdriver drilling: ', message)\r\n\r\nclass Knife:\r\n    def __init__(self):\r\n        pass\r\n\r\n    def cut(self, message):\r\n        print('Knife cutting: ', message)\r\n\r\nclass SwissKnife():\r\n    def __init__(self):\r\n        self.knife = Knife()  # Composite\r\n        self.screwdriver = Screwdriver()\r\n\r\n    def cut(self, message): # Delegation \r\n        self.knife.cut(message)\r\n        print('SwissKnife cutting: ', message)\r\n\r\n    def drill(self, message):\r\n        self.screwdriver.drill(message)\r\n        print('SwissKnife drilling: ', message)\r\n\r\n    def cut_then_drill(self, message): \r\n        self.knife.cut(message)\r\n        self.screwdriver.drill(message)\r\n        print('SwissKnife drilling: ', message)\n"})})]})}function _(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>a});var r=s(96540);const i={},l=r.createContext(i);function t(n){const e=r.useContext(l);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);