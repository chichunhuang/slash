"use strict";(globalThis.webpackChunkinsect_totem=globalThis.webpackChunkinsect_totem||[]).push([[1665],{28453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>c});var o=n(96540);const s={},l=o.createContext(s);function a(e){const r=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(l.Provider,{value:r},e.children)}},29266:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>i,contentTitle:()=>c,default:()=>t,frontMatter:()=>a,metadata:()=>o,toc:()=>g});const o=JSON.parse('{"id":"Log4j/Log4j_Basic","title":"Log4j \u5b78\u7fd2\u7d00\u9304","description":"Log4j","source":"@site/docs/190_Log4j/01_Log4j_Basic.md","sourceDirName":"190_Log4j","slug":"/Log4j/Log4j_Basic","permalink":"/docs/Log4j/Log4j_Basic","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Log4j \u5b78\u7fd2\u7d00\u9304","description":"Log4j","keywords":["Log4j"]},"sidebar":"totem_sidebar","previous":{"title":"Linux \u4e3b\u6a5f\u552f\u4e00\u78bc","permalink":"/docs/Linux/Linux_Machine_ID"},"next":{"title":"Log4j2 \u5b78\u7fd2\u7d00\u9304","permalink":"/docs/Log4j/Log4j2"}}');var s=n(74848),l=n(28453);const a={title:"Log4j \u5b78\u7fd2\u7d00\u9304",description:"Log4j",keywords:["Log4j"]},c=void 0,i={},g=[{value:"\u7d44\u6210 Log4j \u7684\u4e09\u5927\u5143\u4ef6",id:"\u7d44\u6210-log4j-\u7684\u4e09\u5927\u5143\u4ef6",level:2},{value:"Log4j \u7684\u968e\u5c64\u67b6\u69cb",id:"log4j-\u7684\u968e\u5c64\u67b6\u69cb",level:2},{value:"Logger <span></span>",id:"logger-",level:2},{value:"Appender <span></span>",id:"appender-",level:2},{value:"Layout <span></span>",id:"layout-",level:2},{value:"\u8a2d\u5b9a",id:"\u8a2d\u5b9a",level:2},{value:"Java \u7a0b\u5f0f\u914d\u7f6e log4j <span></span>",id:"java-\u7a0b\u5f0f\u914d\u7f6e-log4j-",level:3},{value:"Property \u914d\u7f6e log4j <span></span>",id:"property-\u914d\u7f6e-log4j-",level:3},{value:"Xml \u914d\u7f6e log4j <span></span>",id:"xml-\u914d\u7f6e-log4j-",level:3}];function d(e){const r={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:["\u9019\u908a\u662f log4j 1.x \u7248",(0,s.jsx)(r.br,{}),"\n","log4j-1.2.17.jar",(0,s.jsx)(r.br,{}),"\n","\u4e0b\u9762\u7684 Appender / Layout \u7b49\u82e5\u672a\u8a2d\u5b9a\u5247\u63a1\u7528\u9810\u8a2d\u7684 Root Logger \u4e2d\u8a2d\u5b9a"]}),"\n",(0,s.jsxs)(r.p,{children:["Log4j \u662f\u4e00\u5957\u958b\u653e\u6e90\u78bc\u7684\u5de5\u5177\uff0c\u65b9\u4fbf\u958b\u767c\u4eba\u54e1\u5728\u7a0b\u5f0f\u4e2d\u52a0\u5165 log \u6a5f\u5236\uff0c\u4e26\u8f38\u51fa\u5230\u4e0d\u540c\u5a92\u4ecb\u4e0a\u3002",(0,s.jsx)(r.br,{}),"\n","Log4j \u7531",(0,s.jsx)("code",{children:"properites"})," \u6216 ",(0,s.jsx)("code",{children:"XML"}),"\u8a2d\u5b9a\u6a94\u9032\u884c\u8a2d\u5b9a\u3002",(0,s.jsx)(r.br,{}),"\n","\u8f38\u51fa\u5a92\u4ecb\u5305\u542b console\uff0c \u6a94\u6848\uff0c\u4e32\u6d41\uff0cTCP \u5354\u5b9a\u7684\u4f3a\u670d\u5668\uff0cUnix Syslog daemon \u7b49\u3002",(0,s.jsx)(r.br,{}),"\n","Log4j \u5177\u6709 5 \u7a2e log \u5c64\u7d1a( ",(0,s.jsx)("code",{children:"DEBUG"}),", ",(0,s.jsx)("code",{children:"INFO"}),", ",(0,s.jsx)("code",{children:"WARN"}),", ",(0,s.jsx)("code",{children:"ERROR"}),", ",(0,s.jsx)("code",{children:"FATAL"})," )\uff0c\u53ef\u7528\u65bc\u4e0d\u540c\u7684\u7cfb\u7d71\u72c0\u614b\u4e0b\u6240\u7522\u751f\u7684\u8a0a\u606f\u3002"]}),"\n",(0,s.jsx)(r.h2,{id:"\u7d44\u6210-log4j-\u7684\u4e09\u5927\u5143\u4ef6",children:"\u7d44\u6210 Log4j \u7684\u4e09\u5927\u5143\u4ef6"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsxs)(r.a,{href:"#log4j_logger",children:[(0,s.jsx)("code",{children:"Logger"}),": \u7a0b\u5f0f\u4e2d\u9032\u884c logging \u7684\u5143\u4ef6"]})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsxs)(r.a,{href:"#log4j_appender",children:[(0,s.jsx)("code",{children:"Appender"}),": \u8ca0\u8cac\u5c07 log message \u8f38\u51fa\u5230\u4e0d\u540c\u5a92\u4ecb"]})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsxs)(r.a,{href:"#log4j_layout",children:[(0,s.jsx)("code",{children:"Layout"}),": \u5b9a\u7fa9 log message \u7684\u683c\u5f0f"]})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"log4j-\u7684\u968e\u5c64\u67b6\u69cb",children:"Log4j \u7684\u968e\u5c64\u67b6\u69cb"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["\u4e00\u500b\u7a0b\u5f0f\u4e2d\u53ef\u4ee5\u64c1\u6709\u591a\u500b Logger\uff0cLogger \u9593\u4ee5",(0,s.jsx)("code",{children:"\u540d\u7a31"}),"\u5340\u5206\uff0c\u4e26\u4ee5\u540d\u7a31\u5206\u968e\u5c64\u3002",(0,s.jsx)(r.br,{}),"\n","\u4f8b\u5982: \u7576\u4e00\u500b Logger \u7684\u540d\u7a31\u70ba ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"package.a"})})," \uff0c\u53e6\u4e00\u500b\u540d\u70ba ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"package.a.b"})})," \u7684 Logger \u5c31\u96b8\u5c6c\u65bc ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"package.a"})})," logger\uff0c",(0,s.jsx)(r.br,{}),"\n","\u5982\u679c ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"package.a.b"})})," \u672a\u5b9a\u7fa9\u81ea\u5df1\u7684 log \u7b49\u7d1a\uff0c\u5247\u4ee5 ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"package.a"})})," \u7684 log \u7b49\u7d1a\u70ba\u9810\u8a2d\u503c\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["\u968e\u5c64\u7684\u6700\u9ad8\u70ba ",(0,s.jsx)("code",{children:"Root logger"}),"\u3002",(0,s.jsx)(r.br,{}),"\n","Root logger \u70ba\u9810\u8a2d\u7269\u4ef6\uff0c\u4e0d\u5177\u6709\u540d\u7a31\u5c6c\u6027\uff0c",(0,s.jsx)(r.br,{}),"\n","\u53ef\u4ee5\u96a8\u6642\u5728\u7a0b\u5f0f\u4e2d\u4ee5 ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"Logger.getRootLogger()"})})," \u53d6\u5f97\uff0c",(0,s.jsx)(r.br,{}),"\n","\u5176\u5b83 logger \u5247\u4ee5 ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"Logger.getLogger(String name)"})})," \u53d6\u5f97\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.h2,{id:"logger-",children:["Logger ",(0,s.jsx)("span",{id:"log4j_logger",children:"\xa0"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"Logger \u53ef\u4ee5\u88ab\u6307\u6d3e\u7b49\u7d1a"})," "]})," \u3002","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\u80fd\u5920\u6307\u6d3e\u7d66 Logger \u7684\u7b49\u7d1a\u6709 : ",(0,s.jsx)("code",{children:"DEBUG"}),", ",(0,s.jsx)("code",{children:"INFO"}),", ",(0,s.jsx)("code",{children:"WARN"}),", ",(0,s.jsx)("code",{children:"ERROR"}),", ",(0,s.jsx)("code",{children:"FATAL"})," 5 \u7a2e\uff0c\u5b9a\u7fa9\u5728 ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"org.apache.log4j.Level"})})," \u985e\u5225\u4e2d\u3002"]}),"\n",(0,s.jsx)(r.li,{children:"\u9019 5 \u7a2e\u7b49\u7d1a\u7684\u9ad8\u4f4e\u9806\u5e8f\u70ba FATAL > ERROR > WARN > INFO > DEBUG\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Logger \u7684\u7b49\u7d1a\u6c7a\u5b9a\u5b83\u7522\u751f log message \u7684\u7a2e\u985e : Logger \u53ea\u5beb ",(0,s.jsx)(r.strong,{children:"\u51fa\u9ad8\u65bc\u6216\u7b49\u65bc\u672c\u8eab\u7b49\u7d1a"})," \u7684 log message\u3002",(0,s.jsx)(r.br,{}),"\n","\u4f8b\u5982: \u67d0\u500b WARN \u7b49\u7d1a\u7684 Logger \uff0c\u5b83\u53ef\u5beb\u51fa\u7b49\u7d1a\u70ba WARN\u3001ERROR\u3001FATAL \u7b49\u7d1a\u7684 log message\uff0c",(0,s.jsx)(r.br,{}),"\n","\u4e26\u5ffd\u7565 DEBUG\uff0c INFO \u7b49\u7d1a\u7684 log message \u3002"]}),"\n",(0,s.jsxs)(r.li,{children:["\u82e5\u662f Logger \u7684\u7b49\u7d1a\u672a\u88ab\u8a2d\u5b9a\uff0c\u5247\u81ea\u52d5\u5957\u7528 parent(\u4e0a\u4e00\u5c64) \u7684\u7b49\u7d1a\u3002",(0,s.jsx)(r.br,{}),"\n","\u5982\u679c\u7a0b\u5f0f\u4e2d\u6240\u6709\u7684 Logger \u90fd\u672a\u8a2d\u5b9a\u7b49\u7d1a\uff0c\u5247\u5957\u7528 root logger\u3002"]}),"\n",(0,s.jsx)(r.li,{children:"Logger \u4ee5\u540d\u7a31\u8fa8\u5225\uff0c\u6240\u4ee5\u5728\u7a0b\u5f0f\u4e2d\u4efb\u4f55\u5730\u65b9\uff0c\u547c\u53eb Logger.getLogger()\uff0c\u4e26\u50b3\u5165\u540c\u4e00\u500b Logger \u540d\u7a31\uff0c\u5247\u6703\u5f97\u5230\u540c\u4e00\u500b Logger \u7684 reference\u3002"}),"\n",(0,s.jsx)(r.li,{children:"Logger \u4e4b\u9593\u4ee5\u540d\u7a31\u5340\u5206\u51fa\u968e\u5c64\u3002\u5373\u4f7f\u7236\u968e\u5c64\u5728\u7a0b\u5f0f\u4e2d\u51fa\u73fe\u7684\u6642\u6a5f\u6bd4\u5b50\u968e\u5c64\u665a\uff0c\u4f8b\u5982 package.a logger \u6bd4 package.a.b \u88ab\u53d6\u5f97\u7684\u6642\u9593\u4f86\u5f97\u665a\uff0cpackage.a \u4ecd\u7136\u662f package.a.b \u7684\u7236\u968e\u5c64\u3002\u4ecd\u7136\u6703\u5f71\u97ff\u5230\u5b50\u968e\u5c64 logger \u672a\u88ab\u5b9a\u7fa9\u7684\u5c6c\u6027\uff0c \u5982: log \u7b49\u7d1a\u3001appender\u3001layout \u7b49\u7b49\u3002"}),"\n",(0,s.jsx)(r.li,{children:"\u901a\u5e38 Logger.getLogger(loggerName) \u7576\u4e2d\u7684 loggerName \u6703\u4ee5 Logger \u6240\u5728 Class \u7684 class.getName() \u4f86\u547d\u540d\u4ee5\u907f\u514d\u91cd\u540d\u3002"}),"\n"]}),"\n",(0,s.jsxs)(r.h2,{id:"appender-",children:["Appender ",(0,s.jsx)("span",{id:"log4j_appender",children:"\xa0"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"\u900f\u904e Appender\uff0cLogger \u80fd\u5920\u5c07 log message \u8f38\u51fa\u5230\u6307\u5b9a\u7684\u5a92\u9ad4\u4e0a\u3002"}),"\n",(0,s.jsx)(r.li,{children:"\u4e00\u500b Logger \u80fd\u5920\u64c1\u6709\u591a\u500b Appender\uff0c\u6240\u4ee5 Logger \u80fd\u5920\u540c\u6642\u8f38\u51fa\u5230\u591a\u500b\u5a92\u9ad4\u4e0a\u3002"}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" Appender \u7684\u8a2d\u5b9a\u4ea6\u6703\u53cd\u61c9\u5728 ",(0,s.jsx)(r.strong,{children:"Logger \u7684\u968e\u5c64\u4e2d"})," "]})," \u3002","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\u7576 Logger \u8f38\u51fa\u4e00\u7b46 log \u6642\uff0c",(0,s.jsx)(r.strong,{children:"\u7236\u968e\u5c64\u7684 Appender \u548c\u81ea\u5df1\u7684 Appender \u8f38\u51fa\u8a2d\u5b9a\u90fd\u6703\u53cd\u61c9\u5230\u9019\u7b46 log"}),"  \u4e2d\u3002"]}),"\n",(0,s.jsxs)(r.li,{children:["\u4f8b\u5982: ",(0,s.jsx)(r.strong,{children:"package.insect"})," Logger \u6709\u4e00\u500b Appender \u5c07 message \u8f38\u51fa\u5230 console\uff0c\u800c ",(0,s.jsx)(r.strong,{children:"package.insect.totem"})," \u6709\u4e00\u500b Appender \u5c07 message \u8f38\u51fa\u5230\u6a94\u6848\u3002\u7576 package.insect.totem \u8f38\u51fa log \u6642\uff0cconsole \u548c\u6a94\u6848\u90fd\u6703\u51fa\u73fe\u9019\u7b46 log\u3002"]}),"\n",(0,s.jsxs)(r.li,{children:["\u4f8b\u5916\u60c5\u6cc1\u662f: \u7576 logger \u5c07 ",(0,s.jsx)("code",{children:"additivity \u5c6c\u6027\u8a2d\u70ba false"}),"\uff0c\u5247\u6b64 ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"logger \u8207\u5b83\u7684\u5b50 logger \u90fd\u4e0d\u6703\u627f\u8972\u7236\u5c64"})}),"\u7684\u8a2d\u5b9a\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"    Logger.setAdditivity(false)\n"})}),"\n",(0,s.jsxs)(r.h2,{id:"layout-",children:["Layout ",(0,s.jsx)("span",{id:"log4j_layout",children:"\xa0"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:["Layout \u7684\u8a2d\u5b9a\u4ea6\u6703\u53cd\u61c9\u5728 ",(0,s.jsx)(r.strong,{children:"Logger \u7684\u968e\u5c64\u4e2d"})," "]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\u958b\u767c\u4eba\u54e1\u85c9\u7531 Layout \u7684\u8a2d\u5b9a\uff0c\u6539\u8b8a message \u6240\u8f38\u51fa\u7684\u683c\u5f0f\u3002","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\u4f8b\u5982: \u70ba Logger \u52a0\u5165\u4e00\u500b conversion pattern \u70ba ",(0,s.jsx)("code",{children:"%r %t %-5p %c - %m%n"})," \u7684 PatternLayout\uff0c\u5247\u8f38\u51fa\u7684 message \u5c31\u53ef\u80fd\u6703\u50cf\u4e0b\u5217\u9019\u6a23:"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"176 [main] INFO  org.foo.Bar - Located nearest gas station.\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"PatternLayout"})," \u7684 \u683c\u5f0f\u5b57\u5143\u5217\u8868\u5982\u4e0b:"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{}),(0,s.jsx)(r.th,{children:"\u8aaa\u660e"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%c"})}),(0,s.jsxs)(r.td,{children:["\u8f38\u51fa\u65e5\u8a8c\u8a0a\u606f\u6240\u5c6c\u7684 ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"Class \u7684\u5168\u540d"})})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%d"})}),(0,s.jsxs)(r.td,{children:["\u8f38\u51fa\u65e5\u8a8c\u6642\u9593\u9ede\u7684 ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"\u65e5\u671f\u6216\u6642\u9593"})})," \uff0c\u6307\u5b9a\u683c\u5f0f\u7684\u65b9\u5f0f\uff1a%d{dd-MM-yy HH:mm",":ss",",SSS}"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%l"})}),(0,s.jsxs)(r.td,{children:["\u8f38\u51fa\u65e5\u8a8c\u4e8b\u4ef6\u7684\u767c\u751f\u4f4d\u7f6e\uff0c\u5373\u8f38\u51fa\u65e5\u8a8c\u8a0a\u606f\u7684\u8a9e\u53e5\u8655\u65bc\u5b83\u6240\u5728\u7684\u985e\u5225\u7684 ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"\u7b2c\u5e7e\u884c"})})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%m"})}),(0,s.jsx)(r.td,{children:"\u8f38\u51fa\u4ee3\u78bc\u4e2d\u6307\u5b9a\u7684\u8a0a\u606f\uff0c\u5982log(message)\u4e2d\u7684message"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%n"})}),(0,s.jsxs)(r.td,{children:["\u8f38\u51fa\u4e00\u500b ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"\u63db\u884c\u7b26\u865f"})})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%p"})}),(0,s.jsxs)(r.td,{children:["\u8f38\u51fa\u512a\u5148\u968e\u5c64\uff0c\u5373 DEBUG\uff0cINFO\uff0cWARN\uff0cERROR\uff0cFATAL ",(0,s.jsx)("br",{})," \u5982\u679c\u662f\u547c\u53eb debug() \u8f38\u51fa\u7684\uff0c\u5247\u70ba DEBUG\uff0c\u4f9d\u6b64\u985e\u63a8 ",(0,s.jsx)("br",{})," -5p \u4ee3\u8868\u5c07\u6b64\u5b57\u4e32\u4ee5\u7a7a\u767d\u88dc\u81f3 5 \u500b\u5b57\u5143"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%r"})}),(0,s.jsx)(r.td,{children:"\u8f38\u51fa\u555f\u52d5\u5230\u8f38\u51fa\u8a72\u65e5\u8a8c\u8a0a\u606f\u6240\u8017\u8cbb\u7684\u6beb\u79d2\u6578"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%t"})}),(0,s.jsxs)(r.td,{children:["\u8f38\u51fa\u7522\u751f\u8a72\u65e5\u8a8c\u4e8b\u4ef6\u7684 ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"thread"})})," \u540d"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"%f"})}),(0,s.jsxs)(r.td,{children:["\u8f38\u51fa\u65e5\u8a8c\u8a0a\u606f\u6240\u5c6c\u7684 ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"Class \u7684\u985e\u5225\u540d"})})]})]})]})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"\u8a2d\u5b9a",children:"\u8a2d\u5b9a"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Log4j \u6709 3 \u7a2e\u8a2d\u5b9a\u65b9\u5f0f"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\u7d93\u7531 ",(0,s.jsx)(r.a,{href:"#log4j_java_configuration",children:"Java \u7a0b\u5f0f\u914d\u7f6e"})]}),"\n",(0,s.jsxs)(r.li,{children:["\u7d93\u7531 ",(0,s.jsxs)(r.a,{href:"#log4j_prop_configuration",children:[(0,s.jsx)("code",{children:(0,s.jsx)(r.strong,{children:"property"})})," \u6a94\u8a2d\u5b9a"]})]}),"\n",(0,s.jsxs)(r.li,{children:["\u7d93\u7531 ",(0,s.jsxs)(r.a,{href:"#log4j_xml_configuration",children:[(0,s.jsx)("code",{children:(0,s.jsx)(r.strong,{children:"xml"})})," \u8a2d\u5b9a\u6a94"]})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"\u6b65\u9a5f:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"\u5148\u5b9a\u7fa9 Root Logger \u7b49\u7d1a: \u6240\u6709 logger \u7684\u9810\u8a2d\u7b49\u7d1a"}),"\n",(0,s.jsx)(r.li,{children:"\u518d\u5b9a\u7fa9 Root Logger Appender: \u82e5\u5b9a\u7fa9 Root Logger\uff0c\u5247 Root Logger \u7684 Appender \u4e00\u5b9a\u8981\u6307\u5b9a"}),"\n",(0,s.jsx)(r.li,{children:"\u5b9a\u7fa9 Root Logger Layout: \u5b9a\u7fa9 Layout \u7684\u985e\u5225\u5f8c\uff0c\u9078\u64c7\u6027\u5b9a\u7fa9 Layout \u7684 conversion pattern"}),"\n",(0,s.jsx)(r.li,{children:"\u4f9d\u9700\u8981\u5b9a\u7fa9\u500b\u5225\u7684 Logger\u3001Appender\u3001Layout"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.h3,{id:"java-\u7a0b\u5f0f\u914d\u7f6e-log4j-",children:["Java \u7a0b\u5f0f\u914d\u7f6e log4j ",(0,s.jsx)("span",{id:"log4j_java_configuration",children:"\xa0"})]}),"\n",(0,s.jsxs)(r.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"BasicConfigurator"})})," \u9032\u884c\u8a2d\u5b9a",(0,s.jsx)(r.br,{}),"\n","Root Logger \u9810\u8a2d\u88ab\u8a2d\u5b9a\u70ba ",(0,s.jsx)(r.strong,{children:"DEBUG \u7b49\u7d1a"}),(0,s.jsx)(r.br,{}),"\n","log message \u4ee5 ",(0,s.jsx)("code",{children:"%r %t %p %c %x - %m%n"})," \u7684\u683c\u5f0f\u8f38\u51fa\u5230 console"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'    import org.apache.log4j.BasicConfigurator;\r\n    import org.apache.log4j.Logger;\r\n    \r\n    public class Log4jByBasicConfigurator {\r\n        private static Logger logger = Logger.getLogger(Log4jByBasicConfigurator.class);\r\n        //private static Logger logger = \r\n        //          Logger.getLogger(Log4jByBasicConfigurator.class.getName());\r\n        \r\n        public static void main(String[] args){\r\n            BasicConfigurator.configure(); \r\n            logger.info("This is an info message."); \r\n            logger.debug("This is a debug message."); \r\n        }\r\n    }\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"property-\u914d\u7f6e-log4j-",children:["Property \u914d\u7f6e log4j ",(0,s.jsx)("span",{id:"log4j_prop_configuration",children:"\xa0"})]}),"\n",(0,s.jsx)(r.p,{children:"\u4ee5 *.properties \u8a2d\u5b9a\u79fb\u81f3\u5916\u90e8\u6a94\u6848\uff0c\u589e\u52a0\u9748\u6d3b\u8207 DevOp \u5055\u540c"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Log4j \u6703\u5f9e ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"class path"})})," \u4e2d\u5c0b\u627e ",(0,s.jsx)("code",{children:"log4j.properties"}),"\uff0c\u4e26\u8b80\u53d6\u76f8\u95dc\u8a2d\u5b9a\u3002"]}),"\n",(0,s.jsxs)(r.li,{children:["\u8a2d\u5b9a\u7bc4\u4f8b:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"package insect.totem.school.School;"}),"\n",(0,s.jsx)(r.li,{children:"package insect.totem.school.classroom.ClassRoom;"}),"\n",(0,s.jsx)(r.li,{children:"Root Logger \u8cc7\u6599\u8f38\u51fa\u5230 console"}),"\n",(0,s.jsx)(r.li,{children:"School \u7684\u8cc7\u6599\u53ea\u8f38\u51fa\u5230 file"}),"\n",(0,s.jsx)(r.li,{children:"ClassRoom  \u7684\u8cc7\u6599\u53ea\u8f38\u51fa\u5230 email"}),"\n",(0,s.jsx)(r.li,{children:"\u8b8a\u8272\u5340\u57df\u662f\u81ea\u5b9a\u7fa9\u7684\u540d\u7a31"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"log4j.properties"})})}),"\n",(0,s.jsxs)(r.p,{children:["! =========================",(0,s.jsx)(r.br,{}),"\n","! 1. Root Logger \u8a2d\u5b9a (console)",(0,s.jsx)(r.br,{}),"\n","! ========================="]}),"\n",(0,s.jsxs)(r.p,{children:["!\u5b9a\u7fa9 Root Logger \u7684\u7b49\u7d1a\u70ba INFO\uff0c\u4e14\u70ba\u5176\u6307\u5b9a\u4e00\u500b appender \u540d\u70ba ",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"CONSOLE"})," "]}),(0,s.jsx)(r.br,{}),"\n","log4j.rootLogger=INFO, ",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"CONSOLE"})," "]})]}),"\n",(0,s.jsxs)(r.p,{children:["! ",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"CONSOLE"})," "]})," Appender",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"CONSOLE"})," "]}),"=org.apache.log4j.ConsoleAppender"]}),"\n",(0,s.jsxs)(r.p,{children:["!\u6307\u5b9a Console \u7684 Layout",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"CONSOLE"})," "]}),".layout=org.apache.log4j.PatternLayout"]}),"\n",(0,s.jsxs)(r.p,{children:["!\u6307\u5b9a Console Layout \u7684\u8f38\u51fa\u683c\u5f0f",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#0044FF"},children:[" ",(0,s.jsx)(r.strong,{children:"CONSOLE"})," "]}),".layout.ConversionPattern=%d{yyyy-MM-dd HH:mm",":ss","} [%t] %-5p %c - %m%n"]}),"\n",(0,s.jsxs)(r.p,{children:["! =========================",(0,s.jsx)(r.br,{}),"\n","! \u8a2d\u5b9a\u7279\u5b9a\u540d\u7a31\u7684 Logger",(0,s.jsx)(r.br,{}),"\n","! 2. Logger for insect.totem.school.School (file)",(0,s.jsx)(r.br,{}),"\n","! =========================",(0,s.jsx)(r.br,{}),"\n","log4j.",(0,s.jsx)(r.strong,{children:"logger.insect.totem.school.School"}),"=DEBUG, ",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"SCHOOL_FILE"})}),(0,s.jsx)(r.br,{}),"\n","log4j.",(0,s.jsx)(r.strong,{children:"additivity.insect.totem.school.School"}),"=false"]}),"\n",(0,s.jsxs)(r.p,{children:["log4j.appender.",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"SCHOOL_FILE"})}),"=org.apache.log4j.RollingFileAppender",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"SCHOOL_FILE"})}),".File=logs/school.log",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"SCHOOL_FILE"})}),".MaxFileSize=1MB",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"SCHOOL_FILE"})}),".MaxBackupIndex=3",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"SCHOOL_FILE"})}),".layout=org.apache.log4j.PatternLayout",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsx)("span",{style:{color:"#996633"},children:(0,s.jsx)(r.strong,{children:"SCHOOL_FILE"})}),".layout.ConversionPattern=%d{yyyy-MM-dd HH:mm",":ss","} [%t] %-5p %c - %m%n"]}),"\n",(0,s.jsxs)(r.p,{children:["! =========================",(0,s.jsx)(r.br,{}),"\n","! \u8a2d\u5b9a\u7279\u5b9a\u540d\u7a31\u7684 Logger",(0,s.jsx)(r.br,{}),"\n","! 3. Logger for insect.totem.school.classroom.ClassRoom (email)",(0,s.jsx)(r.br,{}),"\n","! =========================",(0,s.jsx)(r.br,{}),"\n","log4j.",(0,s.jsx)(r.strong,{children:"logger.insect.totem.school.classroom.ClassRoom"}),"=ERROR, ",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),(0,s.jsx)(r.br,{}),"\n","log4j.",(0,s.jsx)(r.strong,{children:"additivity.insect.totem.school.classroom.ClassRoom"}),"=false"]}),"\n",(0,s.jsxs)(r.p,{children:["log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),"=org.apache.log4j.net.SMTPAppender",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".Threshold=ERROR",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".SMTPHost=smtp.example.com",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".SMTPUsername=",(0,s.jsx)(r.a,{href:"mailto:your_email@example.com",children:"your_email@example.com"}),(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".SMTPPassword=your_password",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".From=",(0,s.jsx)(r.a,{href:"mailto:your_email@example.com",children:"your_email@example.com"}),(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".To=",(0,s.jsx)(r.a,{href:"mailto:admin@example.com",children:"admin@example.com"}),(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".Subject=Log4j Error in ClassRoom",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".layout=org.apache.log4j.PatternLayout",(0,s.jsx)(r.br,{}),"\n","log4j.appender.",(0,s.jsxs)("span",{style:{color:"#009900"},children:[" ",(0,s.jsx)(r.strong,{children:"MAIL"})," "]}),".layout.ConversionPattern=%d{yyyy-MM-dd HH:mm",":ss","} [%t] %-5p %c - %m%n"]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("a",{class:"btn btn-link","data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample",children:(0,s.jsx)(r.p,{children:"\u5b8c\u6574\u7bc4\u4f8b"})})}),"\n",(0,s.jsx)("div",{class:"collapse",id:"collapseExample",children:(0,s.jsx)("div",{class:"card card-body",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-property",children:"# =========================\r\n# 1. Root Logger \u8a2d\u5b9a (console)\r\n# =========================\r\n    #\u5b9a\u7fa9 Root Logger \u7684\u7b49\u7d1a\u70ba INFO\uff0c\u4e14\u70ba\u5176\u6307\u5b9a\u4e00\u500b appender \u540d\u70ba CONSOLE  \r\n    log4j.rootLogger=INFO, CONSOLE\r\n    \r\n    # Console Appender\r\n    log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\r\n    #\u6307\u5b9a Console \u7684 Layout\r\n    log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\r\n    #\u6307\u5b9a Console Layout \u7684\u8f38\u51fa\u683c\u5f0f\r\n    log4j.appender.CONSOLE.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c - %m%n\r\n    \r\n    \r\n    # =========================\r\n    # 2. Logger for insect.totem.school.School (file)\r\n    # #\u8a2d\u5b9a\u7279\u5b9a\u540d\u7a31\u7684 Logger\r\n    # =========================\r\n    log4j.logger.insect.totem.school.School=DEBUG, SCHOOL_FILE\r\n    log4j.additivity.insect.totem.school.School=false\r\n    \r\n    log4j.appender.SCHOOL_FILE=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.SCHOOL_FILE.File=logs/school.log\r\n    log4j.appender.SCHOOL_FILE.MaxFileSize=1MB\r\n    log4j.appender.SCHOOL_FILE.MaxBackupIndex=3\r\n    log4j.appender.SCHOOL_FILE.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.SCHOOL_FILE.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c - %m%n\r\n    \r\n    \r\n    # =========================\r\n    # 3. Logger for insect.totem.school.classroom.ClassRoom (email)\r\n    # #\u8a2d\u5b9a\u7279\u5b9a\u540d\u7a31\u7684 Logger\r\n    # =========================\r\n    log4j.logger.insect.totem.school.classroom.ClassRoom=ERROR, MAIL\r\n    log4j.additivity.insect.totem.school.classroom.ClassRoom=false\r\n    \r\n    log4j.appender.MAIL=org.apache.log4j.net.SMTPAppender\r\n    log4j.appender.MAIL.Threshold=ERROR\r\n    log4j.appender.MAIL.SMTPHost=smtp.example.com\r\n    log4j.appender.MAIL.SMTPUsername=your_email@example.com\r\n    log4j.appender.MAIL.SMTPPassword=your_password\r\n    log4j.appender.MAIL.From=your_email@example.com\r\n    log4j.appender.MAIL.To=admin@example.com\r\n    log4j.appender.MAIL.Subject=Log4j Error in ClassRoom\r\n    log4j.appender.MAIL.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.MAIL.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c - %m%n\r\n\n"})})})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"\u5340\u584a"}),(0,s.jsx)(r.th,{children:"\u8aaa\u660e"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"rootLogger"})}),(0,s.jsx)(r.td,{children:"\u5168\u57df\u9810\u8a2d Logger\uff0c\u9019\u88e1\u8a2d\u5b9a\u70ba INFO \u7d1a\u5225\u4e26\u8f38\u51fa\u5230 Console\u3002"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"logger.insect.totem.school.School"})}),(0,s.jsx)(r.td,{children:"\u8a2d\u5b9a School \u7684 logger \u70ba DEBUG \u7d1a\u5225\uff0c\u8f38\u51fa\u5230 school.log \u6a94\u6848\u3002\u4f7f\u7528 additivity=false \u907f\u514d\u8f38\u51fa\u91cd\u8907\u5230 root logger\uff08console\uff09\u3002"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"logger.insect.totem.school.classroom.ClassRoom"})}),(0,s.jsx)(r.td,{children:"\u8a2d\u5b9a ClassRoom logger \u70ba ERROR \u7d1a\u5225\uff0c\u4e26\u5c07\u932f\u8aa4\u900f\u904e email \u901a\u77e5\uff0cadditivity=false \u907f\u514d\u8f38\u51fa\u5230\u5176\u4ed6 appender\u3002"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"SMTPAppender"})}),(0,s.jsx)(r.td,{children:"\u70ba email \u901a\u77e5\u7684\u7d44\u4ef6\uff0c\u8a18\u5f97\u66ff\u63db SMTP \u4e3b\u6a5f\u8207\u5e33\u865f\u5bc6\u78bc\u3002"})]})]})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"Java \u4e2d\u4f7f\u7528\u65b9\u5f0f"})})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'    package insect.totem.school;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    public class School {\r\n        private static final Logger logger = Logger.getLogger(School.class);\r\n    \r\n        public void performTask() {\r\n            logger.debug("School debug message - something detailed.");\r\n            logger.info("School info message - general process update.");\r\n            logger.warn("School warning message - something might be wrong.");\r\n        }\r\n    }\n'})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'    package insect.totem.school.classroom;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    public class ClassRoom {\r\n        private static final Logger logger = Logger.getLogger(ClassRoom.class);\r\n        // \u6216 private static final Logger logger = Logger.getLogger(ClassRoom.class.getName());\r\n    \r\n        public void causeError() {\r\n            try {\r\n                // \u6a21\u64ec\u932f\u8aa4\r\n                int result = 10 / 0;\r\n            } catch (Exception e) {\r\n                logger.error("ClassRoom error occurred!", e);\r\n            }\r\n        }\r\n    }\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"xml-\u914d\u7f6e-log4j-",children:["Xml \u914d\u7f6e log4j ",(0,s.jsx)("span",{id:"log4j_xml_configuration",children:"\xa0"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"\u9700\u5c07 log4j.xml \u653e\u5728\u4f60\u7684 classpath \u6839\u76ee\u9304"}),"\n",(0,s.jsx)(r.li,{children:"\u76f8\u540c\u60c5\u5883\u6539\u4ee5 xml \u8a2d\u5b9a"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:(0,s.jsx)(r.strong,{children:"log4j.xml"})})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:'    <?xml version="1.0" encoding="UTF-8"?>\r\n    <!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">\r\n    \r\n    <log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">\r\n    \r\n      \x3c!-- ========== Root Logger\uff1a\u8f38\u51fa\u5230 console ========== --\x3e\r\n      <root>\r\n        <priority value="info" />\r\n        <appender-ref ref="CONSOLE" />\r\n      </root>\r\n    \r\n      \x3c!-- ========== Logger for insect.totem.school.School\uff1a\u8f38\u51fa\u5230 file ========== --\x3e\r\n      <logger name="insect.totem.school.School" additivity="false">\r\n        <level value="debug" />\r\n        <appender-ref ref="SCHOOL_FILE" />\r\n      </logger>\r\n    \r\n      \x3c!-- ========== Logger for insect.totem.school.classroom.ClassRoom\uff1a\u8f38\u51fa\u5230 email ========== --\x3e\r\n      <logger name="insect.totem.school.classroom.ClassRoom" additivity="false">\r\n        <level value="error" />\r\n        <appender-ref ref="MAIL" />\r\n      </logger>\r\n    \r\n      \x3c!-- ========== Appender\uff1aCONSOLE ========== --\x3e\r\n      <appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender">\r\n        <layout class="org.apache.log4j.PatternLayout">\r\n          <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c - %m%n"/>\r\n        </layout>\r\n      </appender>\r\n    \r\n      \x3c!-- ========== Appender\uff1aSCHOOL_FILE ========== --\x3e\r\n      <appender name="SCHOOL_FILE" class="org.apache.log4j.RollingFileAppender">\r\n        <param name="File" value="logs/school.log"/>\r\n        <param name="MaxFileSize" value="1MB"/>\r\n        <param name="MaxBackupIndex" value="3"/>\r\n        <layout class="org.apache.log4j.PatternLayout">\r\n          <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c - %m%n"/>\r\n        </layout>\r\n      </appender>\r\n    \r\n      \x3c!-- ========== Appender\uff1aMAIL ========== --\x3e\r\n      <appender name="MAIL" class="org.apache.log4j.net.SMTPAppender">\r\n        <param name="Threshold" value="ERROR"/>\r\n        <param name="SMTPHost" value="smtp.example.com"/>\r\n        <param name="SMTPUsername" value="your_email@example.com"/>\r\n        <param name="SMTPPassword" value="your_password"/>\r\n        <param name="From" value="your_email@example.com"/>\r\n        <param name="To" value="admin@example.com"/>\r\n        <param name="Subject" value="Log4j Error in ClassRoom"/>\r\n        <layout class="org.apache.log4j.PatternLayout">\r\n          <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c - %m%n"/>\r\n        </layout>\r\n      </appender>\r\n    \r\n    </log4j:configuration>\r\n\n'})})]})}function t(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);