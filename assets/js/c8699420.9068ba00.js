"use strict";(self.webpackChunkinsect_totem=self.webpackChunkinsect_totem||[]).push([[2372],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var i=r(96540);const t={},c=i.createContext(t);function s(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(c.Provider,{value:n},e.children)}},72006:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"Git/Git_Scenario","title":"Git \u4f7f\u7528\u60c5\u5883","description":"Git \u4f7f\u7528\u60c5\u5883","source":"@site/docs/040_Git/Git_Scenario.md","sourceDirName":"040_Git","slug":"/Git/Git_Scenario","permalink":"/docs/Git/Git_Scenario","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Git \u4f7f\u7528\u60c5\u5883","description":"Git \u4f7f\u7528\u60c5\u5883","keywords":["Git"]},"sidebar":"totem_sidebar","previous":{"title":"Git \u5efa\u7acb\u65b0\u5c08\u6848 vscode","permalink":"/docs/Git/Git_New_Repo_vscode"},"next":{"title":"Git Log \u6307\u4ee4","permalink":"/docs/Git/Git_log"}}');var t=r(74848),c=r(28453);const s={title:"Git \u4f7f\u7528\u60c5\u5883",description:"Git \u4f7f\u7528\u60c5\u5883",keywords:["Git"]},l=void 0,a={},o=[{value:"\u5e38\u898b\u60c5\u5883\u6574\u7406",id:"\u5e38\u898b\u60c5\u5883\u6574\u7406",level:2},{value:"\u261e \u79fb\u9664 remote \u7aef\u4e0d\u518d\u4f7f\u7528\u7684 branch",id:"-\u79fb\u9664-remote-\u7aef\u4e0d\u518d\u4f7f\u7528\u7684-branch",level:3},{value:"\u261e \u79fb\u9664\u5df2 merged \u7684 branch",id:"-\u79fb\u9664\u5df2-merged-\u7684-branch",level:3},{value:"\u261e ignore \u5df2\u9032\u5165\u7ba1\u63a7\u7684\u6a94\u6848",id:"-ignore-\u5df2\u9032\u5165\u7ba1\u63a7\u7684\u6a94\u6848",level:3},{value:"\u261e \u67e5\u8a62\u5df2\u88ab\u522a\u9664\u7684 tags",id:"-\u67e5\u8a62\u5df2\u88ab\u522a\u9664\u7684-tags",level:3},{value:"\u261e \u56de\u5fa9\u4e0d\u8a72\u9001\u4ea4\u7684\u5167\u5bb9",id:"-\u56de\u5fa9\u4e0d\u8a72\u9001\u4ea4\u7684\u5167\u5bb9",level:3}];function h(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["\u57fa\u672c\u4e0a\u5efa\u8b70\uff0c",(0,t.jsx)(n.br,{}),"\n","\u82e5\u662f\u9700\u8981\u5c07\u5df2\u7d93 commit \u5167\u5bb9\u522a\u9664 (tag remove...)\uff0c",(0,t.jsx)(n.br,{}),"\n","\u6216\u662f\u60f3\u5c07 branch \u5f80\u56de\u9000 (reset)\u3002",(0,t.jsx)(n.br,{}),"\n","\u5728\u505a\u9019\u985e\u64cd\u4f5c\u524d\u53ef\u4ee5\u5148\u5728\u6700\u5f8c\u7684 commit \u9ede\u5148\u5efa\u7acb\u4e00\u500b\u66ab\u6642\u7684 branch\uff0c",(0,t.jsx)(n.br,{}),"\n","\u5148\u7559\u500b\u5e95\uff0c\u518d\u505a\u79fb\u9664\u64cd\u4f5c\u3002\u907f\u514d\u8a08\u756b\u6539\u8b8a\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5e38\u898b\u60c5\u5883\u6574\u7406",children:"\u5e38\u898b\u60c5\u5883\u6574\u7406"}),"\n",(0,t.jsx)(n.h3,{id:"-\u79fb\u9664-remote-\u7aef\u4e0d\u518d\u4f7f\u7528\u7684-branch",children:"\u261e \u79fb\u9664 remote \u7aef\u4e0d\u518d\u4f7f\u7528\u7684 branch"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5148\u5207\u63db\u5230\u6307\u5b9a branch"}),"\n",(0,t.jsxs)(n.li,{children:["\u53c3\u8003\u4f86\u6e90: ",(0,t.jsx)(n.a,{href:"http://git-scm.com/docs/git-remote",children:"git-remote"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"* \u5148\u5207\u63db\u5230\u6307\u5b9a branch\r\n    $git checkout <branch> \r\n    $git switch <branch>\r\n    \r\n    $git remote update --prune\n"})}),"\n",(0,t.jsx)(n.h3,{id:"-\u79fb\u9664\u5df2-merged-\u7684-branch",children:"\u261e \u79fb\u9664\u5df2 merged \u7684 branch"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"<Pattern> : beanch name \u7684 pattern"}),"\n",(0,t.jsxs)(n.li,{children:["\u53c3\u8003\u4f86\u6e90: ",(0,t.jsx)(n.a,{href:"http://stackoverflow.com/questions/6127328/how-can-i-delete-all-git-branches-which-have-been-merged",children:"how-can-i-delete-all-git-branches-which-have-been-merged"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"*  \u5148\u78ba\u8a8d\u5217\u51fa\u7684\u662f\u9810\u8a08\u8981\u522a\u9664\u7684 branch\r\n    $git branch -r --merged|grep '<Pattern>'|\r\n        sed 's/origin\\///'\r\n        \r\n    git branch -r --merged|grep '<Pattern>'|\r\n        sed 's/origin\\///' | xargs -n 1 git push origin --delete    \n"})}),"\n",(0,t.jsx)(n.h3,{id:"-ignore-\u5df2\u9032\u5165\u7ba1\u63a7\u7684\u6a94\u6848",children:"\u261e ignore \u5df2\u9032\u5165\u7ba1\u63a7\u7684\u6a94\u6848"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"local \u5148\u79fb\u7f6e\u4e0d\u60f3\u88ab\u7ba1\u63a7\u7684\u6a94\u6848\u5230\u5c08\u6848\u5916\u90e8"}),"\n",(0,t.jsx)(n.li,{children:"commit"}),"\n",(0,t.jsx)(n.li,{children:"\u5c07\u6a94\u6848\u79fb\u56de"}),"\n",(0,t.jsx)(n.li,{children:"\u64b0\u5beb .gitignore\uff0c\u6307\u660e\u90a3\u4e9b\u4e0d\u60f3\u7248\u672c\u7ba1\u63a7\u7684\u6a94\u6848"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-\u67e5\u8a62\u5df2\u88ab\u522a\u9664\u7684-tags",children:"\u261e \u67e5\u8a62\u5df2\u88ab\u522a\u9664\u7684 tags"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u627e\u51fa\u672a\u88ab\u53c3\u8003\u5230\u7684 commit sha-1"}),"\n",(0,t.jsx)(n.li,{children:"git show \u770b\u5167\u5bb9"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-baash",children:"    $git fsck --unreachable | grep tag\r\n    \r\n    $git show commit-sha1\r\n    \r\n    for commit in `git fsck --unreachable | grep tag | awk '{ print $3 }'`; do\r\n       git show $commit | grep -E \"^(tag|Tagger)\";\r\n    done\n"})}),"\n",(0,t.jsx)(n.h3,{id:"-\u56de\u5fa9\u4e0d\u8a72\u9001\u4ea4\u7684\u5167\u5bb9",children:"\u261e \u56de\u5fa9\u4e0d\u8a72\u9001\u4ea4\u7684\u5167\u5bb9"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"commit \u5fa9\u539f\u4e26\u5f37\u5236\u9001\u7f6e\u9060\u7aef"}),"\n",(0,t.jsx)(n.li,{children:"\u57fa\u672c\u4e0a\u662f\u8aa4\u64cd\u4f5c\uff0c\u662f\u7ba1\u7406\u4e0a\u7684\u554f\u984c\u3002\u9019\u908a\u8aaa\u660e\u88dc\u6551\u63aa\u65bd\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u5728 local branch \u9000\u56de\u5230\u4e0a n \u500b commit (n \u8981\u66ff\u63db\u6210\u6578\u5b57)"}),"\n",(0,t.jsx)(n.li,{children:"\u4f7f\u7528 --force \u5f37\u5236 remote branch \u56de\u5230\u4e0a n \u500b commit"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"    $git reset --hard HEAD~n\r\n    \r\n    $git push origin/<branchName> --force\r\n\n"})})]})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);