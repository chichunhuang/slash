"use strict";(self.webpackChunktotem=self.webpackChunktotem||[]).push([[7727],{56745:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>n,contentTitle:()=>p,default:()=>m,frontMatter:()=>r,metadata:()=>a,toc:()=>S});var s=l(87462),o=(l(67294),l(3905));const r={title:"PosgreSQL copy CSV to table",description:"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",keywords:["postgresql","copy","CSV"]},p="PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",a={unversionedId:"DevTech/PostgreSQL/PosgreSQL_copy_CSV_to_table",id:"DevTech/PostgreSQL/PosgreSQL_copy_CSV_to_table",title:"PosgreSQL copy CSV to table",description:"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",source:"@site/docs/DevTech/PostgreSQL/PosgreSQL_copy_CSV_to_table.md",sourceDirName:"DevTech/PostgreSQL",slug:"/DevTech/PostgreSQL/PosgreSQL_copy_CSV_to_table",permalink:"/en/docs/DevTech/PostgreSQL/PosgreSQL_copy_CSV_to_table",draft:!1,tags:[],version:"current",frontMatter:{title:"PosgreSQL copy CSV to table",description:"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV",keywords:["postgresql","copy","CSV"]},sidebar:"totem_sidebar",previous:{title:"PosgreSQL Backup and Restore",permalink:"/en/docs/DevTech/PostgreSQL/PosgreSQL_Backup_and_Restore"},next:{title:"PosgreSQL copy from CSV",permalink:"/en/docs/DevTech/PostgreSQL/PosgreSQL_copy_from_CSV"}},n={},S=[{value:"export.sql \u5167\u5bb9\u7bc4\u4f8b",id:"exportsql-\u5167\u5bb9\u7bc4\u4f8b",level:2},{value:"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f",level:2},{value:"psql \u57f7\u884c\u65b9\u5f0f",id:"psql-\u57f7\u884c\u65b9\u5f0f",level:2}],c={toc:S},i="wrapper";function m(e){let{components:t,...l}=e;return(0,o.kt)(i,(0,s.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"posgresql-\u8cc7\u6599\u532f\u51fa\u6210-csv"},"PosgreSQL \u8cc7\u6599\u532f\u51fa\u6210 CSV"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"example: totem_user \u8cc7\u6599\u8868\u5167\u5bb9\u8f38\u51fa\u5230 /tmp/result.csv\u3002",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"step1: export.sql \u6307\u4ee4\u6a94\u6e96\u5099"),(0,o.kt)("li",{parentName:"ul"},"step2: SQL Shell(psql) \u57f7\u884c export.sql \u5167\u5bb9\u65b9\u5f0f")))),(0,o.kt)("h2",{id:"exportsql-\u5167\u5bb9\u7bc4\u4f8b"},"export.sql \u5167\u5bb9\u7bc4\u4f8b"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u8a3b: \u4e0b\u9762\u7bc4\u4f8b\u5c07 copy \u6307\u4ee4\u62c6\u6210\u591a\u884c\u65b9\u4fbf\u95b1\u8b80\uff0c\u5be6\u969b\u4f7f\u7528\u6642\u5efa\u8b70\u907f\u514d\u51fa\u73fe\u65b7\u884c\u3002")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"\\encoding UTF8\n\\timing on\n\\COPY  \n  ( \n      select username, expired_date, email from totem_user\n   ) \n   to '/tmp/result.csv' DELIMITER ',' CSV HEADER FORCE QUOTE * ;\n\\timing off\n")),(0,o.kt)("h2",{id:"sql-shellpsql-\u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f"},"SQL Shell(psql) \u767b\u5165\u5f8c\u57f7\u884c\u65b9\u5f0f"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"totem=# \\i 'D:/tmp/export.sql'\n")),(0,o.kt)("h2",{id:"psql-\u57f7\u884c\u65b9\u5f0f"},"psql \u57f7\u884c\u65b9\u5f0f"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"psql -U postgres -d totem -p xxxx -h xxx.xxx.xxx.xxx -f export.sql\n")),(0,o.kt)("h1",{id:"\u53c3\u8003"},"\u53c3\u8003"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"./PosgreSQL_copy_from_CSV"},"PostgreSQL \u81ea CSV \u6a94\u532f\u5165\u8cc7\u6599")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"./SqlShell_psql_Basic"},"PosgreSQL:\u76f4\u63a5\u65bc SQL Shell (psql) \u57f7\u884c sql \u6a94"))))}m.isMDXComponent=!0}}]);